<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ğŸŒ¸æ¨±èŠ±é…’å§ğŸ»</title>
  
  <subtitle>ğŸŒ¸Sakura-PubğŸ»</subtitle>
  <link href="http://sakura-pub.ltd/atom.xml" rel="self"/>
  
  <link href="http://sakura-pub.ltd/"/>
  <updated>2021-07-21T03:38:55.311Z</updated>
  <id>http://sakura-pub.ltd/</id>
  
  <author>
    <name>Sakura.</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Unityç¬”è®°15-ä½¿ç”¨æ¥å£å®ç°è§‚å¯Ÿè€…æ¨¡å¼çš„è®¢é˜…å’Œå¹¿æ’­</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B015-%E4%BD%BF%E7%94%A8%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E8%AE%A2%E9%98%85%E5%92%8C%E5%B9%BF%E6%92%AD/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B015-%E4%BD%BF%E7%94%A8%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E8%AE%A2%E9%98%85%E5%92%8C%E5%B9%BF%E6%92%AD/</id>
    <published>2021-07-21T01:30:13.000Z</published>
    <updated>2021-07-21T03:38:55.311Z</updated>
    
    <content type="html"><![CDATA[<p> è¿™ä¸€ç« æˆ‘ä»¬ä½¿ç”¨æ¥å£æ¥å®ç°è§‚å¯Ÿè€…æ¨¡å¼çš„è®¢é˜…å’Œå¹¿æ’­ï¼ŒåŒæ—¶ä¹Ÿæ¥å®ç°ç©å®¶æ­»äº†æ¸¸æˆç»“æŸä¹‹åæ•Œäººçš„è·èƒœåŠ¨ç”»</p><h1 id="ç¼–å†™æ¥å£"><a href="#ç¼–å†™æ¥å£" class="headerlink" title="ç¼–å†™æ¥å£"></a>ç¼–å†™æ¥å£</h1><p>åœ¨<code>Tools</code>æ–‡ä»¶å¤¹ä¸‹æˆ‘ä»¬æ–°å»ºä¸€ä¸ªä»£ç æ–‡ä»¶<code>IEndGameObserver.cs</code>è¡¨ç¤ºæ¸¸æˆç»“æŸä¹‹åçš„æ¥å£</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IEndGameObserver</span><span class="token punctuation">&#123;</span>    <span class="token comment">//æ³¨æ„æ¥å£åªå†™å£°æ˜ä¸å†™å®šä¹‰</span>    <span class="token comment">//æ¸¸æˆç»“æŸè¦æ“ä½œçš„éƒ½åœ¨è¿™ä¸ªæ¥å£å®ç°</span>    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">EndNotify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åæˆ‘ä»¬æ¥åˆ°<code>EnemyController.cs</code>ç¼–å†™ä¸€ä¸ªå¹¿æ’­æ–¹æ³•</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnemyController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span><span class="token punctuation">,</span><span class="token class-name">IEndGameObserver</span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">EndNotify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//è·èƒœåŠ¨ç”»</span>        <span class="token comment">//åœæ­¢æ‰€æœ‰ç§»åŠ¨</span>        <span class="token comment">//åœæ­¢Agent</span>        isChase <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        isWalk <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        attackTarget <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶å®ƒè¦åœ¨æ¸¸æˆç»“æŸæ—¶è¦æœ‰æ“ä½œçš„ä»£ç ä¹Ÿå¯ä»¥åƒè¿™ç§æ–¹å¼æ¥ç»§æ‰¿æ¥å£å¹¶å®ç°æ“ä½œ</p><h1 id="è®¢é˜…æ¥å£"><a href="#è®¢é˜…æ¥å£" class="headerlink" title="è®¢é˜…æ¥å£"></a>è®¢é˜…æ¥å£</h1><p>å› ä¸ºæˆ‘ä»¬ä¼šæœ‰å¾ˆå¤šä¸åŒçš„ä»£ç æ–‡ä»¶éƒ½ä¼šç»§æ‰¿è¿™ä¸ªæ¥å£ï¼Œæ€æ ·æ¥ç®¡ç†è®¢é˜…ä¹Ÿæ˜¯å€¼å¾—è€ƒè™‘çš„äº‹æƒ…</p><p>æ‰“å¼€ä¸Šä¸€ç« åˆ›å»ºçš„<code>GameManager.cs</code></p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GameManager</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Sigltion<span class="token punctuation">&lt;</span>GameManager<span class="token punctuation">></span></span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">CharacterStates</span> playerStates<span class="token punctuation">;</span>    <span class="token comment">//æ¸¸æˆç»“æŸæ—¶è°ƒç”¨çš„æ–¹æ³•çš„æ•°ç»„</span>    List<span class="token operator">&lt;</span>IEndGameObserver<span class="token operator">></span>endGameObservers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>IEndGameObserver<span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">RigisterPlayer</span><span class="token punctuation">(</span><span class="token class-name">CharacterStates</span> player<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//é€šè¿‡å¤–ç•Œæ³¨å†Œçš„æ–¹å¼æ¥è·å¾—å¯¹è±¡çš„playerStates</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>playerStates <span class="token operator">=</span> player<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">AddObserve</span><span class="token punctuation">(</span><span class="token class-name">IEndGameObserver</span> gameObserver<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//åŠ å…¥å¾…æ“ä½œæ•°ç»„</span>        endGameObservers<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>gameObserver<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">RemoveObserve</span><span class="token punctuation">(</span><span class="token class-name">IEndGameObserver</span> gameObserver<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//å°†ç‰¹å®šçš„è§‚å¯Ÿè€…åœ¨å¾…æ“ä½œæ•°ç»„ä¸­åˆ é™¤</span>        endGameObservers<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>gameObserver<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">NotifyObserves</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//è°ƒç”¨å¾…æ“ä½œæ•°ç»„ä¸­æ¯ä¸€ä¸ªè§‚å¯Ÿè€…</span>        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token class-name">IEndGameObserver</span> gameObserver <span class="token keyword">in</span> endGameObservers<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            gameObserver<span class="token punctuation">.</span><span class="token function">EndNotify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å› ä¸ºæˆ‘ä»¬æ˜¯è¦åœ¨ä¸»è§’æ­»äº†ä¹‹åå¼€å§‹æ¸¸æˆç»“æŸçš„æ“ä½œï¼Œæ‰€ä»¥å›åˆ°<code>PlayerController.cs</code>åœ¨åˆ¤æ–­ä¸»è§’æ­»äº†ä¹‹åè°ƒç”¨å¹¿æ’­</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>charcterStates<span class="token punctuation">.</span>currentHealth <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//åˆ¤æ–­æ­»äº¡</span>        isDead <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        GameManager<span class="token punctuation">.</span>Instance<span class="token punctuation">.</span><span class="token function">NotifyObserves</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŒæ—¶æˆ‘ä»¬åœ¨<code>EnemyController.cs</code>ä¸­è¿˜è¦è¡¥å……ä¸€ä¸ªåŠ å…¥å¾…æ“ä½œæ•°ç»„æ–¹æ³•å’Œç§»é™¤æ–¹æ³•</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnEnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    GameManager<span class="token punctuation">.</span>Instance<span class="token punctuation">.</span><span class="token function">AddObserve</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    GameManager<span class="token punctuation">.</span>Instance<span class="token punctuation">.</span><span class="token function">RemoveObserve</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="é…ç½®æ•Œäººèƒœåˆ©åŠ¨ç”»"><a href="#é…ç½®æ•Œäººèƒœåˆ©åŠ¨ç”»" class="headerlink" title="é…ç½®æ•Œäººèƒœåˆ©åŠ¨ç”»"></a>é…ç½®æ•Œäººèƒœåˆ©åŠ¨ç”»</h1><p>æˆ‘ä»¬æ‰“å¼€åŠ¨ç”»ç®¡ç†å™¨ï¼Œé…ç½®æ•Œäººåœ¨æ‰“æ­»ä¸»è§’åçš„åŠ¨ç”»</p><p>æ–°å»ºä¸€ä¸ª<code>Victory Layer</code>ï¼ˆæ³¨æ„æƒé‡å€¼ä¸º1ï¼‰ï¼Œä»¥åŠä¸€ä¸ª<code>Win</code>å¸ƒå°”å€¼æ§åˆ¶åŠ¨ç”»è§¦å‘</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/85512e9ac113448c808c81d1b29dc079.png" alt="1.png" style="zoom:80%;" /><p>è¿”å›<code>EnemyController.cs</code>ä»£ç æˆ‘ä»¬è¦é…ç½®åŠ¨ç”»å˜é‡ä»€ä¹ˆæ—¶å€™è§¦å‘</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>charcterStates<span class="token punctuation">.</span>currentHealth <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>        isDead <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//è¡€é‡å˜0åˆ™æ­»äº¡çŠ¶æ€ä¸ºçœŸ</span>    <span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//åŠ äº†ä¸ªelseæ˜¯é˜²æ­¢æ­»åæ•Œäººåœ¨èƒœåˆ©åŠ¨ç”»ä¸‹ä¸€å¸§åˆç»™åˆ‡æ¢å›æ™®é€šåŠ¨ç”»</span>        <span class="token function">SwitchEnemyStates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">SwitchAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        lastAttackTime<span class="token operator">-=</span>Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">;</span><span class="token comment">//æ¯ä¸€å¸§éƒ½å‡å†·å´</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">EndNotify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//è·èƒœåŠ¨ç”»</span>    <span class="token comment">//åœæ­¢æ‰€æœ‰ç§»åŠ¨</span>    <span class="token comment">//åœæ­¢Agent</span>    anim<span class="token punctuation">.</span><span class="token function">SetBool</span><span class="token punctuation">(</span><span class="token string">"Win"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    isChase <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    isWalk <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    attackTarget <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ°è¿™é‡Œæˆ‘ä»¬å°±å®ç°äº†</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt; è¿™ä¸€ç« æˆ‘ä»¬ä½¿ç”¨æ¥å£æ¥å®ç°è§‚å¯Ÿè€…æ¨¡å¼çš„è®¢é˜…å’Œå¹¿æ’­ï¼ŒåŒæ—¶ä¹Ÿæ¥å®ç°ç©å®¶æ­»äº†æ¸¸æˆç»“æŸä¹‹åæ•Œäººçš„è·èƒœåŠ¨ç”»&lt;/p&gt;
&lt;h1 id=&quot;ç¼–å†™æ¥å£&quot;&gt;&lt;a href=&quot;#ç¼–å†™æ¥å£&quot; class=&quot;headerlink&quot; title=&quot;ç¼–å†™æ¥å£&quot;&gt;&lt;/a&gt;ç¼–å†™æ¥å£&lt;/h1&gt;&lt;p&gt;åœ¨&lt;code</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°14-æ³›å‹å•ä¾‹æ¨¡å¼</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B014-%E6%B3%9B%E5%9E%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B014-%E6%B3%9B%E5%9E%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</id>
    <published>2021-07-20T01:52:36.000Z</published>
    <updated>2021-07-21T01:34:24.792Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸€ç« æˆ‘ä»¬æ¥ç¼–å†™ä¸€ä¸ªæ³›å‹å•ä¾‹æ¨¡å¼çš„ä»£ç ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„é¡¹ç›®ä¸­ä¼šæœ‰å¾ˆå¤šçš„<code>Manager</code>ï¼Œå¦‚æœæ¯ä¸ªéƒ½ä½¿ç”¨å•ä¾‹æ¨¡å¼ä¼šæ›´å¥½åœ°å»ç®¡ç†å’Œä½¿ç”¨</p><p>ä¾‹å¦‚å…¶ä¸­æ§åˆ¶æˆ‘ä»¬æ¸¸æˆçš„å¼€å§‹æš‚åœç­‰ä¸€èˆ¬æ˜¯ç”¨<code>Game Manager</code>æ¥å‘½åï¼Œæˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªä»£ç æ–‡ä»¶ä»¥åŠä¸€ä¸ªç©ºå¯¹è±¡ä½¿å¾—ä»£ç å¯ä»¥ä¾é™„åœ¨å®ƒä¸Šé¢</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/d8bf83d3ad554952a66a0b00aafc1b96.png" alt="1.png" style="zoom:80%;" /><p>è¿™ä¸ªä»£ç æˆ‘ä»¬å…ˆæ”¾åœ¨ä¸€è¾¹ä¹‹åå†è¡¥å……ï¼Œå…ˆæŠŠæ³›å‹å•ä¾‹æ¨¡å¼ä»£ç å†™äº†å…ˆ</p><h1 id="æ³›å‹å•ä¾‹æ¨¡å¼"><a href="#æ³›å‹å•ä¾‹æ¨¡å¼" class="headerlink" title="æ³›å‹å•ä¾‹æ¨¡å¼"></a>æ³›å‹å•ä¾‹æ¨¡å¼</h1><p>åˆ›å»ºç›®å½•æ–‡ä»¶å¦‚ä¸‹</p><img src="https://p26-tt.byteimg.com/origin/pgc-image/86a804f3de9a4c9b960af8c63dd89626.png" alt="2.png" style="zoom:80%;" /><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sigltion<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span> <span class="token keyword">where</span> <span class="token class-name">T</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Sigltion<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">T</span> instance<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">T</span> Instance<span class="token punctuation">&#123;</span>        <span class="token keyword">get</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> instance<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å…è®¸å­ç±»å¯¹Awakeè¿›è¡Œé‡å†™</span>    <span class="token keyword">protected</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>instance <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>            <span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">else</span>            instance <span class="token operator">=</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ£€æµ‹å•ä¾‹æ˜¯å¦ç”Ÿæˆ</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> IsInitialized<span class="token punctuation">&#123;</span>        <span class="token keyword">get</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> instance <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å…è®¸å­ç±»ä¿®æ”¹é”€æ¯æ—¶çš„æ“ä½œ</span>    <span class="token keyword">protected</span> <span class="token keyword">virtual</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span>            instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·ä¸€æ—¦ä¸€ä¸ªAç±»ç»§æ‰¿äº†<code>Sigltion&lt;A&gt;</code>ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å…¶å®ƒç±»ä¸­è°ƒç”¨Aç±»çš„å•ä¾‹ï¼Œå¦‚ï¼š<code>A.Instance</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è¿™ä¸€ç« æˆ‘ä»¬æ¥ç¼–å†™ä¸€ä¸ªæ³›å‹å•ä¾‹æ¨¡å¼çš„ä»£ç ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„é¡¹ç›®ä¸­ä¼šæœ‰å¾ˆå¤šçš„&lt;code&gt;Manager&lt;/code&gt;ï¼Œå¦‚æœæ¯ä¸ªéƒ½ä½¿ç”¨å•ä¾‹æ¨¡å¼ä¼šæ›´å¥½åœ°å»ç®¡ç†å’Œä½¿ç”¨&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚å…¶ä¸­æ§åˆ¶æˆ‘ä»¬æ¸¸æˆçš„å¼€å§‹æš‚åœç­‰ä¸€èˆ¬æ˜¯ç”¨&lt;code&gt;Game Manager&lt;/code&gt;æ¥å‘½åï¼Œæˆ‘ä»¬æ¥</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°13-æ•Œäººçš„å®ˆå«çŠ¶æ€å’Œæ­»äº¡çŠ¶æ€</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B013-%E6%95%8C%E4%BA%BA%E7%9A%84%E5%AE%88%E5%8D%AB%E7%8A%B6%E6%80%81%E5%92%8C%E6%AD%BB%E4%BA%A1%E7%8A%B6%E6%80%81/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B013-%E6%95%8C%E4%BA%BA%E7%9A%84%E5%AE%88%E5%8D%AB%E7%8A%B6%E6%80%81%E5%92%8C%E6%AD%BB%E4%BA%A1%E7%8A%B6%E6%80%81/</id>
    <published>2021-07-19T01:43:57.000Z</published>
    <updated>2021-07-19T04:08:52.903Z</updated>
    
    <content type="html"><![CDATA[<p> è¿™ä¸€ç« èŠ‚æˆ‘ä»¬æ¥åˆ¶ä½œæ•Œäººçš„å®ˆå«çŠ¶æ€å’Œæ­»äº¡çŠ¶æ€</p><h1 id="æ•Œäººçš„å®ˆå«çŠ¶æ€ï¼ˆGuardï¼‰"><a href="#æ•Œäººçš„å®ˆå«çŠ¶æ€ï¼ˆGuardï¼‰" class="headerlink" title="æ•Œäººçš„å®ˆå«çŠ¶æ€ï¼ˆGuardï¼‰"></a>æ•Œäººçš„å®ˆå«çŠ¶æ€ï¼ˆGuardï¼‰</h1><p>æ‰“å¼€<code>EnemyController.cs</code></p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">private</span> <span class="token class-name">Quaternion</span> guardRotation<span class="token punctuation">;</span><span class="token comment">//è®°å½•æ•Œäººæœ€åˆçš„æ—‹è½¬è§’åº¦ï¼Œç”¨äºè„±ç¦»è¿½å‡»å›å»å®ˆå«ç‚¹ç –å¤´è½¬å¤´</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//...</span>    guardRotation <span class="token operator">=</span> transform<span class="token punctuation">.</span>rotation<span class="token punctuation">;</span><span class="token comment">//è·å¾—æœ€åˆæ—‹è½¬è§’åº¦</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SwitchEnemyStates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//...</span>    <span class="token keyword">switch</span><span class="token punctuation">(</span>enemyStates<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>GUARD<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>å®ˆå«çŠ¶æ€            isChase <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//è„±ç¦»è¿½å‡»çŠ¶æ€</span>            <span class="token comment">//å¦‚æœåœ¨è¿½å‡»ä¸»è§’æ—¶å›åˆ°å®ˆå«çŠ¶æ€ï¼Œå°±è¦è·‘å›å®ˆå«ç‚¹</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>transform<span class="token punctuation">.</span>position <span class="token operator">!=</span> guardPos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                isWalk <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//æ’­æ”¾èµ°è·¯åŠ¨ç”»</span>                agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token comment">//å¯¼èˆªå›æœ€åˆå®ˆå«ç‚¹</span>                agent<span class="token punctuation">.</span>destination <span class="token operator">=</span> guardPos<span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span><span class="token function">SqrMagnitude</span><span class="token punctuation">(</span>guardPos <span class="token operator">-</span> transform<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token operator">&lt;=</span>agent<span class="token punctuation">.</span>stoppingDistance<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token comment">//SqrMagnitudeä¹Ÿæ˜¯å¯ä»¥ç”¨äºæ¯”è¾ƒè·ç¦»çš„æ–¹æ³•ï¼Œæ¯”èµ·Distanceç¨å¾®å¿«ä¸€äº›</span>                    <span class="token comment">//è¿™é‡Œæ˜¯åˆ¤æ–­æ˜¯å¦åˆ°è¾¾æœ€åˆå®ˆå«ç‚¹å¯ä»¥åœæ­¢èŒƒå›´</span>                    isWalk <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                    <span class="token comment">//æ…¢æ…¢è½¬å¤´ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°è¶Šæ¥è¿‘1è½¬å¾—è¶Šå¿«</span>                    transform<span class="token punctuation">.</span>rotation <span class="token operator">=</span> Quaternion<span class="token punctuation">.</span><span class="token function">Lerp</span><span class="token punctuation">(</span>transform<span class="token punctuation">.</span>rotation<span class="token punctuation">,</span>guardRotation<span class="token punctuation">,</span><span class="token number">0.01f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œæˆ‘ä»¬å°±å†™å¥½äº†å®ˆå«çŠ¶æ€çš„ä»£ç ï¼Œå…¶ä¸­<code>SqrMagnitude()</code>ä½œç”¨å’Œ<code>Distance()</code>ä¸€æ ·éƒ½æ˜¯æ¯”è¾ƒä¸¤ä¸ªç‚¹çš„è·ç¦»ï¼Œç„¶åæˆ‘ä»¬è¿˜åŠ äº†æ…¢æ…¢è½¬å¤´çš„æ•ˆæœï¼Œå¦åˆ™æ•Œäººå›åˆ°å®ˆå«ç‚¹æ˜¯ä¸ä¼šè½¬å¤´çš„</p><h1 id="æ­»äº¡çŠ¶æ€"><a href="#æ­»äº¡çŠ¶æ€" class="headerlink" title="æ­»äº¡çŠ¶æ€"></a>æ­»äº¡çŠ¶æ€</h1><p>æˆ‘ä»¬å¸Œæœ›å½“æ•Œäººè¡€é‡ä¸º0æ—¶æ’­æ”¾æ­»äº¡åŠ¨ç”»å¹¶ä¸”å°¸ä½“æ¶ˆå¤±æ‰</p><h2 id="è®¾ç½®æ­»äº¡åŠ¨ç”»"><a href="#è®¾ç½®æ­»äº¡åŠ¨ç”»" class="headerlink" title="è®¾ç½®æ­»äº¡åŠ¨ç”»"></a>è®¾ç½®æ­»äº¡åŠ¨ç”»</h2><p>æ‰“å¼€åŠ¨ç”»æ§åˆ¶å™¨ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ª<code>Death Layer</code>ï¼Œä¸è¦å¿˜äº†æƒé‡è®¾ä¸º1</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/32be87ac0205413280a7f42a61d7296e.png" alt="1.png" style="zoom:80%;" /><p>è¿™é‡Œæœ‰ä¸ª<code>GetHit</code>æ˜¯ç”¨æ¥åšæš´å‡»ä¼¤å®³å—ä¼¤æ•ˆæœçš„ï¼Œå®ƒæœ‰å·¦è¾¹çš„<code>Hit</code>è§¦å‘ï¼Œè€Œæˆ‘ä»¬çš„æ­»äº¡åŠ¨ç”»<code>Die</code>è¿ç€<code>Any State</code>è¡¨ç¤ºä»»ä½•çŠ¶æ€éƒ½èƒ½è½¬ç§»è¿‡æ¥ï¼Œç”±å¸ƒå°”å€¼<code>Death</code>æ§åˆ¶</p><p><strong>ç‰¹åˆ«è¦æ³¨æ„çš„åœ°æ–¹ï¼š</strong>å…³äºæ­»äº¡åŠ¨ç”»çš„è®¾ç½®<code>Can Transition To</code>ä¸€å®šä¸èƒ½å‹¾é€‰ï¼Œä¸ç„¶ä¼šå‘ç”Ÿé¬¼ç•œ</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/497e554f53c24b17be551acb0694058c.png" alt="2.png" style="zoom:80%;" /><p>æ¥ä¸‹æ¥ä¸»è§’çš„åŠ¨ç”»ä¹Ÿæ˜¯å¦‚æ­¤è®¾ç½®</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/66e702dd2c644d058b5e628fbcf052c6.png" alt="3.png" style="zoom:80%;" /><h2 id="ç¼–å†™åŠ¨ç”»çŠ¶æ€è½¬ç§»ä»£ç "><a href="#ç¼–å†™åŠ¨ç”»çŠ¶æ€è½¬ç§»ä»£ç " class="headerlink" title="ç¼–å†™åŠ¨ç”»çŠ¶æ€è½¬ç§»ä»£ç "></a>ç¼–å†™åŠ¨ç”»çŠ¶æ€è½¬ç§»ä»£ç </h2><p>å›åˆ°æˆ‘ä»¬çš„<code>EnemyController.cs</code>ä¸­</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">private</span> <span class="token class-name">Collider</span> collider<span class="token punctuation">;</span><span class="token comment">//ç¢°æ’ä½“ç»„ä»¶</span><span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> isDead<span class="token punctuation">;</span><span class="token comment">//æ­»äº¡çŠ¶æ€æ§åˆ¶</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//...</span>    collider <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Collider<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>charcterStates<span class="token punctuation">.</span>currentHealth <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>        isDead <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//è¡€é‡å˜0åˆ™æ­»äº¡çŠ¶æ€ä¸ºçœŸ</span>    <span class="token comment">//...</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SwitchAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//...</span>    anim<span class="token punctuation">.</span><span class="token function">SetBool</span><span class="token punctuation">(</span><span class="token string">"Death"</span><span class="token punctuation">,</span>isDead<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ˜¯å¦æ’­æ”¾æ­»äº¡åŠ¨ç”»</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SwitchEnemyStates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//ç¬¬ä¸€ä¸ªåˆ¤æ–­æ˜¯å¦ä¸ºæ­»äº¡</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>isDead<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        enemyStates <span class="token operator">=</span> EnemyStates<span class="token punctuation">.</span>DEAD<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">FoundPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¦‚æœå‘ç°player åˆ‡æ¢åˆ°CHASE</span>        enemyStates <span class="token operator">=</span> EnemyStates<span class="token punctuation">.</span>CHASE<span class="token punctuation">;</span>        <span class="token comment">//Debug.LogFormat("æ•Œäºº&#123;0&#125;å‘ç°äº†ç©å®¶",this.name);//æµ‹è¯•ä»£ç </span>    <span class="token punctuation">&#125;</span>            <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>DEAD<span class="token punctuation">:</span>    collider<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//é˜²æ­¢æ—¶å€™å¼€ä¸šå†æ¬¡æ”»å‡»</span>    agent<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//ç›´æ¥å…³é—­å¯¼èˆªç»„ä»¶</span>    <span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gameObject<span class="token punctuation">,</span><span class="token number">2f</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é”€æ¯æ¸¸æˆå¯¹è±¡ï¼Œå»¶è¿Ÿä¸º2ç§’</span>    <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œæˆ‘ä»¬è®¾ç½®äº†<code>Death</code>çš„åŠ¨ç”»çŠ¶æ€ï¼Œæ³¨æ„å¼€å¤´<code>if(isDead)</code>çš„ä¸‹ä¸€ä¸ªæ˜¯<code>else if</code>ï¼Œè€Œ<code>Hit</code>çš„çŠ¶æ€å¯ä»¥å»åˆ°<code>CharcterStates.cs</code>ä¸­è®¾ç½®</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">TakeDamage</span><span class="token punctuation">(</span><span class="token class-name">CharcterStates</span> attacker<span class="token punctuation">,</span><span class="token class-name">CharcterStates</span> defener<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//è®¡ç®—ä¼¤å®³æ•°å€¼</span>    <span class="token comment">//å½“å‰æ”»å‡»åŠ›å‡å»ç›®æ ‡çš„é˜²å¾¡åŠ›ï¼Œå¦‚æœé˜²å¾¡åŠ›è¿‡é«˜å°±æ˜¯0ä¼¤å®³</span>    <span class="token class-name"><span class="token keyword">int</span></span> damage <span class="token operator">=</span> Mathf<span class="token punctuation">.</span><span class="token function">Max</span><span class="token punctuation">(</span>attacker<span class="token punctuation">.</span><span class="token function">CurrentDamage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>defener<span class="token punctuation">.</span>currentDefence<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    currentHealth <span class="token operator">=</span> Mathf<span class="token punctuation">.</span><span class="token function">Max</span><span class="token punctuation">(</span>currentHealth<span class="token operator">-</span>damage<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¡€é‡ä¹Ÿæ˜¯æœ€å°å€¼é”åœ¨0</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>isCritical<span class="token punctuation">)</span><span class="token comment">//åˆ¤æ–­è¢«æ‰“è€…æ˜¯å¦å—åˆ°æš´å‡»å¹¶ä¸”æ’­æ”¾å—ä¼¤åŠ¨ç”»</span>        defener<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Animator<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetTrigger</span><span class="token punctuation">(</span><span class="token string">"Hit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//å°†æ¥è¦åšçš„äº‹æƒ…</span>    <span class="token comment">//TODO:è¡€é‡æ¡UI</span>    <span class="token comment">//TODO:æ‰“æ­»æ€ªååŠ ç»éªŒ</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸­é—´æˆ‘ä»¬æ‰“äº†ä¸€è¡Œä»£ç ï¼Œç”¨æ¥è·å–è¢«æ‰“è€…çš„Animatorå¹¶è®¾ç½®åŠ¨ç”»<code>Hit</code>çŠ¶æ€ï¼Œè¿™æ ·å°±å¯ä»¥é›†ä¸­ç®¡ç†æš´å‡»å—ä¼¤åŠ¨ç”»äº†</p><p>æœ€åå¯¹äºä¸»è§’æˆ‘ä»¬ä¹Ÿç”¨ç›¸åŒçš„åŠæ³•æ¥å†™è¿™äº›ä»£ç å°±å¤§åŠŸå‘Šæˆäº†</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt; è¿™ä¸€ç« èŠ‚æˆ‘ä»¬æ¥åˆ¶ä½œæ•Œäººçš„å®ˆå«çŠ¶æ€å’Œæ­»äº¡çŠ¶æ€&lt;/p&gt;
&lt;h1 id=&quot;æ•Œäººçš„å®ˆå«çŠ¶æ€ï¼ˆGuardï¼‰&quot;&gt;&lt;a href=&quot;#æ•Œäººçš„å®ˆå«çŠ¶æ€ï¼ˆGuardï¼‰&quot; class=&quot;headerlink&quot; title=&quot;æ•Œäººçš„å®ˆå«çŠ¶æ€ï¼ˆGuardï¼‰&quot;&gt;&lt;/a&gt;æ•Œäººçš„å®ˆå«çŠ¶æ€ï¼ˆGuardï¼‰</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°12-å®ç°æ”»å‡»æ•°å€¼è®¡ç®—</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B012-%E5%AE%9E%E7%8E%B0%E6%94%BB%E5%87%BB%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B012-%E5%AE%9E%E7%8E%B0%E6%94%BB%E5%87%BB%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97/</id>
    <published>2021-07-18T01:29:45.000Z</published>
    <updated>2021-07-18T05:56:42.774Z</updated>
    
    <content type="html"><![CDATA[<p> è¿™ä¸€ç« èŠ‚ä¸­æˆ‘ä»¬æ¥å®ç°æ”»å‡»ä¼¤å®³çš„è®¡ç®—ï¼Œç»™äºˆäººç‰©æˆ–æ•ŒäººçœŸå®çš„æ”»å‡»ä¼¤å®³</p><h1 id="è¡¥å……äººç‰©æ”»å‡»åŠ¨ç”»"><a href="#è¡¥å……äººç‰©æ”»å‡»åŠ¨ç”»" class="headerlink" title="è¡¥å……äººç‰©æ”»å‡»åŠ¨ç”»"></a>è¡¥å……äººç‰©æ”»å‡»åŠ¨ç”»</h1><p>åœ¨ä¹‹å‰æˆ‘ä»¬è¦ç»™äººç‰©æ·»åŠ ä¸€ä¸‹æš´å‡»åŠ¨ç”»ï¼Œå’Œä¸Šä¸€ç« èŠ‚è®¾ç½®æ•ŒäººåŠ¨ç”»ç±»ä¼¼ï¼Œæ³¨æ„è¦è®¾ç½®åŠ¨ç”»åˆ‡æ¢æ•ˆæœ</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/db2c7f3914614d4ea5ec93211e2b47a7.png" alt="1.png" style="zoom:80%;" /><p>æ‰“å¼€<code>PlayerController.cs</code>ï¼Œä¿®æ”¹ä¸€ä¸‹</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name">IEnumerator</span> <span class="token function">MoveToAttackTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    transform<span class="token punctuation">.</span><span class="token function">LookAt</span><span class="token punctuation">(</span>attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span><span class="token function">Distance</span><span class="token punctuation">(</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">,</span>attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token operator">></span>          charcterStates<span class="token punctuation">.</span>attackData<span class="token punctuation">.</span>attackRange<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//æ¯”è¾ƒäººç‰©å’Œæ•Œäººçš„è·ç¦»æ˜¯å¦å¤§äº0æ”»å‡»è·ç¦»ï¼ŒDistance()å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªVector3è·ç¦»</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>agent<span class="token punctuation">.</span>destination <span class="token operator">=</span> attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span>        <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token comment">//æ”»å‡»åŠ¨ç”»å’ŒCDéƒ½åœ¨ä¸‹é¢</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>lastAttactTime<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//CDå†·å´å®Œæˆå¯æ‰§è¡Œæ”»å‡»</span>        animator<span class="token punctuation">.</span><span class="token function">SetBool</span><span class="token punctuation">(</span><span class="token string">"Critical"</span><span class="token punctuation">,</span>charcterStates<span class="token punctuation">.</span>isCritical<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¢åŠ äº†ä¼ é€’æ˜¯å¦æš´å‡»</span>        animator<span class="token punctuation">.</span><span class="token function">SetTrigger</span><span class="token punctuation">(</span><span class="token string">"Attack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ™®é€šæ”»å‡»</span>        lastAttactTime <span class="token operator">=</span> charcterStates<span class="token punctuation">.</span>attackData<span class="token punctuation">.</span>coolDown<span class="token punctuation">;</span><span class="token comment">//ä¿®æ”¹äº†è¿™é‡Œçš„CDæ—¶é—´</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œæˆ‘ä»¬ä¿®æ”¹äº†ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯å¢åŠ äº†æš´å‡»åˆ¤æ–­ï¼Œå¦ä¸€ä¸ªæ˜¯ä¿®æ”¹äº†CDæ—¶é—´åˆ¤æ–­</p><h1 id="å¢åŠ æ”»å‡»æ•°å€¼è®¡ç®—"><a href="#å¢åŠ æ”»å‡»æ•°å€¼è®¡ç®—" class="headerlink" title="å¢åŠ æ”»å‡»æ•°å€¼è®¡ç®—"></a>å¢åŠ æ”»å‡»æ•°å€¼è®¡ç®—</h1><p>å‰é¢è¡¥å……å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥æ­£å¼æ¥å†™æ”»å‡»ä¼¤å®³çš„æ•°å€¼è®¡ç®—äº†</p><p>æ‰“å¼€<code>CharcterStates.cs</code>ï¼Œæˆ‘ä»¬åœ¨æœ€ä¸‹é¢åŠ ä¸Šæˆ‘ä»¬çš„ä¼¤å®³è®¡ç®—ä»£ç </p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">EventAttact</span><span class="token punctuation">(</span><span class="token class-name">GameObject</span> target<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>target<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¦‚æœé¼ æ ‡ç‚¹å‡»çš„ç›®æ ‡ä¸ä¸ºç©ºï¼Œæˆ–è€…ç‚¹å‡»çš„æ•Œäººä¸æ˜¯å±äºæ­»äº¡çŠ¶æ€</span>        attactTarget <span class="token operator">=</span> target<span class="token punctuation">;</span>        <span class="token comment">//éšæœºæš´å‡»ç‡è¯­å¥</span>        charcterStates<span class="token punctuation">.</span>isCritical <span class="token operator">=</span> Random<span class="token punctuation">.</span><span class="token keyword">value</span> <span class="token operator">&lt;</span> charcterStates<span class="token punctuation">.</span>attackData<span class="token punctuation">.</span>criticalChance<span class="token punctuation">;</span>        <span class="token function">StartCoroutine</span><span class="token punctuation">(</span><span class="token function">MoveToAttackTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä¼¤å®³è®¡ç®—åŒº</span><span class="token preprocessor property">#<span class="token directive keyword">region</span> Charcter Combat</span>    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">TakeDamage</span><span class="token punctuation">(</span><span class="token class-name">CharcterStates</span> attacker<span class="token punctuation">,</span><span class="token class-name">CharcterStates</span> defener<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//è®¡ç®—ä¼¤å®³æ•°å€¼</span>    <span class="token comment">//å½“å‰æ”»å‡»åŠ›å‡å»ç›®æ ‡çš„é˜²å¾¡åŠ›ï¼Œå¦‚æœé˜²å¾¡åŠ›è¿‡é«˜å°±æ˜¯0ä¼¤å®³</span>    <span class="token class-name"><span class="token keyword">int</span></span> damage <span class="token operator">=</span> Mathf<span class="token punctuation">.</span><span class="token function">Max</span><span class="token punctuation">(</span>attacker<span class="token punctuation">.</span><span class="token function">CurrentDamage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>defener<span class="token punctuation">.</span>currentDefence<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    currentHealth <span class="token operator">=</span> Mathf<span class="token punctuation">.</span><span class="token function">Max</span><span class="token punctuation">(</span>currentHealth<span class="token operator">-</span>damage<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¡€é‡ä¹Ÿæ˜¯æœ€å°å€¼é”åœ¨0</span>    <span class="token comment">//å°†æ¥è¦åšçš„äº‹æƒ…</span>    <span class="token comment">//TODO:è¡€é‡æ¡UI</span>    <span class="token comment">//TODO:æ‰“æ­»æ€ªååŠ ç»éªŒ</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">CurrentDamage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//åœ¨æ”»å‡»åŠ›èŒƒå›´å†…å–éšæœºæ•°è¿”å›ä¸€ä¸ªéšæœºæ”»å‡»åŠ›</span>    <span class="token class-name"><span class="token keyword">float</span></span> coreDamage <span class="token operator">=</span> Random<span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span>attackData<span class="token punctuation">.</span>minDamage<span class="token punctuation">,</span>attackData<span class="token punctuation">.</span>maxDamage<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>isCritical<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¦‚æœæš´å‡»çš„è¯è¿˜è¦è®¡ç®—ä¸Šæš´å‡»ç‡</span>        coreDamage <span class="token operator">*=</span>attackData<span class="token punctuation">.</span>criticalMultiplier<span class="token punctuation">;</span><span class="token comment">//ä¹˜ç­‰äº</span>        Debug<span class="token punctuation">.</span><span class="token function">LogFormat</span><span class="token punctuation">(</span><span class="token string">"æš´å‡»äº†ï¼ä¼¤å®³ä¸ºï¼ˆä¸ç®—ç›®æ ‡é˜²å¾¡åŠ›ï¼‰ï¼š&#123;0&#125;"</span><span class="token punctuation">,</span>coreDamage<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>coreDamage<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="è°ƒç”¨ä¼¤å®³è®¡ç®—æ–¹æ³•"><a href="#è°ƒç”¨ä¼¤å®³è®¡ç®—æ–¹æ³•" class="headerlink" title="è°ƒç”¨ä¼¤å®³è®¡ç®—æ–¹æ³•"></a>è°ƒç”¨ä¼¤å®³è®¡ç®—æ–¹æ³•</h1><p>ä¼¤å®³è®¡ç®—ä»£ç å†™å¥½åï¼Œæˆ‘ä»¬å°±è¦å»æƒ³å¦‚ä½•è°ƒç”¨å®ƒï¼Œåœ¨å“ªé‡Œè°ƒç”¨å®ƒäº†</p><p>å‚è€ƒä¸€äº›RPGæ¸¸æˆï¼Œä¸€èˆ¬éƒ½æ˜¯å½“ä½ çš„æ­¦å™¨æŒ¥å‡ºå»åæ¥è§¦åˆ°æ•Œäººé‚£ä¸€ç¬é—´è®¡ç®—ä¼¤å®³ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‰ç…§è¿™æ ·æ¥åš</p><h2 id="åœ¨äººç‰©èº«ä¸Šè°ƒç”¨"><a href="#åœ¨äººç‰©èº«ä¸Šè°ƒç”¨" class="headerlink" title="åœ¨äººç‰©èº«ä¸Šè°ƒç”¨"></a>åœ¨äººç‰©èº«ä¸Šè°ƒç”¨</h2><p>é¦–å…ˆè¦è°ƒå‡º<code>Animation</code>çª—å£</p><img src="https://p26-tt.byteimg.com/origin/pgc-image/42623310028b4fbcafc6c49ce9fbc6a6.png" alt="2.png" style="zoom:80%;" /><p>ç„¶åçª—å£å·¦ä¸Šè§’é€‰æ‹©ä¸Šæˆ‘ä»¬çš„æ”»å‡»åŠ¨ç”»<code>Attack01</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æ”»å‡»åŠ¨ç”»é‡Œé¢çš„æŸä¸ªç‰¹å®šå¸§æ·»åŠ äº‹ä»¶äº†</p><p>æˆ‘ä»¬å†æ¬¡ç¼–è¾‘ä¸€ä¸‹<code>PlayerController.cs</code>ä»£ç åŠ ä¸€ä¸ªç”¨æ¥è°ƒç”¨çš„æ–¹æ³•</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//Animation Event</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Hit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name"><span class="token keyword">var</span></span> targetStates <span class="token operator">=</span> attactTarget<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CharcterStates<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è®¡ç®—ä¼¤å®³</span>    targetStates<span class="token punctuation">.</span><span class="token function">TakeDamage</span><span class="token punctuation">(</span>charcterStates<span class="token punctuation">,</span>targetStates<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å›åˆ°<code>Animation</code>çª—å£ï¼Œå°†å®ƒæ·»åŠ ä¸ºäº‹ä»¶</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/3ebdba5a85864a339407b9a8d21a740f.png" alt="4.png" style="zoom:80%;" /><p><strong>æ³¨æ„ï¼šåŒæ ·çš„æš´å‡»åŠ¨ç”»ä¹Ÿè¦åŠ ä¸Š</strong></p><h2 id="åœ¨æ•Œäººèº«ä¸Šè°ƒç”¨"><a href="#åœ¨æ•Œäººèº«ä¸Šè°ƒç”¨" class="headerlink" title="åœ¨æ•Œäººèº«ä¸Šè°ƒç”¨"></a>åœ¨æ•Œäººèº«ä¸Šè°ƒç”¨</h2><p>ç„¶ååœ¨æ•Œäººèº«ä¸Šæˆ‘ä»¬ä¹Ÿè¦è¿›è¡ŒåŒæ ·çš„æ“ä½œï¼Œæ‰“å¼€<code>EnemyController.cs</code></p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//EnemyController.cs</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Hit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//ç”±äºåœ¨æ•Œäººè¿½ä¸»è§’çš„è¿‡ç¨‹ä¸­ä¸»è§’å¯èƒ½ä¼šè·‘å¼€ï¼Œè¿™æ—¶å€™å¦‚æœæ”»å‡»çš„è¯ç›®æ ‡å°±ä¸¢å¤±äº†</span>    <span class="token comment">//æ‰€ä»¥æˆ‘ä»¬åœ¨æ”»å‡»å‰åˆ¤æ–­ç›®æ ‡æ˜¯å¦ä¸ºç©ºï¼Œä»¥é˜²æŠ¥é”™</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>attackTarget <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name"><span class="token keyword">var</span></span> targetStates <span class="token operator">=</span> attackTarget<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CharcterStates<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        targetStates<span class="token punctuation">.</span><span class="token function">TakeDamage</span><span class="token punctuation">(</span>charcterStates<span class="token punctuation">,</span>targetStates<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶ååœ¨ä¸º<code>Animation</code>æ·»åŠ åŠ¨ç”»æ—¶æˆ‘ä»¬å‘ç°å½“å‰å²è±å§†çš„åŠ¨ç”»æ˜¯<code>åªè¯»</code>å±æ€§çš„ï¼Œå¯¹äºè¿™ç§æƒ…å†µæˆ‘ä»¬å¯ä»¥æŠŠåŠ¨ç”»å•ç‹¬å¤åˆ¶åˆ°å…¶å®ƒåœ°æ–¹ï¼Œå†å°†å¤åˆ¶å‡ºæ¥çš„åŠ¨ç”»æ›¿æ¢åŸæ¥çš„ï¼Œå°±å¯ä»¥è¿›è¡Œäº‹ä»¶æ·»åŠ äº†</p><p>å¦‚å›¾å¯¹ç€åŠ¨ç”»æ–‡ä»¶æŒ‰<code>Ctrl+D</code>å¯ä»¥å¿«é€Ÿå¤åˆ¶</p><img src="https://p9-tt.byteimg.com/origin/pgc-image/3831ed71b8dc46cc8d7ce464438e15b3.png" alt="5.png" style="zoom:80%;" /><p>ç„¶åæˆ‘ä»¬å°†å¤åˆ¶å‡ºæ¥çš„åŠ¨ç”»ï¼ˆè¿™é‡Œæœ‰ä¸¤ä¸ªï¼‰åˆ†ç±»æ”¾å¥½</p><img src="https://p26-tt.byteimg.com/origin/pgc-image/cded851a377744a2a2c53f78e2573698.png" alt="6.png" style="zoom:80%;" /><p>ç„¶åè¿›è¡ŒåŠ¨ç”»æ›¿æ¢</p><img src="https://p26-tt.byteimg.com/origin/pgc-image/99667e3e7b754c4f8b286410045bac15.png" alt="7.png" style="zoom:80%;" /><p>æœ€åå†è¿›è¡ŒåŠ¨ç”»å¸§äº‹ä»¶æ·»åŠ æ“ä½œå°±è¡Œäº†</p><p>åˆ°è¿™æˆ‘ä»¬å°±æŠŠä¼¤å®³è®¡ç®—ä»£ç å’Œæ•ˆæœéƒ½å†™å‡ºæ¥äº†ï¼Œä¸‹ä¸€ç« èŠ‚ä¸­æˆ‘ä»¬è¿˜ä¼šå»è¡¥å……å¦‚æœæ•Œäººæˆ–äººç‰©è¡€é‡åˆ°0äº†æ—¶å€™çš„çŠ¶æ€</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt; è¿™ä¸€ç« èŠ‚ä¸­æˆ‘ä»¬æ¥å®ç°æ”»å‡»ä¼¤å®³çš„è®¡ç®—ï¼Œç»™äºˆäººç‰©æˆ–æ•ŒäººçœŸå®çš„æ”»å‡»ä¼¤å®³&lt;/p&gt;
&lt;h1 id=&quot;è¡¥å……äººç‰©æ”»å‡»åŠ¨ç”»&quot;&gt;&lt;a href=&quot;#è¡¥å……äººç‰©æ”»å‡»åŠ¨ç”»&quot; class=&quot;headerlink&quot; title=&quot;è¡¥å……äººç‰©æ”»å‡»åŠ¨ç”»&quot;&gt;&lt;/a&gt;è¡¥å……äººç‰©æ”»å‡»åŠ¨ç”»&lt;/h1&gt;&lt;p&gt;åœ¨ä¹‹å‰æˆ‘ä»¬</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>LeetCodeåˆ·é¢˜ç¬”è®°ç¬¬ä¸€æœŸ</title>
    <link href="http://sakura-pub.ltd/LeetCode/LeetCode%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%B8%80%E6%9C%9F/"/>
    <id>http://sakura-pub.ltd/LeetCode/LeetCode%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%B8%80%E6%9C%9F/</id>
    <published>2021-07-17T15:54:05.000Z</published>
    <updated>2021-07-19T15:51:37.463Z</updated>
    
    <content type="html"><![CDATA[<h1 id="LeetCodeåˆ·é¢˜ç¬”è®°ç¬¬ä¸€æœŸ"><a href="#LeetCodeåˆ·é¢˜ç¬”è®°ç¬¬ä¸€æœŸ" class="headerlink" title="LeetCodeåˆ·é¢˜ç¬”è®°ç¬¬ä¸€æœŸ"></a>LeetCodeåˆ·é¢˜ç¬”è®°ç¬¬ä¸€æœŸ</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰ä¸€ç›´æƒ³åœ¨åˆ·é¢˜çš„æ—¶å€™æŠŠæƒ³è¦è®°ä¸‹çš„ç¬”è®°è®°ä¸‹æ¥ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°å¾ˆå¥½çš„åœ°æ–¹ï¼Œä½†æ˜¯ç°åœ¨æœ‰äº†åšå®¢ä¹‹åå°±å¯ä»¥å†™åœ¨è¿™çš„</p><p>å†™è¿™ä¸ªåˆ·é¢˜ç¬”è®°ä¸€ä¸ªæ˜¯æƒ³æ—¶ä¸æ—¶å›æ¥å·©å›ºä¸€ä¸‹ç®—æ³•ï¼Œå¦ä¸€ä¸ªæ˜¯æƒ³è®°å½•ä¸‹è‡ªå·±çš„ç®—æ³•èƒ½åŠ›æˆé•¿çš„è¿‡ç¨‹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æƒ³ä¸ºå®ä¹ åšå‡†å¤‡</p><p>å†™è¿™ä¸ªç¬”è®°æ˜¯å¤§äºŒæš‘å‡æ—¶æœŸï¼Œä¹‹å‰ä¹Ÿæœ‰ä¸€äº›ç®—æ³•åŸºç¡€ï¼Œå‚åŠ è¿‡çš„ç®—æ³•ç›¸å…³ç«èµ›åªæœ‰ä¸€æ¬¡è“æ¡¥æ¯ï¼Œåªæ‹¿åˆ°çœèµ›äºŒç­‰å¥–ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿé€šè¿‡åˆ·é¢˜å’Œåšç¬”è®°èƒ½å¤Ÿæœ‰æ‰€é•¿è¿›</p><p>æœ¬äººç®—æ³•èƒ½åŠ›ä¸æ˜¯å¾ˆå¼ºï¼Œä¸€èˆ¬éƒ½è¦æƒ³å¥½ä¸€é˜µå­ï¼Œæ‰€ä»¥ä¸€èˆ¬å†™å‡ºæ¥çš„ç­”æ¡ˆä¸æ˜¯å¾ˆå¥½ï¼Œæœ›å¤§ä½¬ä»¬è½»å–·</p><p>âœ¨æ³¨ï¼šæˆ‘å†™ç®—æ³•çš„è¯­è¨€ä¸»æ‰“C++</p><p>é‚£ä¹ˆï¼Œå°±å¼€å§‹å§ï¼</p><hr><h1 id="è´ªå¿ƒ"><a href="#è´ªå¿ƒ" class="headerlink" title="è´ªå¿ƒ"></a>è´ªå¿ƒ</h1><h2 id="452-ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ"><a href="#452-ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ" class="headerlink" title="452.ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ"></a>452.<a href="https://leetcode-cn.com/problems/minimum-number-of-arrows-to-burst-balloons/">ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ</a></h2><p>åœ¨äºŒç»´ç©ºé—´ä¸­æœ‰è®¸å¤šçƒå½¢çš„æ°”çƒã€‚å¯¹äºæ¯ä¸ªæ°”çƒï¼Œæä¾›çš„è¾“å…¥æ˜¯æ°´å¹³æ–¹å‘ä¸Šï¼Œæ°”çƒç›´å¾„çš„å¼€å§‹å’Œç»“æŸåæ ‡ã€‚ç”±äºå®ƒæ˜¯æ°´å¹³çš„ï¼Œæ‰€ä»¥çºµåæ ‡å¹¶ä¸é‡è¦ï¼Œå› æ­¤åªè¦çŸ¥é“å¼€å§‹å’Œç»“æŸçš„æ¨ªåæ ‡å°±è¶³å¤Ÿäº†ã€‚å¼€å§‹åæ ‡æ€»æ˜¯å°äºç»“æŸåæ ‡ã€‚</p><p>ä¸€æ”¯å¼“ç®­å¯ä»¥æ²¿ç€ x è½´ä»ä¸åŒç‚¹å®Œå…¨å‚ç›´åœ°å°„å‡ºã€‚åœ¨åæ ‡ x å¤„å°„å‡ºä¸€æ”¯ç®­ï¼Œè‹¥æœ‰ä¸€ä¸ªæ°”çƒçš„ç›´å¾„çš„å¼€å§‹å’Œç»“æŸåæ ‡ä¸º <code>xstart</code>ï¼Œ<code>xend</code>ï¼Œ ä¸”æ»¡è¶³  <code>xstart</code> â‰¤ x â‰¤ <code>xend</code>ï¼Œåˆ™è¯¥æ°”çƒä¼šè¢«å¼•çˆ†ã€‚å¯ä»¥å°„å‡ºçš„å¼“ç®­çš„æ•°é‡æ²¡æœ‰é™åˆ¶ã€‚ å¼“ç®­ä¸€æ—¦è¢«å°„å‡ºä¹‹åï¼Œå¯ä»¥æ— é™åœ°å‰è¿›ã€‚æˆ‘ä»¬æƒ³æ‰¾åˆ°ä½¿å¾—æ‰€æœ‰æ°”çƒå…¨éƒ¨è¢«å¼•çˆ†ï¼Œæ‰€éœ€çš„å¼“ç®­çš„æœ€å°æ•°é‡ã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ points ï¼Œå…¶ä¸­ points [i] = [xstart,xend] ï¼Œè¿”å›å¼•çˆ†æ‰€æœ‰æ°”çƒæ‰€å¿…é¡»å°„å‡ºçš„æœ€å°å¼“ç®­æ•°ã€‚</p><p>ç¤ºä¾‹ï¼š</p><blockquote><p>è¾“å…¥ï¼špoints = [[10,16],[2,8],[1,6],[7,12]]<br>è¾“å‡ºï¼š2<br>è§£é‡Šï¼šå¯¹äºè¯¥æ ·ä¾‹ï¼Œx = 6 å¯ä»¥å°„çˆ† [2,8],[1,6] ä¸¤ä¸ªæ°”çƒï¼Œä»¥åŠ x = 11 å°„çˆ†å¦å¤–ä¸¤ä¸ªæ°”çƒ</p></blockquote><p>è¿™ä¸€é¢˜æ‹¿åˆ°é¢˜ç›®æ—¶çœ‹äº†å¥½å‡ æ¬¡éƒ½çœ‹ä¸æ‡‚é¢˜ç›®ï¼Œçœ‹äº†ä¸€ä¸‹åˆ«äººç”»çš„å›¾æ‰æ˜ç™½é¢˜çš„æ„æ€ï¼Œå’Œå¦å¤–é¢˜ <code>435. æ— é‡å åŒºé—´</code>æœ‰ç‚¹ç›¸ä¼¼</p><p>æˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸€æ¬¡å°„å‡»ç®­çš„æ—¶å€™å°½é‡å¾€ç”¨å°‘ä¸€ç‚¹çš„æ–¹å‘å»æƒ³ï¼Œå½“æ°”çƒé‡å æ—¶ä¾¿ä¸€èµ·å°„ï¼Œè¿™æ˜¯å±€éƒ¨æœ€ä¼˜ï¼Œç„¶åæ¯æ¬¡å±€éƒ¨æœ€ä¼˜æ‰€é€ æˆçš„å°±æ˜¯å…¨å±€æœ€ä¼˜ï¼Œå°„å®Œå…¨éƒ¨æ°”çƒæ‰€ç”¨çš„å¼“ç®­æ˜¯æœ€å°‘ï¼Œè¿™ä¾¿å¯ä»¥ç”¨è´ªå¿ƒç®—æ³•æ¥æ±‚è§£</p><p>å€Ÿç”¨å®˜æ–¹è§£ç­”æ‰€ç»™çš„å›¾æ¥è§£é‡Š</p><p><img src="https://p9-tt.byteimg.com/origin/pgc-image/f83bd4a2e87746078b4cac68d1f4d1d5.png"></p><p>å½“æŠŠå¼“ç®­æŒªåˆ°å³åŒºé—´æœ€å°çš„æ—¶å€™ï¼ˆå¦‚ç¬¬ä¸‰ä¸ªå›¾çš„è“è‰²ï¼‰å°±å¯ä»¥ä¸€ç®­å››é›•ï¼Œå› ä¸ºé¢˜ç›®æ‰€ç»™çš„æ¡ä»¶<code>xstart</code> â‰¤ x â‰¤ <code>xend</code>æ—¶æ°”çƒå°±ä¼šç»™å°„çˆ†ï¼Œè¿™é‡ŒåŒ…å«äº†è¾¹ç•Œå€¼æ¡ä»¶ï¼Œæ‰€ä»¥åœ¨é—­åŒºé—´ä½ç½®ä¹Ÿæ»¡è¶³</p><p>å› æ­¤æˆ‘å°±æœ‰äº†åŸºæœ¬æ€è·¯ï¼Œå…ˆæŠŠè¿™äº›æ°”çƒæ’åˆ—ï¼Œç„¶åä»ç¬¬äºŒä¸ªæ°”çƒéå†ï¼Œæ¯æ¬¡ä¸å‰ä¸€ä¸ªæ°”çƒä½œæ¯”è¾ƒï¼Œå¦‚æœä¸¤ä¸ªæ°”çƒåŒºé—´ç›¸äº¤ï¼Œé‚£å°±å¯ä»¥ç•¥è¿‡å½“å‰æ°”çƒè¿›å…¥ä¸‹ä¸€æ¬¡æ¯”è¾ƒï¼ˆåšä¸ªæ ‡è®°ï¼Œä»£è¡¨å¯ä»¥åœ¨è¿™ä¸€ä¸ªå¼“ç®­å°„å®Œï¼‰ï¼Œå…·ä½“å¦‚ä½•ç•¥è¿‡çœ‹ä»£ç ï¼›å¦‚æœæ°”çƒä¸ç›¸äº¤äº†ï¼Œé‚£å°±è¯æ˜è¦ç”¨å¤šä¸€å‘å¼“ç®­äº†ï¼Œæ­¤æ—¶å¼“ç®­æ•°è¦åŠ ä¸€ï¼Œç„¶åç»§ç»­å¾€ä¸‹æ¯”è¾ƒ</p><p>ä¸‹é¢æ˜¯è‡ªå·±å‚è€ƒåˆ«äººè§£ç­”åå†™å‡ºæ¥çš„ä»£ç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">static</span> <span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">VecSort</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">findMinArrowShots</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> points<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> size <span class="token operator">=</span> points<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>size<span class="token punctuation">)</span><span class="token comment">//æ•°ç»„ä¸ºç©º</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>points<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>points<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>VecSort<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æŒ‰æ°”çƒèµ·ç‚¹è¿›è¡Œä»å°åˆ°å¤§æ’åº</span>        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›ç»“æœï¼Œä¸ä¸ºç©ºè‡³å°‘éœ€è¦ä¸€åªç®­</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>size<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">//ä»å‰å¾€åéå†æ°”çƒ</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">></span>points<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token comment">//å½“å‰æ°”çƒä¸å‰ä¸€ä¸ªæ°”çƒä¸é‡å </span>                res<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>                <span class="token comment">//é‡å åˆ™è·³è¿‡å½“å‰æ°”çƒ</span>                <span class="token comment">//ï¼ˆåˆ©ç”¨é—­åŒºé—´æœ€å³ä½ç½®å¯ä»¥å°„åˆ°çš„è§„åˆ™è®©å…¶é•¿åº¦å˜çŸ­ï¼Œä»¥è¾¾åˆ°å¯è·³è¿‡çš„å½“å‰æ°”çƒç›®çš„ï¼‰</span>                points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>std<span class="token operator">::</span><span class="token function">min</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>points<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·åšå‡ºæ¥ä¹‹åæ—¶é—´å¤æ‚åº¦ä¸º<em>O(nlogn)<em>å› ä¸ºç”¨äº†ä¸ªå¿«æ’ï¼Œç©ºé—´å¤æ‚åº¦ä¸º</em>O(1)</em></p><img src="https://p6-tt.byteimg.com/origin/pgc-image/3af7d43845b04870bda4754ca1805c0e.jpg" alt="452.jpg" style="zoom:80%;" /><hr><h2 id="763-åˆ’åˆ†å­—æ¯åŒºé—´"><a href="#763-åˆ’åˆ†å­—æ¯åŒºé—´" class="headerlink" title="763. åˆ’åˆ†å­—æ¯åŒºé—´"></a><a href="https://leetcode-cn.com/problems/partition-labels/">763. åˆ’åˆ†å­—æ¯åŒºé—´</a></h2><p>å­—ç¬¦ä¸² <code>S</code> ç”±å°å†™å­—æ¯ç»„æˆã€‚æˆ‘ä»¬è¦æŠŠè¿™ä¸ªå­—ç¬¦ä¸²åˆ’åˆ†ä¸ºå°½å¯èƒ½å¤šçš„ç‰‡æ®µï¼ŒåŒä¸€å­—æ¯æœ€å¤šå‡ºç°åœ¨ä¸€ä¸ªç‰‡æ®µä¸­ã€‚è¿”å›ä¸€ä¸ªè¡¨ç¤ºæ¯ä¸ªå­—ç¬¦ä¸²ç‰‡æ®µçš„é•¿åº¦çš„åˆ—è¡¨ã€‚</p><p>ç¤ºä¾‹ï¼š</p><blockquote><p>è¾“å…¥ï¼šS = â€œababcbacadefegdehijhklijâ€<br>è¾“å‡ºï¼š[9,7,8]<br>è§£é‡Šï¼š<br>åˆ’åˆ†ç»“æœä¸º â€œababcbacaâ€, â€œdefegdeâ€, â€œhijhklijâ€ã€‚<br>æ¯ä¸ªå­—æ¯æœ€å¤šå‡ºç°åœ¨ä¸€ä¸ªç‰‡æ®µä¸­ã€‚<br>åƒ â€œababcbacadefegdeâ€, â€œhijhklijâ€ çš„åˆ’åˆ†æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºåˆ’åˆ†çš„ç‰‡æ®µæ•°è¾ƒå°‘ã€‚</p></blockquote><p>è¿™ç§é¢˜å‹ç¬¬ä¸€æ¬¡è§ï¼Œä¸æ€ä¹ˆä¼šï¼Œå› ä¸ºå°½å¯èƒ½åœ°è¦åˆ’åˆ†å¤šä¸ªåŒºåŸŸï¼Œä»è€Œè¾¾åˆ°æŸä¸ªæˆ–å¤šä¸ªå­—æ¯åªå‡ºç°åœ¨è¿™ç‰‡åŒºåŸŸä¸­ï¼Œé‚£ä¹ˆå°±å¯ä»¥å…ˆè®°å½•ä¸‹æ¯ä¸ªå­—æ¯æœ€åå‡ºç°çš„ä½ç½®</p><p>ç„¶åå†æ¬¡éå†å­—ç¬¦ä¸²ï¼Œä¸æ–­æ›´æ–°æ ‡è¯†ç¬¦<code>end</code>ï¼Œè¯¥æ ‡è¯†ç¬¦æŒ‡å‘çš„æ˜¯å½“å‰éå†è¿‡çš„å­—æ¯ä¸­ï¼Œæœ€æŒä¹…çš„å­—ç¬¦æœ€åå‡ºç°çš„ä½ç½®ï¼Œä¹Ÿç›¸å½“äºæ˜¯è¿™ç‰‡åŒºåŸŸæœ€åçš„ä½ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬åªç”¨æ‰¾å‡ºè¿™ä¸ªæ ‡è¯†ç¬¦æœ€ç»ˆçš„ä½ç½®å°±èƒ½å¤Ÿåˆ’åˆ†ä¸€ä¸ªåŒºåŸŸå‡ºæ¥äº†</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">partitionLabels</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> str_size <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>str_size<span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>str_size <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>res<span class="token punctuation">;</span>        <span class="token keyword">int</span> map<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•æ¯ä¸ªå­—æ¯æœ€åå‡ºç°çš„ä½ç½®</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>str_size<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            map<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> start<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> end<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•åˆ†å‰²æ•°æ®çš„å¼€å¤´å’Œç»“å°¾ä½ç½®</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>str_size<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            end <span class="token operator">=</span> std<span class="token operator">::</span><span class="token function">max</span><span class="token punctuation">(</span>end<span class="token punctuation">,</span>map<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è´ªå¿ƒç­–ç•¥åœ°æ–¹ï¼Œå°½å¯èƒ½æ‰¾åˆ°å­—æ¯æœ€åå‡ºç°çš„ä½ç½®ä»è€Œåˆ’åˆ†åŒºåŸŸ</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> end<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token comment">//å¦‚æœæ‰¾åˆ°ä¹‹å‰éå†è¿‡çš„æ‰€æœ‰å­—æ¯çš„æœ€è¿œè¾¹ç•Œï¼Œè¯´æ˜è¿™ä¸ªè¾¹ç•Œå°±æ˜¯åˆ†å‰²ç‚¹äº†</span>                res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>end<span class="token operator">-</span>start<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                start <span class="token operator">=</span> end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ—¶é—´å¤æ‚åº¦<em>O(n)<em>ï¼Œç©ºé—´å¤æ‚åº¦</em>O(1)</em></p><img src="https://p5-tt.byteimg.com/origin/pgc-image/c6d28e63caa845aba5e8479b6f016d58.jpg" alt="763.jpg" style="zoom:80%;" /><hr><h1 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h1><h2 id="88-åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„â€”ï¼ˆç®€å•ï¼‰"><a href="#88-åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„â€”ï¼ˆç®€å•ï¼‰" class="headerlink" title="88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„â€”ï¼ˆç®€å•ï¼‰"></a><a href="https://leetcode-cn.com/problems/merge-sorted-array/">88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</a>â€”ï¼ˆç®€å•ï¼‰</h2><p>ç»™ä½ ä¸¤ä¸ªæœ‰åºæ•´æ•°æ•°ç»„ nums1 å’Œ nums2ï¼Œè¯·ä½ å°† nums2 åˆå¹¶åˆ° nums1 ä¸­ï¼Œä½¿ nums1 æˆä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚</p><p>åˆå§‹åŒ– nums1 å’Œ nums2 çš„å…ƒç´ æ•°é‡åˆ†åˆ«ä¸º m å’Œ n ã€‚ä½ å¯ä»¥å‡è®¾ nums1 çš„ç©ºé—´å¤§å°ç­‰äº m + nï¼Œè¿™æ ·å®ƒå°±æœ‰è¶³å¤Ÿçš„ç©ºé—´ä¿å­˜æ¥è‡ª nums2 çš„å…ƒç´ ã€‚</p><p>ç¤ºä¾‹1ï¼š</p><blockquote><p>è¾“å…¥ï¼šnums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3<br>è¾“å‡ºï¼š[1,2,2,3,5,6]</p></blockquote><p>ç¤ºä¾‹2ï¼š</p><blockquote><p>è¾“å…¥ï¼šnums1 = [1], m = 1, nums2 = [], n = 0<br>è¾“å‡ºï¼š[1]</p></blockquote><p>è¿™é“é¢˜æ˜¯å¤šæŒ‡é’ˆä¸­çš„ä¸€ç§é¢˜å‹ï¼Œä½†æ˜¯å®ƒéœ€è¦çš„æ˜¯é€†å‘æŒ‡é’ˆï¼ŒçŸ¥é“åŸç†åæ¯”è¾ƒç®€å•</p><p>å› ä¸ºè¿™ä¸¤ä¸ªæ•°ç»„å·²ç»æ’å¥½åºï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æ”¾åœ¨ä¸¤ä¸ªæ•°ç»„çš„æœ«å°¾ï¼Œå³ nums1 çš„m - 1 ä½å’Œ nums2 çš„ n - 1 ä½æ¯æ¬¡å°†è¾ƒå¤§çš„é‚£ä¸ªæ•°å­—å¤åˆ¶åˆ° nums1 çš„åè¾¹ï¼Œç„¶åå‘å‰ç§»åŠ¨ä¸€ä½ã€‚å› ä¸ºæˆ‘ä»¬ä¹Ÿè¦å®šä½ nums1 çš„æœ«å°¾ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦ç¬¬ä¸‰ä¸ªæŒ‡é’ˆï¼Œä»¥ä¾¿å¤åˆ¶ã€‚<br>åœ¨ä»¥ä¸‹çš„ä»£ç é‡Œï¼Œæˆ‘ä»¬ç›´æ¥åˆ©ç”¨ m å’Œ n å½“ä½œä¸¤ä¸ªæ•°ç»„çš„æŒ‡é’ˆï¼Œå†é¢å¤–åˆ›ç«‹ä¸€ä¸ª pos æŒ‡é’ˆï¼Œèµ·å§‹ä½ç½®ä¸º m + n - 1ã€‚æ¯æ¬¡å‘å‰ç§»åŠ¨ m æˆ– n çš„æ—¶å€™ï¼Œä¹Ÿè¦å‘å‰ç§»åŠ¨ posã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œå¦‚æœ nums1çš„æ•°å­—å·²ç»å¤åˆ¶å®Œï¼Œä¸è¦å¿˜è®°æŠŠ nums2 çš„æ•°å­—ç»§ç»­å¤åˆ¶ï¼›å¦‚æœ nums2 çš„æ•°å­—å·²ç»å¤åˆ¶å®Œï¼Œå‰©ä½™nums1 çš„æ•°å­—ä¸éœ€è¦æ”¹å˜ï¼Œå› ä¸ºå®ƒä»¬å·²ç»è¢«æ’å¥½åºã€‚  </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums1<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums2<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> size1 <span class="token operator">=</span> nums1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> size2 <span class="token operator">=</span> nums2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>size2<span class="token punctuation">)</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token comment">//éœ€è¦ä¸‰ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æ˜¯m-1,n-1å’Œm+n-1ï¼Œå‰ä¸¤ä¸ªå¯ä»¥ç”¨m n ä»£æ›¿</span>        <span class="token keyword">int</span> pos <span class="token operator">=</span> m<span class="token operator">+</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        n<span class="token operator">--</span><span class="token punctuation">;</span>m<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">>=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> m<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            nums1<span class="token punctuation">[</span>pos<span class="token operator">--</span><span class="token punctuation">]</span><span class="token operator">=</span>nums1<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">></span>nums2<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">?</span>nums1<span class="token punctuation">[</span>m<span class="token operator">--</span><span class="token punctuation">]</span><span class="token operator">:</span>nums2<span class="token punctuation">[</span>n<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            nums1<span class="token punctuation">[</span>pos<span class="token operator">--</span><span class="token punctuation">]</span><span class="token operator">=</span>nums2<span class="token punctuation">[</span>n<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ—¶é—´å¤æ‚åº¦<em>O(m+n)<em>ï¼Œå› ä¸ºæŒ‡é’ˆæœ€å¤šéå†m+nä¸ªæ•°ï¼Œç©ºé—´å¤æ‚åº¦</em>O(1)</em></p><hr><h2 id="142-ç¯å½¢é“¾è¡¨-IIâ€”ï¼ˆä¸­ç­‰ï¼‰"><a href="#142-ç¯å½¢é“¾è¡¨-IIâ€”ï¼ˆä¸­ç­‰ï¼‰" class="headerlink" title="142. ç¯å½¢é“¾è¡¨ IIâ€”ï¼ˆä¸­ç­‰ï¼‰"></a><a href="https://leetcode-cn.com/problems/linked-list-cycle-ii/">142. ç¯å½¢é“¾è¡¨ II</a>â€”ï¼ˆä¸­ç­‰ï¼‰</h2><p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚</p><p>ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æ³¨æ„ï¼Œpos ä»…ä»…æ˜¯ç”¨äºæ ‡è¯†ç¯çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚</p><p>è¯´æ˜ï¼šä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚</p><p><em>è¿›é˜¶ï¼š</em></p><p><em>ä½ æ˜¯å¦å¯ä»¥ä½¿ç”¨ O(1) ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ</em></p><blockquote><p>ç¤ºä¾‹ï¼š</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/aeba8d5b296441c6a8d25a7bc3e7eb31.png" alt="1" style="zoom:80%;" /><p>è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1<br>è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹<br>è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚</p></blockquote><p>æœ¬é¢˜ç¬¬ä¸€æ¬¡åšç¨å¾®æœ‰éš¾åº¦ï¼Œæ¶‰åŠåˆ°ä¸€äº›æ•°å­¦çŸ¥è¯†</p><p>æ‰€ä½¿ç”¨çš„æ˜¯å¿«æ…¢æŒ‡é’ˆï¼Œä¸¤ä¸ªæŒ‡é’ˆéƒ½æ˜¯ä»å¤´ç»“ç‚¹å¼€å§‹ï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ ¼ï¼Œæ…¢æŒ‡é’ˆæ¯æ¬¡èµ°ä¸€æ ¼ï¼Œå¦‚æœä»–ä»¬å¯ä»¥ç›¸é‡ï¼Œå°±ä»£è¡¨é“¾è¡¨æ˜¯æœ‰ç¯çš„ï¼Œå› ä¸ºå¿«æŒ‡é’ˆæ¯æ¬¡èµ°çš„æ¯”æ…¢æŒ‡é’ˆå¤š<code>1</code>æ ¼ï¼Œåªè¦æ˜¯æœ‰ç¯è·¯è‚¯å®šèƒ½ç›¸é‡</p><p>å…¶æ¬¡ï¼Œåœ¨ç¬¬ä¸€æ¬¡ç›¸é‡åï¼Œæˆ‘ä»¬å°†å¿«æŒ‡é’ˆé‡ç½®ä¸ºå¤´ç»“ç‚¹ä½ç½®ï¼Œä¹‹åå¿«æ…¢æŒ‡é’ˆ<code>åŒæ—¶èµ°</code>ï¼Œæ¯æ¬¡éƒ½æ˜¯èµ°<code>1</code>æ­¥ï¼Œç›´åˆ°ä¸¤æŒ‡é’ˆå†ä¸€æ¬¡ç›¸é‡å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ç¯å…¥å£äº†ï¼Œå…·ä½“æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬çœ‹ä¸‹é¢çš„å›¾</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/c1f26d9f0524448ebd0245449d12eb45.png" alt="code" style="zoom:80%;" /><p>æˆ‘ä»¬è®¾<code>x</code>æ˜¯å¤´ç»“ç‚¹åˆ°ç¯å½¢å…¥å£èŠ‚ç‚¹çš„èŠ‚ç‚¹æ•°ï¼Œ<code>y</code>æ˜¯ä»å…¥å£èŠ‚ç‚¹åˆ°ä¸¤ä¸ªæŒ‡é’ˆç¬¬ä¸€æ¬¡ç›¸é‡çš„èŠ‚ç‚¹çš„èŠ‚ç‚¹æ•°ï¼Œå½“ç¬¬ä¸€æ¬¡ä¸¤æŒ‡é’ˆåœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ç›¸é‡æ—¶ï¼Œæ…¢æŒ‡é’ˆèµ°äº†<code>x+y</code>ï¼Œå¿«æŒ‡é’ˆèµ°äº†<code>x+y+n(z+y)</code>å…¶ä¸­<code>n(z+y)</code>æ˜¯åœ¨ç¯å†…å¤šèµ°äº†<code>n</code>åœˆ</p><p>åˆå› ä¸ºå¿«æŒ‡é’ˆèµ°çš„èŠ‚ç‚¹æ•°æ˜¯æ…¢æŒ‡é’ˆçš„ä¸¤å€åˆ™æœ‰æ–¹ç¨‹ï¼š<code>2(x+y)=x+y+n(z+y)</code>ï¼ŒåŒ–ç®€çš„å‡º<code>x=n(y+z)-y</code>ï¼Œä»n(y+z)æå‡ºä¸€ä¸ªy+zå¾—å‡ºå…¬å¼ï¼š<code>x=(n-1)(y+z)+z</code>ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å‡è®¾<code>n=1</code>ï¼Œå³å¿«æŒ‡é’ˆåªç”¨åœ¨ç¯å†…å¤šèµ°ä¸€åœˆå°±ï¼Œå°±å¯ä»¥å¾—å‡º<code>x=z</code></p><p>è¿™æ ·å°±å¾—å‡ºäº†æœ€ç»ˆçš„ç»“è®ºï¼šå½“ä¸¤ä¸ªæŒ‡é’ˆåœ¨ç¬¬ä¸€æ¬¡ç›¸é‡åï¼Œæ­¤æ—¶ç›¸é‡èŠ‚ç‚¹åˆ°ç¯å½¢å…¥å£èŠ‚ç‚¹é•¿åº¦<code>ç­‰äº</code>å¤´ç»“ç‚¹åˆ°ç¯å½¢å…¥å£é•¿åº¦ï¼Œé‚£ä¹ˆé—®é¢˜å°±å¾ˆå®¹æ˜“äº†ï¼Œæˆ‘ä»¬éšä¾¿å°†ä¸€ä¸ªæŒ‡é’ˆ<code>é‡ç½®</code>å›å¤´ç»“ç‚¹ï¼Œå†è®©ä¸¤ä¸ªæŒ‡é’ˆåŒæ—¶å‡ºå‘ï¼Œå¹¶ä¸”æ¯ä¸€æ­¥åªèµ°<code>ä¸€æ ¼</code>é•¿åº¦ï¼Œå½“å†æ¬¡ç›¸é‡æ—¶ï¼Œä½ç½®å°±æ˜¯ç¯å½¢å…¥å£èŠ‚ç‚¹äº†</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    ListNode <span class="token operator">*</span><span class="token function">detectCycle</span><span class="token punctuation">(</span>ListNode <span class="token operator">*</span>head<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token operator">||</span>head<span class="token operator">-></span>next<span class="token operator">==</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        ListNode<span class="token operator">*</span> slow <span class="token operator">=</span> head<span class="token punctuation">;</span><span class="token comment">//å¿«æŒ‡é’ˆ</span>        ListNode<span class="token operator">*</span> fast <span class="token operator">=</span> head<span class="token punctuation">;</span><span class="token comment">//æ…¢æŒ‡é’ˆ</span>        <span class="token comment">//ç¬¬ä¸€æ¬¡ç›¸é‡ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰ç¯è·¯</span>        <span class="token keyword">do</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>fast<span class="token operator">||</span><span class="token operator">!</span>fast<span class="token operator">-></span>next<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>            fast<span class="token operator">=</span>fast<span class="token operator">-></span>next<span class="token operator">-></span>next<span class="token punctuation">;</span>            slow<span class="token operator">=</span>slow<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">while</span><span class="token punctuation">(</span>slow<span class="token operator">!=</span>fast<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//é‡ç½®å¿«æŒ‡é’ˆ</span>        fast <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token comment">//ç¬¬äºŒæ¬¡ç›¸é‡åˆ™æ˜¯å…¥å£</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>fast<span class="token operator">!=</span>slow<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            fast <span class="token operator">=</span> fast<span class="token operator">-></span>next<span class="token punctuation">;</span>            slow <span class="token operator">=</span> slow<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> slow<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ—¶é—´å¤æ‚åº¦ä¸ºï¼š<em>O(n)<em>ï¼Œç©ºé—´å¤æ‚åº¦ä¸º</em>O(1)</em></p><hr><h2 id="76-æœ€å°è¦†ç›–å­ä¸²â€”ï¼ˆå›°éš¾ï¼‰"><a href="#76-æœ€å°è¦†ç›–å­ä¸²â€”ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="76. æœ€å°è¦†ç›–å­ä¸²â€”ï¼ˆå›°éš¾ï¼‰"></a><a href="https://leetcode-cn.com/problems/minimum-window-substring/">76. æœ€å°è¦†ç›–å­ä¸²</a>â€”ï¼ˆå›°éš¾ï¼‰</h2><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ã€ä¸€ä¸ªå­—ç¬¦ä¸² t ã€‚è¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ s ä¸­ä¸å­˜åœ¨æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² â€œâ€ ã€‚</p><p>æ³¨æ„ï¼š</p><p>å¯¹äº t ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº t ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚<br>å¦‚æœ s ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><blockquote><p>è¾“å…¥ï¼šs = â€œADOBECODEBANCâ€, t = â€œABCâ€<br>è¾“å‡ºï¼šâ€BANCâ€</p></blockquote><p>ç¤ºä¾‹ 2ï¼š</p><blockquote><p>è¾“å…¥ï¼šs = â€œaâ€, t = â€œaâ€<br>è¾“å‡ºï¼šâ€aâ€</p></blockquote><p>ç¤ºä¾‹ 3:</p><blockquote><p>è¾“å…¥: s = â€œaâ€, t = â€œaaâ€<br>è¾“å‡º: â€œâ€<br>è§£é‡Š: t ä¸­ä¸¤ä¸ªå­—ç¬¦ â€˜aâ€™ å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œ<br>å› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</p></blockquote><p>è¿™ä¸ªé¢˜ç›®ä¸­è¦æ³¨æ„çš„æ˜¯å­—ç¬¦ä¸²tæ˜¯å¯ä»¥åŒ…å«<em>é‡å¤</em>å­—æ¯çš„</p><p>æ‰€è¿ç”¨çš„æ˜¯æ»‘åŠ¨çª—å£ï¼Œç”±äºä¹‹å‰æ²¡æœ‰åšè¿‡æ»‘åŠ¨çª—å£çš„é¢˜ï¼Œæ‰€ä»¥å…ˆçœ‹äº†è§£é‡Šæ‰å¼€å§‹åšçš„ï¼Œæ›´å¤šç»†èŠ‚åœ¨<a href="https://leetcode-cn.com/problems/minimum-window-substring/solution/zui-xiao-fu-gai-zi-chuan-by-leetcode-solution/">å®˜æ–¹è§£æ</a>å’Œè§†é¢‘ï¼Œæ»‘åŠ¨çª—å£å›¾ç¤ºå¦‚ä¸‹ï¼š</p><img src="https://cube-resources.lenovo.com.cn/cube/86cf648e03a1a5daceab2cfbdb802819.gif" alt="æ»‘åŠ¨çª—å£" style="zoom:80%;" /><p>é¦–å…ˆæ˜¯è¿ç”¨ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªæ˜¯è®°å½•æ»‘åŠ¨çª—å£ä¸­éå†åˆ°çš„tå­—ç¬¦ä¸²å«æœ‰çš„å­—æ¯ä¸ªæ•°ï¼Œè€Œå¦ä¸€ä¸ªåˆ™æ˜¯è®°å½•tå­—ç¬¦ä¸²æ¯ä¸ªå­—æ¯çš„ä¸ªæ•°ã€‚ç„¶åè¿˜æœ‰ä¸ªæ¯”è¾ƒé‡è¦çš„å°±æ˜¯<code>distance</code>ï¼Œè¿™ä¸ªå˜é‡æ˜¯ç”¨æ¥è®°å½•å½“å‰æ»‘åŠ¨çª—å£åŒºåŸŸä¸­æ‹¥æœ‰å¯¹ç…§å­—ç¬¦ä¸²tä¸­æ‰€éœ€è¦çš„å­—ç¬¦ä¸ªæ•°</p><p>æ•´ä¸ªæ»‘åŠ¨çª—å£æµç¨‹å¤§è‡´æ˜¯ï¼š</p><p>å½“å³æŒ‡é’ˆå‰è¿›æ—¶éå†åˆ°ä¸€ä¸ªæ‰€éœ€å­—ç¬¦åˆ™<code>distance+1</code>ï¼Œç›´åˆ°<code>distance == t.size()</code>æ—¶åœæ­¢å‰è¿›ï¼Œ<strong>æ³¨æ„å½“ä¸€ä¸ªå­—ç¬¦å‡ºç°è¶…è¿‡æ‰€éœ€æ•°ä½†æ˜¯distanceè¿˜æ²¡è¾¾æ ‡æ—¶ï¼Œdistanceä¸å¢åŠ </strong>ï¼Œå¦‚ä¸‹é¢ä»£ç ä¸­çš„<code>winFre[s[right]]&gt;=tFre[s[right]]</code>æ—¶distanceä¸ä¼šå†ç»§ç»­åŠ 1ã€‚</p><p>ä¹‹åè½®åˆ°å·¦æŒ‡é’ˆå‰è¿›ï¼Œå®ƒä¼šè·³è¿‡ä¸€äº›å¤šä½™çš„å­—ç¬¦ä»¥å°½å¯èƒ½åœ°ç¼©å°åŒºåŸŸï¼Œå®ƒä¹Ÿè¦å‰”é™¤é‡å¤çš„å­—ç¬¦æ•°ï¼Œå½“<code>winFre[s[right]]&gt;tFre[s[right]]</code>æ—¶distanceä¸ä¼šç›¸å‡ï¼Œå› æ­¤<code>distance</code>çš„ä½œç”¨å¯ä»¥çœ‹åšæ˜¯ä¸¤è¾¹å­—æ¯çš„è¾¹ç•Œå€¼ã€‚åœ¨å·¦æŒ‡é’ˆé‡åˆ°ä¸èƒ½å†ç»§ç»­å‰è¿›æ—¶ä¼šæ¯”è¾ƒå½“å‰æœ€å°çš„è¦†ç›–å­ä¸²åŒºé—´æ˜¯å¦è¦æ›´æ–°ï¼Œæœ€åä¸‹ä¸€æ¬¡å¾ªç¯ä¸­åˆè¦æ¢å¤ä¸ºå³åŒºé—´å‰è¿›ï¼Œç›´åˆ°å³åŒºé—´åˆ°è¾¾tå­—ç¬¦ä¸²çš„é•¿åº¦æ‰ä¼šé€€å‡ºå¾ªç¯ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    string <span class="token function">minWindow</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> string t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> sLen <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> tLen <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>sLen<span class="token operator">&lt;</span>tLen<span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">//ç‰¹æ®Šæƒ…å†µ</span>        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> s<span class="token punctuation">;</span>        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//å·¦æŒ‡é’ˆ</span>        <span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//å³æŒ‡é’ˆ</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token function">winFre</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•æ»‘åŠ¨çª—å£ä¸­æ‰€åŒ…å«å¯¹ç…§å­—ç¬¦ä¸²æ¯ä¸ªå­—æ¯çš„ä¸ªæ•°</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token function">tFre</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•å¯¹ç…§å­—ç¬¦ä¸²ä¸­æ‰€å«æœ‰çš„æ¯ä¸ªå­—æ¯çš„ä¸ªæ•°</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> i<span class="token operator">:</span>t<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">//éå†å¯¹ç…§å­—ç¬¦ä¸²t</span>            tFre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•è¿”å›å­—ç¬¦ä¸²çš„å¼€å§‹ä¸‹æ ‡ä½ç½®</span>        <span class="token keyword">int</span> minLen <span class="token operator">=</span> sLen<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•å½“å‰éå†å¾—åˆ°çš„æœ€å°è¦†ç›–å­ä¸²é•¿åº¦</span>        <span class="token keyword">int</span> distance <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•æ»‘åŠ¨çª—å£ä¸­æ‰€åŒ…å«çš„å­—æ¯ä¸ªæ•°å’Œå¯¹ç…§å­—ç¬¦ä¸²æ‰€éœ€è¦çš„å­—æ¯ä¸ªæ•°å·®è·ï¼ˆç›¸åŒæ—¶ä¸åŠ ï¼‰</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>right<span class="token operator">&lt;</span>sLen<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¾ªç¯ç»“æŸæ¡ä»¶æ˜¯å³æŒ‡é’ˆåˆ°è¾¾æœ€åä¸€ä¸ªå­—ç¬¦</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>tFre<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token comment">//é¦–å…ˆæ˜¯å³æŒ‡é’ˆå¾€å³èµ°ï¼Œé‡åˆ°ä¸æ˜¯æ‰€éœ€è¦æ‰¾çš„å­—ç¬¦è·³è¿‡</span>                right<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>winFre<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>tFre<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                distance<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//æ»‘åŠ¨çª—å£é‡åˆ°ä¸å¤Ÿå­—æ¯æ€»æ•°æ—¶distanceåŠ ä¸€</span>            winFre<span class="token punctuation">[</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>            right<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>distance <span class="token operator">==</span> tLen<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token comment">//æ»‘åŠ¨çª—å£å·¦æŒ‡é’ˆå‰è¿›</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>tFre<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    left<span class="token operator">++</span><span class="token punctuation">;</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>winFre<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> tFre<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                    distance<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//é‡åˆ°åˆšå¥½æ»¡è¶³å­—ç¬¦æ•°æ¡ä»¶æ—¶å‡å»distanceï¼Œä»¥ä½¿æ¢å¤ä¸‹ä¸€æ¬¡å¾ªç¯æ˜¯å³æŒ‡é’ˆå‰è¿›</span>                <span class="token keyword">int</span> tempWinLen <span class="token operator">=</span> right <span class="token operator">-</span> left<span class="token punctuation">;</span><span class="token comment">//å½“å‰æ»‘åŠ¨çª—å£çš„å­—ç¬¦é•¿åº¦</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>minLen<span class="token operator">></span>tempWinLen<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token comment">//å¦‚æœå½“å‰è®°å½•åœ¨å†…çš„æœ€å°åŒºé—´æ²¡æœ‰æ–°çš„å°åˆ™æ›¿æ¢å®ƒ</span>                    minLen <span class="token operator">=</span> tempWinLen<span class="token punctuation">;</span>                    begin <span class="token operator">=</span> left<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                                winFre<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>                left<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//cout&lt;&lt;begin&lt;&lt;" "&lt;&lt;minLen;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>minLen <span class="token operator">==</span> sLen <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">else</span>            <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span>minLen<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ—¶é—´å¤æ‚åº¦O(n)ï¼Œç©ºé—´å¤æ‚åº¦O(k)ï¼Œkä¸ºä¸¤ä¸ªä¼ è¿›æ¥çš„å­—ç¬¦ä¸²é•¿åº¦ä¹‹å’Œ</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;LeetCodeåˆ·é¢˜ç¬”è®°ç¬¬ä¸€æœŸ&quot;&gt;&lt;a href=&quot;#LeetCodeåˆ·é¢˜ç¬”è®°ç¬¬ä¸€æœŸ&quot; class=&quot;headerlink&quot; title=&quot;LeetCodeåˆ·é¢˜ç¬”è®°ç¬¬ä¸€æœŸ&quot;&gt;&lt;/a&gt;LeetCodeåˆ·é¢˜ç¬”è®°ç¬¬ä¸€æœŸ&lt;/h1&gt;&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;</summary>
      
    
    
    
    <category term="LeetCodeåˆ·é¢˜ç¬”è®°" scheme="http://sakura-pub.ltd/categories/LeetCode%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="LeetCode" scheme="http://sakura-pub.ltd/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°11-æ·»åŠ æ”»å‡»å±æ€§</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B011-%E6%B7%BB%E5%8A%A0%E6%94%BB%E5%87%BB%E5%B1%9E%E6%80%A7/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B011-%E6%B7%BB%E5%8A%A0%E6%94%BB%E5%87%BB%E5%B1%9E%E6%80%A7/</id>
    <published>2021-07-17T01:11:59.000Z</published>
    <updated>2021-07-17T06:34:40.384Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨è¿™ä¸€ç« èŠ‚ä¸­æˆ‘ä»¬æ¥ç»™äººç‰©è¿˜æœ‰å²è±å§†æ·»åŠ æ”»å‡»çš„å±æ€§ï¼ŒåŒæ—¶ä¹Ÿç»™å²è±å§†è¡¥å……ä¸Šæ”»å‡»çš„åŠ¨ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¼€å§‹å§</p><h1 id="åˆ›å»ºæœ‰å…³æ”»å‡»çš„ScriptableObject"><a href="#åˆ›å»ºæœ‰å…³æ”»å‡»çš„ScriptableObject" class="headerlink" title="åˆ›å»ºæœ‰å…³æ”»å‡»çš„ScriptableObject"></a>åˆ›å»ºæœ‰å…³æ”»å‡»çš„ScriptableObject</h1><p>é¦–å…ˆè¿˜æ˜¯æ–°å»ºæ–‡ä»¶å¤¹å’Œä»£ç æ–‡ä»¶ğŸ‘‡</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/b58fb07a9dd74e99a87414a252bf97d5.png" alt="1.png" style="zoom:80%;" /><p>æ‰“å¼€è¿™ä¸ªä»£ç ï¼Œæˆ‘ä»¬æ¥å†™ä¸€ä¸‹æœ‰å…³æ”»å‡»çš„å±æ€§</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">CreateAssetMenu</span><span class="token attribute-arguments"><span class="token punctuation">(</span>fileName <span class="token operator">=</span> <span class="token string">"New Data"</span><span class="token punctuation">,</span>menuName <span class="token operator">=</span> <span class="token string">"Attack/Attack Data"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AttackData_SO</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ScriptableObject</span></span><span class="token punctuation">&#123;</span>    <span class="token comment">//è®°å½•æ”»å‡»ç›¸å…³å±æ€§</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> attackRange<span class="token punctuation">;</span><span class="token comment">//è¿‘æˆ˜æ”»å‡»èŒƒå›´</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> skillRange<span class="token punctuation">;</span><span class="token comment">//è¿œç¨‹æ”»å‡»èŒƒå›´</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> coolDown<span class="token punctuation">;</span><span class="token comment">//CDå†·å´</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> minDamage<span class="token punctuation">;</span><span class="token comment">//æ”»å‡»æœ€å°ä¼¤å®³</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> maxDamage<span class="token punctuation">;</span><span class="token comment">//æ”»å‡»æœ€å¤§ä¼¤å®³</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> criticalMultiplier<span class="token punctuation">;</span><span class="token comment">//æš´å‡»åŠ æˆç™¾åˆ†æ¯”</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> criticalChance<span class="token punctuation">;</span><span class="token comment">//æš´å‡»ç‡</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰“å®Œä»£ç ä¹‹åæˆ‘ä»¬å°±å¯ä»¥å»ºç«‹ä¸€ä¸ªæœ‰å…³æ”»å‡»çš„<code>ScriptableObject</code>äº†</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/ab9faff156ca410f9a77dd7090b983e8.png" alt="2.png" style="zoom:80%;" /><p>ç„¶åæˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚è¿›è¡Œå±æ€§å€¼è®¾å®š</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/cc0abf9d1c1f4e6d8accc357cba98c51.png" alt="3.png" style="zoom:80%;" /><p>åŒæ—¶æˆ‘ä»¬è¿˜è¦å°†å®ƒæŒ‚è½½åˆ°äººç‰©å’Œæ•Œäººèº«ä¸Šï¼Œæˆ‘ä»¬æ‰“å¼€<code>Monobehavior</code>æ–‡ä»¶å¤¹ä¸‹çš„<code>CharcterStates.cs</code>ä»£ç æ–‡ä»¶ï¼Œè¿™ä¸ªä»£ç æ–‡ä»¶æ˜¯æŒ‚è¾…åŠ©å°†ScriptableObjectæŒ‚è½½çš„</p><p>ç„¶åæ·»åŠ ä¸€è¡Œä»£ç ï¼Œæ¥å—å¤–ç•Œæä¾›çš„<code>Player BaseAttackData</code>çš„ScriptableObject</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token class-name">AttackData_SO</span> attackData<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¹‹åæˆ‘ä»¬å°±å¯ä»¥å›åˆ°å²è±å§†ä¸ŠæŒ‚è½½äº†</p><img src="https://p9-tt.byteimg.com/origin/pgc-image/ba22aeebd6224df78664695acf1c927f.png" alt="4.png" style="zoom:80%;" /><h1 id="è¡¥å……ä¹‹å‰çš„æ”»å‡»ç›¸å…³ä»£ç "><a href="#è¡¥å……ä¹‹å‰çš„æ”»å‡»ç›¸å…³ä»£ç " class="headerlink" title="è¡¥å……ä¹‹å‰çš„æ”»å‡»ç›¸å…³ä»£ç "></a>è¡¥å……ä¹‹å‰çš„æ”»å‡»ç›¸å…³ä»£ç </h1><p>è¿˜è®°å¾—ä¹‹å‰åœ¨å†™äººç‰©å’Œå²è±å§†æ”»å‡»æ—¶ç•™ä¸‹æ¥çš„ä¸€äº›å¾…è¡¥å……ä»£ç å—ï¼Ÿæˆ‘ä»¬ç°åœ¨å°±å¯ä»¥é€æ­¥æ¥å®Œå–„å®ƒä»¬äº†</p><p>ç¬¬ä¸€ä¸ªè¦ä¿®æ”¹çš„æ˜¯<code>PlayerController.cs</code>é‡Œé¢äººç‰©çš„æ”»å‡»è·ç¦»ï¼Œä¹‹å‰æˆ‘ä»¬ä¸€ç›´æ˜¯é»˜è®¤ä¸º1ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬å¯ä»¥æ¥è¡¥å……å®ƒäº†</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//ScriptableObjectç›¸å…³å˜é‡</span><span class="token keyword">private</span> <span class="token class-name">CharcterStates</span> charcterStates<span class="token punctuation">;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    charcterStates <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CharcterStates<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token return-type class-name">IEnumerator</span> <span class="token function">MoveToAttackTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    transform<span class="token punctuation">.</span><span class="token function">LookAt</span><span class="token punctuation">(</span>attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//TODO:æ·»åŠ äººç‰©æ”»å‡»è·ç¦»</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span><span class="token function">Distance</span><span class="token punctuation">(</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">,</span>attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token operator">></span>          charcterStates<span class="token punctuation">.</span>attackData<span class="token punctuation">.</span>attackRange<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//æ¯”è¾ƒäººç‰©å’Œæ•Œäººçš„è·ç¦»æ˜¯å¦å¤§äº0æ”»å‡»è·ç¦»ï¼ŒDistance()å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªVector3è·ç¦»</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>agent<span class="token punctuation">.</span>destination <span class="token operator">=</span> attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span>        <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨å£°æ˜ä¸€ä¸ª<code>CharcterStates</code>åï¼Œæˆ‘ä»¬è¦æŠŠè¿™é‡Œçš„whileåˆ¤æ–­æ¡ä»¶å³è¾¹çš„1æ”¹æˆ<code>charcterStates.attackData.attackRange</code>ä»¥è·å–æ”»å‡»è·ç¦»åˆ¤æ–­</p><p>ç„¶åæ˜¯<code>EnemyController.cs</code>ï¼Œè¿™é‡Œä¿®æ”¹é‡æ¯”è¾ƒå¤§</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//ScriptableObjectç›¸å…³å˜é‡</span><span class="token keyword">private</span> <span class="token class-name">CharcterStates</span> charcterStates<span class="token punctuation">;</span><span class="token comment">//è¿™ä¸ªæ•Œäººæ”»å‡»ç›¸å…³çš„</span><span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">float</span></span> lastAttackTime<span class="token punctuation">;</span><span class="token comment">//ä¸Šä¸€æ¬¡æ”»å‡»çš„æ—¶é—´ï¼ˆç”¨æ¥å®ç°CDå†·å´æ•ˆæœï¼‰</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//...</span>    charcterStates <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CharcterStates<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    lastAttackTime <span class="token operator">=</span> charcterStates<span class="token punctuation">.</span>attackData<span class="token punctuation">.</span>coolDown<span class="token punctuation">;</span><span class="token comment">//å¼€å§‹è·å–å†·å´æ—¶é—´</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//...</span>    lastAttackTime<span class="token operator">-=</span>Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">;</span><span class="token comment">//æ¯ä¸€å¸§éƒ½å‡å†·å´</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ¤æ–­æ”»å‡»è·ç¦»å‡½æ•°</span><span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">TargetInAttackRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//äººç‰©åœ¨æ•Œäººçš„æ”»å‡»è·ç¦»å†…</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>attackTarget<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> Vector3<span class="token punctuation">.</span><span class="token function">Distance</span><span class="token punctuation">(</span>attackTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">,</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">)</span>            <span class="token operator">&lt;=</span> charcterStates<span class="token punctuation">.</span>attackData<span class="token punctuation">.</span>attackRange<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">TargetInSkillRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//äººç‰©åœ¨æ•Œäººçš„è¿œç¨‹æ”»å‡»è·ç¦»å†…</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>attackTarget<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> Vector3<span class="token punctuation">.</span><span class="token function">Distance</span><span class="token punctuation">(</span>attackTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">,</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">)</span>            <span class="token operator">&lt;=</span> charcterStates<span class="token punctuation">.</span>attackData<span class="token punctuation">.</span>skillRange<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SwitchEnemyStates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//...</span>    <span class="token keyword">switch</span><span class="token punctuation">(</span>enemyStates<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>CHASE<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>è¿½å‡»            <span class="token comment">//...</span>            <span class="token comment">//TODO:åœ¨æ”»å‡»èŒƒå›´æ”»å‡»</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">TargetInAttackRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token function">TargetInSkillRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                isFollow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//åœæ­¢è·Ÿéš</span>                agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//åœä¸‹æ¥</span>                <span class="token comment">//æ”»å‡»å†·å´å®Œæˆè¿›è¡Œæ”»å‡»ï¼Œåœ¨å‰é¢å£°æ˜äº†</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>lastAttackTime <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    lastAttackTime <span class="token operator">=</span> charcterStates<span class="token punctuation">.</span>attackData<span class="token punctuation">.</span>coolDown<span class="token punctuation">;</span>                    <span class="token comment">//æš´å‡»åˆ¤æ–­ï¼Œéšæœºè·å–çš„æ•°å€¼ï¼ˆ0åˆ°1ä¹‹é—´ï¼‰åœ¨æš´å‡»ç‡å†…åˆ™æ˜¯æš´å‡»</span>                    <span class="token comment">//charcterStates.isCriticalä¸‹é¢ä¼šè®²ï¼Œç”¨æ¥è®°å½•æ˜¯å¦æš´å‡»çš„å˜é‡</span>                    charcterStates<span class="token punctuation">.</span>isCritical <span class="token operator">=</span> Random<span class="token punctuation">.</span><span class="token keyword">value</span> <span class="token operator">&lt;</span>                        charcterStates<span class="token punctuation">.</span>attackData<span class="token punctuation">.</span>criticalChance<span class="token punctuation">;</span>                    <span class="token comment">//æ‰§è¡Œæ”»å‡»</span>                    <span class="token function">Attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                            <span class="token punctuation">&#125;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ”»å‡»æ§åˆ¶å‡½æ•°</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    transform<span class="token punctuation">.</span><span class="token function">LookAt</span><span class="token punctuation">(</span>attackTarget<span class="token punctuation">.</span>transform<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ”»å‡»æ—¶æ•Œäººçœ‹å‘ç›®æ ‡</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">TargetInAttackRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//è¿‘èº«æ”»å‡»åŠ¨ç”»</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">TargetInSkillRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//è¿œç¨‹æˆ–æŠ€èƒ½æ”»å‡»åŠ¨ç”»</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬çœ‹åˆ°ä¸­é—´æ§åˆ¶æ”»å‡»çš„æ—¶å€™æœ‰ä¸€ä¸ª<code>charcterStates.isCritical</code>çš„æ–°å˜é‡ï¼Œè¿™æ˜¯åœ¨<code>CharcterStates.cs</code>ä¸­æ–°å£°æ˜çš„ï¼Œå¯ä»¥ä¾›å¤–ç•Œè®¿é—®çš„å¸ƒå°”å€¼ï¼Œç”¨æ¥è®°å½•å½“å‰æ˜¯å¦ä¸ºæš´å‡»ï¼ŒåŒæ—¶è™½ç„¶å®ƒæ˜¯publicå±æ€§ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨<code>[HideInInspector]</code>å°†å…¶éšè—èµ·æ¥</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//CharcterStates.cs</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CharcterStates</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span>    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HideInInspector</span></span><span class="token punctuation">]</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">bool</span></span> isCritical<span class="token punctuation">;</span><span class="token comment">//æ˜¯å¦æš´å‡»</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»£ç å¼€å§‹å¤æ‚äº†èµ·æ¥ï¼Œéœ€è¦å¥½å¥½ç†è§£å“¦</p><h1 id="æ·»åŠ æ”»å‡»åŠ¨ç”»"><a href="#æ·»åŠ æ”»å‡»åŠ¨ç”»" class="headerlink" title="æ·»åŠ æ”»å‡»åŠ¨ç”»"></a>æ·»åŠ æ”»å‡»åŠ¨ç”»</h1><p>æˆ‘ä»¬çœ‹åˆ°ä¸Šé¢çš„ä»£ç æœ‰ä¸¤ä¸ªåŠ¨ç”»éœ€è¦æˆ‘ä»¬æ¥æ·»åŠ ï¼Œä¸€ä¸ªæ˜¯è¿‘èº«æ”»å‡»åŠ¨ç”»ï¼Œä¸€ä¸ªæ˜¯è¿œç¨‹æˆ–æŠ€èƒ½åŠ¨ç”»</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/3d2834012c04439d824cd2b2bbb56556.png" alt="5.png" style="zoom:80%;" /><p>æˆ‘ä»¬æŒ‰ä¸Šå›¾è¿™æ ·ç¼–è¾‘åŠ¨ç”»æ§åˆ¶å™¨ï¼Œå»ºç«‹ä¸¤ä¸ª<code>Trigger</code>ç±»å‹çš„å˜é‡æ¥åˆ†åˆ«æ§åˆ¶<code>Attack01</code>å’Œ<code>Attack02</code>çš„åŠ¨ç”»è§¦å‘æ¡ä»¶ï¼Œå…¶æ¬¡è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯ç”±å·¡é€»çŠ¶æ€åˆ‡æ¢è¿‡å»æ”»å‡»çŠ¶æ€æ—¶å¹¶ä¸éœ€è¦åŠ¨ç”»çš„è¿‡æ¸¡æ•ˆæœï¼ŒåŒæ—¶è®°å¾—ä¸è¦å¿˜è®°æŠŠè§¦å‘æ¡ä»¶é€‰æ‹©ä¸Š</p><p>ç„¶åæˆ‘ä»¬å›åˆ°ä»£ç ä¸­ï¼Œæ‰¾åˆ°æ§åˆ¶æ”»å‡»çš„<code>Attack()</code>å‡½æ•°è¡¥å……ä¸€ä¸‹</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//æ§åˆ¶æ•Œäººæ”»å‡»çš„å‡½æ•°</span>    transform<span class="token punctuation">.</span><span class="token function">LookAt</span><span class="token punctuation">(</span>attackTarget<span class="token punctuation">.</span>transform<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ”»å‡»æ—¶æ•Œäººçœ‹å‘ç›®æ ‡</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">TargetInAttackRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//è¿‘èº«æ”»å‡»åŠ¨ç”»</span>        anim<span class="token punctuation">.</span><span class="token function">SetTrigger</span><span class="token punctuation">(</span><span class="token string">"Attack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">TargetInSkillRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//è¿œç¨‹æˆ–æŠ€èƒ½æ”»å‡»åŠ¨ç”»</span>        anim<span class="token punctuation">.</span><span class="token function">SetTrigger</span><span class="token punctuation">(</span><span class="token string">"Skill"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·æˆ‘ä»¬å°±å®ç°äº†åŸºæœ¬çš„æ”»å‡»æ•ˆæœ</p><p>æˆ‘ä»¬è¿˜å¯ä»¥æŠŠæš´å‡»æ•ˆæœåŠ ä¸Šï¼Œå¯ä»¥æŠŠSkillåŠ¨ç”»æ¢æˆæˆ‘ä»¬çš„æš´å‡»æ•ˆæœåŠ¨ç”»</p><p>å†æ¬¡æ‰“å¼€åŠ¨ç”»æ§åˆ¶å™¨ï¼Œæ·»åŠ ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„å˜é‡<code>Critical</code></p><p>æˆ‘ä»¬æŠŠ<code>Attack02</code>å½“åšæš´å‡»åŠ¨ç”»ï¼Œç„¶åè°ƒæ•´ä¸€ä¸‹åŠ¨ç”»çš„åˆ‡æ¢è¿‡ç¨‹</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/d665b2ca32e840c8868baf19b0e587cf.png" alt="6.png" style="zoom:80%;" /><p>è¿™é‡Œæ³¨æ„ä¸€ç‚¹å°±æ˜¯è¿˜è¦åŒºåˆ«æ™®é€šæ”»å‡»æ—¶<code>Critical</code>è§¦å‘çŠ¶æ€åº”è¯¥æ˜¯<code>false</code>ï¼Œä»¥é˜²åŠ¨ç”»å†²çª</p><img src="https://p26-tt.byteimg.com/origin/pgc-image/4745d79d02704b0c9ef1bf7903896d5b.png" alt="7.png" style="zoom:80%;" /><p>ç„¶åè¿”å›ä»£ç ï¼Œæˆ‘ä»¬è¦æ—¶åˆ»è·å–æ˜¯å¦ä¸ºæš´å‡»çŠ¶æ€ï¼Œé‚£ä¹ˆå¯ä»¥å¦‚ä¸‹æ“ä½œ</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//å®æ—¶æ›´æ–°Animatoré‡Œé¢å²è±å§†çš„çŠ¶æ€å¸ƒå°”å€¼</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SwitchAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    anim<span class="token punctuation">.</span><span class="token function">SetBool</span><span class="token punctuation">(</span><span class="token string">"Critical"</span><span class="token punctuation">,</span>charcterStates<span class="token punctuation">.</span>isCritical<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ—¶åˆ»è·å–æ˜¯å¦ä¸ºæš´å‡»</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç”±äº<code>SwitchAnimation()</code>æ˜¯æ”¾åœ¨Update()é‡Œé¢è¿è¡Œçš„ï¼Œæ‰€ä»¥å¯ä»¥æŠŠæš´å‡»çŠ¶æ€æ”¾åœ¨è¿™é‡Œè®©å®ƒæ¯ä¸€åˆ»éƒ½è·å–æš´å‡»çŠ¶æ€</p><h1 id="ä¿®å¤äººç‰©è„±ç¦»æ•Œäººæ”»å‡»èŒƒå›´åæ•Œäººä¸åŠ¨é—®é¢˜"><a href="#ä¿®å¤äººç‰©è„±ç¦»æ•Œäººæ”»å‡»èŒƒå›´åæ•Œäººä¸åŠ¨é—®é¢˜" class="headerlink" title="ä¿®å¤äººç‰©è„±ç¦»æ•Œäººæ”»å‡»èŒƒå›´åæ•Œäººä¸åŠ¨é—®é¢˜"></a>ä¿®å¤äººç‰©è„±ç¦»æ•Œäººæ”»å‡»èŒƒå›´åæ•Œäººä¸åŠ¨é—®é¢˜</h1><p>æœ€åï¼Œæˆ‘ä»¬æœ‰ä¸ªå°é—®é¢˜è¦ä¿®å¤ä¸€ä¸‹</p><p>ç”±äºä¹‹å‰æˆ‘ä»¬å†™äº†å‘ç°æ•Œäººæ—¶æ•Œäººå°±è¦åœä¸‹æ¥</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp">agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰€ä»¥ï¼Œå¦‚æœäººç‰©è„±ç¦»æ•Œäººæ”»å‡»èŒƒå›´æ—¶æˆ‘ä»¬å°±è¦æŠŠåœæ­¢çŠ¶æ€å–æ¶ˆæ‰ï¼Œä¸ç„¶å°±ä¼šå‡ºç°æ•Œäººåœç•™åœ¨åŸåœ°çš„ç°è±¡</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>CHASE<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>è¿½å‡»<span class="token comment">//...</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">FoundPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//æ‹‰è„±å›ä¸Šä¸€ä¸ªçŠ¶æ€</span>        agent<span class="token punctuation">.</span>destination <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span><span class="token comment">//äººç‰©è„±ç¦»è¿½å‡»èŒƒå›´åï¼Œæ•Œäººåœåœ¨å½“å‰ä½ç½®</span>        isFollow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>        isFollow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//æ‰¾åˆ°äººç‰©å°±è·‘ç€è¿½</span>        agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//&lt;-----------åœæ­¢çŠ¶æ€å–æ¶ˆ</span>        agent<span class="token punctuation">.</span>speed<span class="token operator">=</span>speed<span class="token punctuation">;</span>        <span class="token comment">//äººç‰©è¿›åˆ°æ•Œäººçš„èŒƒå›´ä¼šç»™è¿½å‡»</span>        agent<span class="token punctuation">.</span>destination<span class="token operator">=</span>attackTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‚£ä¹ˆåˆ°è¿™ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ç»™äººç‰©å’Œæ•Œäººæ·»åŠ æ”»å‡»å±æ€§ï¼Œå¹¶ä¸”è¿˜ä¸ºæ•ŒäººåŠ äº†æ™®é€šæ”»å‡»å’Œæš´å‡»ç­‰æ”»å‡»åŠ¨ç”»ï¼Œè®©æ¸¸æˆå¼€å§‹å˜å¾—æœ‰æ¨¡æœ‰æ ·èµ·æ¥</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åœ¨è¿™ä¸€ç« èŠ‚ä¸­æˆ‘ä»¬æ¥ç»™äººç‰©è¿˜æœ‰å²è±å§†æ·»åŠ æ”»å‡»çš„å±æ€§ï¼ŒåŒæ—¶ä¹Ÿç»™å²è±å§†è¡¥å……ä¸Šæ”»å‡»çš„åŠ¨ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¼€å§‹å§&lt;/p&gt;
&lt;h1 id=&quot;åˆ›å»ºæœ‰å…³æ”»å‡»çš„ScriptableObject&quot;&gt;&lt;a href=&quot;#åˆ›å»ºæœ‰å…³æ”»å‡»çš„ScriptableObject&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°10-ä¸ºäººç‰©æ·»åŠ å±æ€§</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B010-%E4%B8%BA%E4%BA%BA%E7%89%A9%E6%B7%BB%E5%8A%A0%E5%B1%9E%E6%80%A7/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B010-%E4%B8%BA%E4%BA%BA%E7%89%A9%E6%B7%BB%E5%8A%A0%E5%B1%9E%E6%80%A7/</id>
    <published>2021-07-16T07:37:04.000Z</published>
    <updated>2021-07-16T09:55:36.320Z</updated>
    
    <content type="html"><![CDATA[<p>ğŸˆ<strong>æ³¨æ„</strong>ï¼šä»è¿™ä¸€ç« å¼€å§‹ï¼Œç¬”è®°å†…å®¹ä¼šåœ¨ä¸€äº›æ¯”è¾ƒç®€å•çš„åœ°æ–¹è¿›è¡Œç®€ç•¥</p><h1 id="è®¤è¯†Scriptable-Object"><a href="#è®¤è¯†Scriptable-Object" class="headerlink" title="è®¤è¯†Scriptable Object"></a>è®¤è¯†Scriptable Object</h1><p>è¿™ä¸€ç« å¼€å§‹æˆ‘ä»¬ä¼šé¢‘ç¹åœ°ä½¿ç”¨ä»£ç ä»¥åŠæ›´å¤šåœ°<code>ScriptableObject</code>èµ·æ¥ï¼Œä»€ä¹ˆæ˜¯Scriptable Objectå‘¢ï¼Ÿå°±åƒä¸‹å›¾æˆ‘ä»¬çš„<code>Pipeline Setting</code>æ–‡ä»¶å¤¹ä¸‹çš„ä¸œè¥¿å°±æ˜¯æˆ‘ä»¬ä¸€ç§Scriptable Objectå®ç°æ–¹å¼</p><img src="https://p3-tt.byteimg.com/origin/pgc-image/158275c63e164f448921282c6cefad4a.png" alt="1.png" style="zoom:80%;" /><p>å…³äºå®ƒçš„æ›´å¤šç‰¹æ€§å¯ä»¥ä¸Šç½‘æœç´¢èµ„æ–™ï¼Œè¿™é‡Œä¸è¿‡å¤šæè¿°</p><p>é‚£ä¹ˆæˆ‘ä»¬è¿™æ¬¡å°±æ‹¿å®ƒæ¥ç»™æˆ‘ä»¬çš„äººç‰©åŒ…æ‹¬æ•Œäººåˆ›å»ºä¸€äº›åŸºæœ¬çš„å±æ€§å€¼ï¼Œå¦‚ï¼šè¡€é‡ã€é˜²å¾¡å€¼ç­‰ç­‰</p><h1 id="ä¸ºäººç‰©æ·»åŠ å±æ€§å€¼"><a href="#ä¸ºäººç‰©æ·»åŠ å±æ€§å€¼" class="headerlink" title="ä¸ºäººç‰©æ·»åŠ å±æ€§å€¼"></a>ä¸ºäººç‰©æ·»åŠ å±æ€§å€¼</h1><p>é¦–å…ˆè¦åœ¨<code>Scripts</code>æ–‡ä»¶å¤¹åˆ›å»ºä¸€äº›æ–‡ä»¶å¤¹ä»¥ä¾¿æ—¥åç®¡ç†</p><img src="https://p3-tt.byteimg.com/origin/pgc-image/5a19a7e92b1e41d1ad6996dbb1a0563a.png" alt="2.png" style="zoom:80%;" /><p>ä¸¤ä¸ªæ–‡ä»¶å¤¹åˆ†åˆ«æ˜¯å­˜æ”¾æŒ‚è½½ï¼ˆMonoBehaviorï¼‰ä¸å»ºç«‹ï¼ˆScriptableObjectï¼‰æˆ‘ä»¬çš„Scriptable Objectçš„ä»£ç æ–‡ä»¶ç”¨çš„</p><p>é™¤äº†ä¸Šé¢çš„ä¸¤ä¸ªæ–‡ä»¶å¤¹å¤–ï¼Œè¿˜æœ‰ä¸“é—¨æœ‰ç”¨æ¥å­˜æ”¾<code>ScriptableObject</code>æ•°æ®çš„æ–‡ä»¶å¤¹</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/dd8e1a4b80a646f5835de7c6834b4f19.png" alt="3.png" style="zoom:80%;" /><h2 id="åˆ›å»ºä¸“é—¨å­˜æ”¾å±æ€§å€¼çš„Scriptable-Object"><a href="#åˆ›å»ºä¸“é—¨å­˜æ”¾å±æ€§å€¼çš„Scriptable-Object" class="headerlink" title="åˆ›å»ºä¸“é—¨å­˜æ”¾å±æ€§å€¼çš„Scriptable Object"></a>åˆ›å»ºä¸“é—¨å­˜æ”¾å±æ€§å€¼çš„Scriptable Object</h2><p>ä¹‹åå†åœ¨<code>Charcter States/ScriptableObject</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸ªä»£ç è„šæœ¬æ–‡ä»¶<code>CharcterData_SO.cs</code></p><p>ä»£ç å†…å®¹å¦‚ä¸‹</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//æ·»åŠ å³é”®èœå•</span><span class="token punctuation">[</span><span class="token function">CreateAssetMenu</span><span class="token punctuation">(</span>fileName <span class="token operator">=</span> <span class="token string">"New Data"</span><span class="token punctuation">,</span>menuName <span class="token operator">=</span> <span class="token string">"Charcter States/Data"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CharcterData_SO</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ScriptableObject</span></span><span class="token comment">//æ³¨æ„è¿™ä¸ªç±»ç»§æ‰¿çš„æ˜¯ScriptableObjectç±»</span><span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸€æ®µä»£ç å¯ä»¥åœ¨å³é”®èœå•ä¸­æ·»åŠ ä¸€ä¸ªé€‰é¡¹</p><img src="https://p3-tt.byteimg.com/origin/pgc-image/54d3f5656d33441fa14682fcf33ee71f.png" alt="4.1.png" style="zoom:80%;" /><p>åˆ›å»ºå‡ºæ¥çš„å°±æ˜¯ä¸€ä¸ªåŸºäº<code>CharcterData_SO</code>çš„ScriptableObjectï¼Œæˆ‘ä»¬å°†å…¶å‘½åä¸º<code>Player Data</code></p><img src="https://p3-tt.byteimg.com/origin/pgc-image/5ff5985ea4a742efa56703027a071053.png" alt="4.png" style="zoom:80%;" /><img src="https://p26-tt.byteimg.com/origin/pgc-image/b6c7ca8158fb45f89fa331bffdba9eba.png" alt="5.png" style="zoom:80%;" /><p>è¿™ä¸ªæ—¶å€™è¿˜æ˜¯ä»€ä¹ˆéƒ½æ²¡æœ‰çš„ï¼Œæˆ‘ä»¬é‡æ–°æ‰“å¼€<code>CharcterData_SO.cs</code>ç»§ç»­å¡«å†™ä»£ç </p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//æ·»åŠ å³é”®èœå•</span><span class="token punctuation">[</span><span class="token function">CreateAssetMenu</span><span class="token punctuation">(</span>fileName <span class="token operator">=</span> <span class="token string">"New Data"</span><span class="token punctuation">,</span>menuName <span class="token operator">=</span> <span class="token string">"Charcter States/Data"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CharcterData_SO</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ScriptableObject</span></span><span class="token punctuation">&#123;</span>    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Header</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"States Infoï¼ˆå±æ€§ä¿¡æ¯ï¼‰"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> maxHealth<span class="token punctuation">;</span><span class="token comment">//æœ€å¤§ç”Ÿå‘½å€¼</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> currentHealthl<span class="token punctuation">;</span><span class="token comment">//å½“å‰ç”Ÿå‘½å€¼</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> baseDefence<span class="token punctuation">;</span><span class="token comment">//åŸºç¡€é˜²å¾¡å€¼</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> currentDefence<span class="token punctuation">;</span><span class="token comment">//å½“å‰é˜²å¾¡å€¼</span>    <span class="token comment">//æ”»å‡»åŠ›æ¯”è¾ƒå¤æ‚ï¼Œæ‰“ç®—åˆ†å¼€å†™ï¼Œè¿™é‡Œæš‚æ—¶ä¸å†™ç€å…ˆ</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œæˆ‘ä»¬èµ‹äºˆäº†4ä¸ªå±æ€§ï¼Œå½“Unityç¼–è¯‘ä¹‹ååœ¨æˆ‘ä»¬åˆšåˆšæ–°åˆ›å»ºçš„<code>Player Data</code>å°±æœ‰äº†æ”¹å˜ï¼Œå¤šäº†å‡ ä¸ªå±æ€§å€¼å‡ºæ¥</p><img src="https://p3-tt.byteimg.com/origin/pgc-image/a9cdd098cf54461a8f0387b00d539f9b.png" alt="6.png" style="zoom:80%;" /><h2 id="æŒ‚è½½Scriptable-Object"><a href="#æŒ‚è½½Scriptable-Object" class="headerlink" title="æŒ‚è½½Scriptable Object"></a>æŒ‚è½½Scriptable Object</h2><p>é‚£ä¹ˆæœ‰äº†å­˜æ”¾çš„ScriptableObjectä¹‹åï¼Œæˆ‘ä»¬è¿˜è¦æƒ³åŠæ³•å°†å…¶è¿ç”¨ï¼ˆå³æŒ‚è½½ï¼‰åˆ°äººç‰©èº«ä¸Šï¼Œæ–¹ä¾¿æ•°æ®ä¹‹é—´çš„è¯»å–</p><p>æˆ‘ä»¬åœ¨<code>Charcter States/MonoBehavior</code>ä¸­æ–°å»ºä¸€ä¸ªä»£ç è„šæœ¬ï¼Œå‘½åä¸º<code>CharcterStates.cs</code></p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CharcterStates</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">CharcterData_SO</span> charcterData<span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> MaxHealth<span class="token punctuation">&#123;</span>        <span class="token keyword">get</span><span class="token punctuation">&#123;</span><span class="token comment">//å–å€¼å±æ€§</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>charcterData <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>                <span class="token keyword">return</span> charcterData<span class="token punctuation">.</span>maxHealth<span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">set</span><span class="token punctuation">&#123;</span><span class="token comment">//èµ‹å€¼å±æ€§</span>            charcterData<span class="token punctuation">.</span>maxHealth <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//TODO:ç…§ä¸Šé¢æ¨¡å¼å†™å‡ºå…¶å®ƒå‡ ä¸ªå±æ€§å€¼</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»£ç ä¸­ç”¨åˆ°äº†C#çš„<strong>å±æ€§</strong>ï¼Œå³<code>get</code>å’Œ<code>set</code>æ¥è¯»å–æˆ–å†™å…¥äººç‰©çš„æœ€å¤§ç”Ÿå‘½å€¼ï¼Œå‰©ä¸‹çš„å‡ ä¸ªå±æ€§å€¼ä¹Ÿæ˜¯åŒæ ·æ–¹æ³•æ¥å†™</p><p>å†™å¥½ä¹‹åæˆ‘ä»¬ä¿å­˜ä¸€ä¸‹ä»£ç ï¼Œå°†ä»£ç æ–‡ä»¶å½“ä½œç»„ä»¶æ·»åŠ åˆ°äººç‰©ä¸Šé¢</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/4ccad37c1e6e4765a5459eef8bf7e044.png" alt="7.png" style="zoom:80%;" /><p>å¯ä»¥çœ‹åˆ°å®ƒéœ€è¦æ¥å—ä¸€ä¸ª<code>CharcterData_SO</code>ç±»å‹çš„</p><p>â€‹    </p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ğŸˆ&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šä»è¿™ä¸€ç« å¼€å§‹ï¼Œç¬”è®°å†…å®¹ä¼šåœ¨ä¸€äº›æ¯”è¾ƒç®€å•çš„åœ°æ–¹è¿›è¡Œç®€ç•¥&lt;/p&gt;
&lt;h1 id=&quot;è®¤è¯†Scriptable-Object&quot;&gt;&lt;a href=&quot;#è®¤è¯†Scriptable-Object&quot; class=&quot;headerlink&quot; title</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°9-æ•Œäººçš„éšæœºå·¡é€»</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B09-%E6%95%8C%E4%BA%BA%E7%9A%84%E9%9A%8F%E6%9C%BA%E5%B7%A1%E9%80%BB/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B09-%E6%95%8C%E4%BA%BA%E7%9A%84%E9%9A%8F%E6%9C%BA%E5%B7%A1%E9%80%BB/</id>
    <published>2021-07-15T01:15:42.000Z</published>
    <updated>2021-07-15T07:56:47.520Z</updated>
    
    <content type="html"><![CDATA[<p>â€‹    åœ¨ä¸Šä¸€ç« èŠ‚æˆ‘ä»¬å®ç°äº†æ•Œäººçš„è¿½å‡»æ•ˆæœï¼Œä¹Ÿå°±æ˜¯æ•Œäººçš„è¿½å‡»çŠ¶æ€ï¼Œè€Œè¿™ä¸€ç« èŠ‚æˆ‘ä»¬æ¥å®ç°å®ƒçš„å·¡é€»çŠ¶æ€æ•ˆæœ</p><h1 id="å®æ—¶æ˜¾ç¤ºå·¡é€»èŒƒå›´"><a href="#å®æ—¶æ˜¾ç¤ºå·¡é€»èŒƒå›´" class="headerlink" title="å®æ—¶æ˜¾ç¤ºå·¡é€»èŒƒå›´"></a>å®æ—¶æ˜¾ç¤ºå·¡é€»èŒƒå›´</h1><p>â€‹    ç”±äºä¹‹åä¼šæœ‰ä¸€ä¸ªè®°å½•æ•Œäººå·¡é€»èŒƒå›´çš„å˜é‡ï¼Œå› æ­¤ä¸ºäº†æ–¹ä¾¿åˆ°æ—¶å€™çš„è®¾ç½®ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸ªå‡½æ•°å¯ä»¥å®æ—¶åœ¨<code>Scene</code>çª—å£ä¸Šæ˜¾ç¤ºè¿™ä¸ªèŒƒå›´å‡ºæ¥</p><p>â€‹    å› ä¸ºè¿™ä¸ªå˜é‡æ˜¯åœ¨<code>EnemyController.cs</code>ä»£ç æ–‡ä»¶é‡Œå£°æ˜çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ç›´æ¥åœ¨æ­¤ä»£ç æ–‡ä»¶é‡Œç”¨è¿™ä¸ªå‡½æ•°</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnemyController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span>    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Header</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Patrol Stateï¼ˆå·¡é€»çŠ¶æ€çš„è®¾ç½®é¡¹ï¼‰"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> potralRange<span class="token punctuation">;</span><span class="token comment">//å·¡é€»åœˆçš„åŠå¾„å¤§å°</span>    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDrawGizmosSelected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        Gizmos<span class="token punctuation">.</span>color <span class="token operator">=</span> Color<span class="token punctuation">.</span>blue<span class="token punctuation">;</span>        Gizmos<span class="token punctuation">.</span><span class="token function">DrawWireSphere</span><span class="token punctuation">(</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">,</span>potralRange<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åœ¨æ•Œäººå½“å‰ä½ç½®ç”»ä¸€ä¸ªçƒå½¢èŒƒå›´çš„çº¿</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    <code>OnDrawGizmosSelected()</code>æ˜¯æ¥è‡ªäº<code>MonoBehaviour</code>ç±»çš„ä¸€ä¸ªå‡½æ•°ï¼Œè¿™é‡Œä»£ç æ„æ€æ˜¯åªè¦é€‰ä¸­äº†ä»£ç æ‰€åœ¨çš„å¯¹è±¡ä¸Šå°±ä¼šç»˜ç”»å‡ºä¸€ä¸ªçƒå½¢çš„çº¿ï¼Œè€Œè¿™ä¸ªçƒå½¢çš„åŠå¾„å°±æ˜¯<code>potralRange</code>ï¼Œä¾‹å¦‚å½“æ­¤å€¼è°ƒæˆä¸º2æ—¶ï¼Œçƒå½¢å¦‚ä¸‹å›¾æ‰€ç¤ºğŸ‘‡</p><img src="https://p26-tt.byteimg.com/origin/pgc-image/8c138a5dc08f44ed92287bc624597238.png" alt="1.png" style="zoom:80%;" /><p>â€‹    å½“ç„¶ä½ ä¹Ÿå¯ä»¥æ·»åŠ å…¶å®ƒå‚æ•°çš„å¯è§†åŒ–æ•ˆæœï¼Œå¯ä»¥è‡ªç”±å‘æŒ¥</p><h1 id="å®ç°æ•Œäººå·¡é€»"><a href="#å®ç°æ•Œäººå·¡é€»" class="headerlink" title="å®ç°æ•Œäººå·¡é€»"></a>å®ç°æ•Œäººå·¡é€»</h1><p>â€‹    æ¥ä¸‹æ¥å°±è¿›å…¥æ­£é¢˜ï¼Œå¦‚ä½•å®ç°æ•Œäººå·¡é€»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®ƒè®¾å®šçš„å·¡é€»èŒƒå›´å†…è·å¾—ä¸€ä¸ªç‚¹ï¼Œç„¶åå†è®©æ•Œäººèµ°è¿‡å»ï¼Œåå¤æ‰§è¡Œè¿™ä¸ªåŠ¨ä½œï¼Œå°±å¯ä»¥è®©æ•Œäººå·¡é€»èµ·æ¥äº†</p><h2 id="éšæœºè·å¾—å·¡é€»èŒƒå›´å†…çš„ä¸€ä¸ªç‚¹"><a href="#éšæœºè·å¾—å·¡é€»èŒƒå›´å†…çš„ä¸€ä¸ªç‚¹" class="headerlink" title="éšæœºè·å¾—å·¡é€»èŒƒå›´å†…çš„ä¸€ä¸ªç‚¹"></a>éšæœºè·å¾—å·¡é€»èŒƒå›´å†…çš„ä¸€ä¸ªç‚¹</h2><p>â€‹    è¦è·å¾—å·¡é€»èŒƒå›´å†…çš„ä¸€ä¸ªç‚¹ï¼Œæˆ‘ä»¬å°±è¦æœ‰ä¸€ä¸ªVector3å˜é‡æ¥è®°å½•è¿™ä¸ªç‚¹ï¼Œç„¶åæ¯æ¬¡ä½¿ç”¨éšæœºæ•°æ¥æ”¹å˜å®ƒï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥ä¸“é—¨éšæœºè·å¾—è¿™ä¸ªç‚¹çš„å€¼</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token class-name">Vector3</span> wayPoint<span class="token punctuation">;</span><span class="token comment">//æ•Œäººå·¡é€»çš„ä¸‹ä¸€ä¸ªéšæœºç›®æ ‡ç‚¹</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">GetNewWayPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//è·å–ä¸‹ä¸€ä¸ªå·¡é€»çš„éšæœºç›®æ ‡ç‚¹</span>    <span class="token comment">//Yè½´æ˜¯æ§åˆ¶é«˜åº¦çš„ï¼Œæ‰€ä»¥ä¸ç”¨è·å–ï¼Œä¿æŒåŸæ¥çš„å°±è¡Œ</span>    <span class="token comment">//è·å–çš„èŒƒå›´æ—¶[-potralRange,potralRange]</span>    <span class="token class-name"><span class="token keyword">float</span></span> randomX <span class="token operator">=</span> Random<span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token operator">-</span>potralRange<span class="token punctuation">,</span>potralRange<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name"><span class="token keyword">float</span></span> randomZ <span class="token operator">=</span> Random<span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token operator">-</span>potralRange<span class="token punctuation">,</span>potralRange<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//åœ¨æ•Œäººè‡ªå·±æœ¬èº«çš„åæ ‡ç‚¹ä¸Šè¿›è¡Œå–éšæœºç‚¹</span>    <span class="token class-name">Vector3</span> randomPoint <span class="token operator">=</span>        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x<span class="token operator">+</span>randomX<span class="token punctuation">,</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z<span class="token operator">+</span>randomZ<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//FIXME:æœ‰å¯èƒ½å‡ºç°é—®é¢˜</span>    wayPoint <span class="token operator">=</span> randomPoint<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    ç”±äºYè½´æ˜¯è®°å½•æ•Œäººæ‰€åœ¨çš„é«˜åº¦çš„ï¼Œæ‰€ä»¥è¿™é‡Œæš‚æ—¶ä¸ç”¨è·å–éšæœºæ•°ï¼Œä¿æŒåŸæ¥æ•ˆæœ</p><p>â€‹    åŒæ—¶ä¸Šé¢ä»£ç ä¸­ç»™æ ‡è®°äº†ä¸€ä¸ªFIXMEï¼Œæœ‰å¯èƒ½å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å…ˆæ”¾ä¸€è¾¹åˆ°æ—¶å€™å†æ¥å‘ç°ä¿®æ”¹</p><h2 id="ä¿®æ”¹çŠ¶æ€åˆ‡æ¢"><a href="#ä¿®æ”¹çŠ¶æ€åˆ‡æ¢" class="headerlink" title="ä¿®æ”¹çŠ¶æ€åˆ‡æ¢"></a>ä¿®æ”¹çŠ¶æ€åˆ‡æ¢</h2><p>â€‹    è·å–äº†éšæœºç‚¹åï¼Œæˆ‘ä»¬è¿˜è¦å›åˆ°<code>SwitchStates()</code>å‡½æ•°ä¸­ä¿®æ”¹ä¸€ä¸‹çŠ¶æ€çš„è¡”æ¥</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">switch</span><span class="token punctuation">(</span>enemyStates<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>PATROL<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>å·¡é€»        isChase <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//ä¸æ˜¯è¿½é€åŠ¨ç”»</span>        agent<span class="token punctuation">.</span>speed <span class="token operator">=</span> speed<span class="token operator">*</span><span class="token number">0.5f</span><span class="token punctuation">;</span><span class="token comment">//å·¡é€»é€Ÿåº¦æ˜¯è¿½é€é€Ÿåº¦çš„ä¸€åŠ</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span><span class="token function">Distance</span><span class="token punctuation">(</span>wayPoint<span class="token punctuation">,</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> agent<span class="token punctuation">.</span>stoppingDistance<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">//å¦‚æœä¸‹ä¸€ä¸ªå·¡é€»ç‚¹å’Œå½“å‰äººç‰©çš„åæ ‡ç‚¹å°äºç­‰äºå¯ç§»åŠ¨è·ç¦»åˆ™ä¸ç§»åŠ¨</span>            isWalk <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//ä¸æ’­æ”¾èµ°è·¯çš„åŠ¨ç”»</span>            <span class="token function">GetNewWayPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–ä¸‹ä¸€ä¸ªå·¡é€»ç‚¹éšæœºæ•°</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>            <span class="token comment">//æ»¡è¶³è¡Œèµ°æ¡ä»¶</span>            isWalk <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//æ•ŒäººåŠ¨ç”»æ”¹ä¸ºèµ°è·¯åŠ¨ç”»</span>            agent<span class="token punctuation">.</span>destination <span class="token operator">=</span> wayPoint<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    ä¸Šé¢å°±æ˜¯åˆ¤æ–­åˆ°æ•Œäººä¸ºå·¡é€»çŠ¶æ€æ—¶è¦åšçš„äº‹æƒ…ï¼Œé‡Œé¢è¿˜æœ‰ä¸€ä¸ªifè¯­å¥æ˜¯ç”¨äºåˆ¤æ–­å¦‚æœä¸‹ä¸€ä¸ªå·¡é€»çš„ç‚¹å°äºæˆ–ç­‰äºå¯¼èˆªç»„ä»¶å¯ä»¥ç§»åŠ¨çš„èŒƒå›´æ—¶å°±ä¸ç§»åŠ¨ï¼Œå†è·å¾—ä¸‹ä¸€ä¸ªå·¡é€»ç‚¹</p><p>ğŸ„è€Œ <a href="https://docs.unity.cn/cn/2020.3/ScriptReference/AI.NavMeshAgent-stoppingDistance.html">stoppingDistance</a> æ˜¯<code>Nav Mesh Agent</code>ç»„ä»¶é‡Œçš„ä¸€ä¸ªå±æ€§ï¼Œä»£è¡¨<code>åœæ­¢è·ç¦»</code>ï¼Œå³å¦‚æœç»™å®šçš„ç›®çš„ç‚¹ä¸å½“å‰ç‚¹çš„è·ç¦»å°äºè¿™ä¸ªå€¼çš„è¯ï¼Œæ•Œäººæ—¶ä¸ä¼šè¿›è¡Œç§»åŠ¨çš„ï¼Œè¿™ä¸ªå€¼æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å±æ€§é¢æ¿ä¸­è¿›è¡Œè°ƒæ•´</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/107272d76d03463c8012565f3e821a87.png" alt="2.png" style="zoom:80%;" /><p>â€‹    äº†è§£åˆ°è¿™äº›ä¹‹åæˆ‘ä»¬ç»§ç»­å›åˆ°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å†™äº†å·¡é€»çŠ¶æ€æ—¶è¦åšçš„äº‹æƒ…ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥æ€æ ·åˆ¤æ–­å¹¶è¿›å…¥å·¡é€»çŠ¶æ€å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬å°±æ¥å†™ä¸€ä¸‹è¿™äº›ä»£ç </p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Header</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Basic Settings"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span><span class="token comment">//...</span><span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">bool</span></span> isGuard<span class="token punctuation">;</span><span class="token comment">//å½“å‰æ•Œäººæ˜¯å¦ä¸ºè­¦å«ï¼ˆè­¦æˆ’çŠ¶æ€ï¼‰</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//å¼€å§‹æ¸¸æˆæ—¶å…ˆæ£€æµ‹æ˜¯å¦å‹¾é€‰äº†å®ˆå«çŠ¶æ€</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>isGuard<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        enemyStates <span class="token operator">=</span> EnemyStates<span class="token punctuation">.</span>GUARD<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>        enemyStates <span class="token operator">=</span> EnemyStates<span class="token punctuation">.</span>PATROL<span class="token punctuation">;</span>        <span class="token function">GetNewWayPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é˜²æ­¢å¼€å§‹æ—¶å·¡é€»ç‚¹æ˜¯ç©ºçš„é»˜è®¤èµ°åˆ°åœ°å›¾(0,0,0)ä½ç½®</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    è¿™é‡Œæˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ªå…¬å¼€çš„å¸ƒå°”å€¼å˜é‡<code>isGuard</code>ï¼Œå¯ä»¥ç›´æ¥åœ¨å±æ€§é¢æ¿å‹¾é€‰ï¼Œç”¨æ¥åˆ¤æ–­å½“å‰æ•Œäººæ˜¯å¦ä¸ºä¸€ä¸ªå®ˆå«ï¼Œå¦‚æœä¸ºå®ˆå«å°±ä¸ä¼šè¿›è¡Œå·¡é€»äº†</p><p>â€‹    åœ¨å¼„å¥½è¿™äº›ä¹‹åï¼Œæ•Œäººå·¡é€»çš„åŸºæœ¬åŠŸèƒ½å°±å®ç°äº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥å»è¯•ç©ä¸€ä¸‹äº†</p><h2 id="ä¿®å¤ä¸€äº›é—®é¢˜"><a href="#ä¿®å¤ä¸€äº›é—®é¢˜" class="headerlink" title="ä¿®å¤ä¸€äº›é—®é¢˜"></a>ä¿®å¤ä¸€äº›é—®é¢˜</h2><p>â€‹    åœ¨è¯•ç©çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬ä¸‹é¢å°±æ¥ä¿®å¤å®ƒä»¬</p><h3 id="æ•Œäººå·¡é€»çš„èŒƒå›´è¶Šæ¥è¶Šè¿œ"><a href="#æ•Œäººå·¡é€»çš„èŒƒå›´è¶Šæ¥è¶Šè¿œ" class="headerlink" title="æ•Œäººå·¡é€»çš„èŒƒå›´è¶Šæ¥è¶Šè¿œ"></a>æ•Œäººå·¡é€»çš„èŒƒå›´è¶Šæ¥è¶Šè¿œ</h3><p>â€‹    é¦–å…ˆæ˜¯æ•Œäººå·¡é€»èŒƒå›´çš„é—®é¢˜ï¼Œå¦‚æœåªä¾ç…§ä¸Šé¢çš„ä»£ç æˆ‘ä»¬ä¼šå‘ç°æ•Œäººçš„å·¡é€»èŒƒå›´ä¼šè¶Šæ¥è¶Šè¿œï¼Œè¿™æ˜¯å› ä¸ºå–éšæœºåæ ‡ç‚¹çš„ä»£ç é€»è¾‘è€ƒè™‘ä¸å¯¹åŠ²</p><p>â€‹    æˆ‘ä»¬å›åˆ°ä¸Šé¢çš„æ ‡æœ‰FIXMEä»£ç å—ä¸­</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//åœ¨æ•Œäººè‡ªå·±æœ¬èº«çš„åæ ‡ç‚¹ä¸Šè¿›è¡Œå–éšæœºç‚¹</span>    <span class="token class-name">Vector3</span> randomPoint <span class="token operator">=</span>        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x<span class="token operator">+</span>randomX<span class="token punctuation">,</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z<span class="token operator">+</span>randomZ<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>â€‹    å‡ºç°é—®é¢˜çš„å°±æ˜¯åœ¨ä¸Šé¢è¿™ä¸€å¥ä»£ç ï¼Œæˆ‘ä»¬å–åˆ°çš„ä¸‹ä¸€ä¸ªéšæœºç›®æ ‡ç‚¹æ˜¯åŸºäºæ•Œäººç°åœ¨çš„ä½ç½®åŸºç¡€ä¸Šçš„ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡å–åˆ°çš„éšæœºç‚¹éƒ½ä¸ç°åœ¨ä½ç½®ç›¸åŠ ï¼Œè¿™å°±ä¸å¯¹äº†ï¼Œå¦‚æœä¸€ç›´å¾€åŒä¸€ä¸ªæ–¹å‘ç›¸åŠ ï¼Œåªä¼šå¯¼è‡´æ•Œäººèµ°çš„è¶Šæ¥è¶Šè¿œ</p><p>â€‹    å› æ­¤è¿™é‡Œ<strong>ä¸åº”è¯¥</strong><code>transform.position+xxx</code></p><p>â€‹    </p><p>â€‹    é‚£ä¹ˆè§£å†³æ–¹æ¡ˆæ€ä¹ˆæ ·åšå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨æ¸¸æˆå¼€å§‹åˆå§‹åŒ–æŠŠå½“å‰æ•Œäººæ‰€åœ¨çš„ä½ç½®è®°å½•ä¸‹æ¥ï¼Œç„¶åæ¯æ¬¡å–éšæœºç‚¹æ˜¯åŸºäºè¿™ä¸ªç‚¹æ¥è¿›è¡Œåæ ‡ç›¸åŠ çš„</p><p>â€‹    åŒæ—¶è¿™ä¸ªåæ ‡ç‚¹ä¹Ÿä¸æ­¢åœ¨å·¡é€»çŠ¶æ€è¿™é‡Œç”¨å¾—åˆ°ï¼Œæˆ‘ä»¬åœ¨å®ˆå«çŠ¶æ€ä¸‹ä¹Ÿéœ€è¦è¿™ä¸ªåˆå§‹åæ ‡ç‚¹ï¼Œå®ˆå«çŠ¶æ€ä¸‹å¦‚æœè¿½å‡»æ•Œäººè„±æˆ˜ä¹‹åï¼Œæˆ‘ä»¬å¿…é¡»è®©æ•Œäººå›åˆ°è¿™ä¸ªåˆå§‹åæ ‡ç‚¹ç»§ç»­å®ˆå«</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">private</span> <span class="token class-name">Vector3</span> puardPos<span class="token punctuation">;</span><span class="token comment">//å½“å‰æ•Œäººæ¸¸æˆå¼€å§‹æ—¶çš„åˆå§‹ä½ç½®</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//...</span> guardPos <span class="token operator">=</span> guardPos <span class="token operator">=</span> transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">GetNewWayPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//...</span>    <span class="token class-name">Vector3</span> randomPoint <span class="token operator">=</span>        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span>guardPos<span class="token punctuation">.</span>x<span class="token operator">+</span>randomX<span class="token punctuation">,</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span>guardPos<span class="token punctuation">.</span>z<span class="token operator">+</span>randomZ<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    æŒ‰ç…§ä¸Šé¢çš„ä»£ç ä¿®æ”¹ï¼Œæˆ‘ä»¬å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜</p><p>â€‹    ğŸˆ<strong>è¦æ³¨æ„</strong>ï¼šæ–°çš„åæ ‡ç‚¹çš„Yè½´è¿˜æ˜¯ä»¥æ•Œäººå½“å‰ä½ç½®ä¸ºåŸºç¡€çš„</p><h3 id="æ•Œäººç§»åŠ¨å¡ä½"><a href="#æ•Œäººç§»åŠ¨å¡ä½" class="headerlink" title="æ•Œäººç§»åŠ¨å¡ä½"></a>æ•Œäººç§»åŠ¨å¡ä½</h3><p>â€‹    ç¬¬äºŒä¸ªå¯èƒ½é‡åˆ°çš„é—®é¢˜å°±æ˜¯å¯èƒ½æ•Œäººèµ°ç€èµ°ç€ä¼šçªç„¶ç»™å¡ä½ï¼Œä½†å®ƒä»ç„¶å¤„äºç§»åŠ¨çŠ¶æ€ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºæ‰€è·å–çš„ç›®æ ‡ç‚¹ä¸º<strong>ä¸å¯ç§»åŠ¨åŒºåŸŸ</strong>é€ æˆçš„ï¼Œä¾‹å¦‚æ ‘æœ¨ã€çŸ³å¤´æ‰€åœ¨çš„ç‚¹</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/e5d07eb926e74385a3d3454bf171703c.png" alt="3.png" style="zoom:80%;" /><p>â€‹    å› æ­¤è§£å†³æ–¹æ³•å°±æ˜¯æˆ‘ä»¬åœ¨è·å–ç‚¹ä¹‹åè¦åˆ¤æ–­ä¸€ä¸‹æ‰€è·å¾—çš„ç‚¹æ˜¯å¦ä¸ºåˆ°è¾¾çš„ç‚¹ï¼Œå¦‚æœä¸æ˜¯å°±å†è·å–ä¸€é</p><p>â€‹    è¿™é‡Œå¯ä»¥ç”¨åˆ° <a href="https://docs.unity.cn/cn/2020.3/ScriptReference/AI.NavMeshAgent.html">NavMeshAgent</a> çš„ä¸€ä¸ªæ–¹æ³• <a href="https://docs.unity.cn/cn/2020.3/ScriptReference/AI.NavMeshAgent.SamplePathPosition.html">SamplePathPosition()</a> ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ¥åˆ¤æ–­æ•Œäººåˆ°ç›®æ ‡ç‚¹æ˜¯å¦å¯ä»¥è¡Œèµ°ï¼Œæˆ‘ä»¬å›åˆ°<code>GetNewWayPoint()</code>å‡½æ•°ä¸­</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">GetNewWayPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//è·å–ä¸‹ä¸€ä¸ªå·¡é€»çš„éšæœºç›®æ ‡ç‚¹</span>    <span class="token comment">//Yè½´æ˜¯æ§åˆ¶é«˜åº¦çš„ï¼Œæ‰€ä»¥ä¸ç”¨è·å–ï¼Œä¿æŒåŸæ¥çš„å°±è¡Œ</span>    <span class="token comment">//è·å–çš„èŒƒå›´æ—¶[-potralRange,potralRange]</span>    <span class="token class-name"><span class="token keyword">float</span></span> randomX <span class="token operator">=</span> Random<span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token operator">-</span>potralRange<span class="token punctuation">,</span>potralRange<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name"><span class="token keyword">float</span></span> randomZ <span class="token operator">=</span> Random<span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token operator">-</span>potralRange<span class="token punctuation">,</span>potralRange<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Vector3</span> randomPoint <span class="token operator">=</span>        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span>guardPos<span class="token punctuation">.</span>x<span class="token operator">+</span>randomX<span class="token punctuation">,</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span>guardPos<span class="token punctuation">.</span>z<span class="token operator">+</span>randomZ<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ£€æµ‹ä¸‹ä¸ªç‚¹æ˜¯å¦å¯è¡Œ</span>    <span class="token class-name">NavMeshHit</span> hit<span class="token punctuation">;</span>    wayPoint <span class="token operator">=</span><span class="token comment">//å¦‚æœæ–°çš„ç›®æ ‡ç‚¹å¯ä»¥åˆ°è¾¾åˆ™èµ‹å€¼ï¼Œå¦åˆ™åˆ™æŠŠæ•Œäººå½“å‰æ‰€åœ¨ç‚¹èµ‹å€¼</span>        NavMesh<span class="token punctuation">.</span><span class="token function">SamplePosition</span><span class="token punctuation">(</span>randomPoint<span class="token punctuation">,</span><span class="token keyword">out</span> hit<span class="token punctuation">,</span>potralRange<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">?</span> hit<span class="token punctuation">.</span>position <span class="token punctuation">:</span> transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span>    <span class="token comment">//æä¾›ä¸€ä¸ªå‚è€ƒç‚¹ï¼Œè¾“å‡ºå±æ€§çš„ç½‘æ ¼ä¿¡æ¯</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    è¿™æ ·æˆ‘ä»¬å°±è§£å†³äº†æ•Œäººä¼šå¡ä½çš„é—®é¢˜</p><h3 id="å¢åŠ æ•Œäººç­‰å¾…æ—¶é—´"><a href="#å¢åŠ æ•Œäººç­‰å¾…æ—¶é—´" class="headerlink" title="å¢åŠ æ•Œäººç­‰å¾…æ—¶é—´"></a>å¢åŠ æ•Œäººç­‰å¾…æ—¶é—´</h3><p>â€‹    è¿˜æœ‰ä¸€ä¸ªå¯ä»¥å®Œå–„çš„åœ°æ–¹å°±æ˜¯æ•Œäººåœ¨ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°çš„ç‚¹åï¼Œå®ƒä¼šç«‹å³åˆå‰å¾€ä¸‹ä¸€ä¸ªåœ°ç‚¹ï¼Œè¿™é‡Œå¯ä»¥ä¸ºå®ƒå¢åŠ ä¸€äº›ç­‰å¾…æ—¶é—´</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Header</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Patrol Stateï¼ˆå·¡é€»çŠ¶æ€çš„è®¾ç½®é¡¹ï¼‰"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span><span class="token comment">//...</span><span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> lookAtTime<span class="token punctuation">;</span><span class="token comment">//æ•Œäººåˆ°è¾¾ä¸€ä¸ªç‚¹åœç•™çš„æ—¶é—´</span><span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">float</span></span> remainLookAtTime<span class="token punctuation">;</span><span class="token comment">//è¿˜å‰©ä¸‹çš„åœç•™æ—¶é—´</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SwitchEnemyStates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//...</span>    <span class="token keyword">switch</span><span class="token punctuation">(</span>enemyStates<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">FoundPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                enemyStates <span class="token operator">=</span> EnemyStates<span class="token punctuation">.</span>CHASE<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>                <span class="token comment">//è„±ç¦»æˆ˜æ–—ååˆ¤æ–­å›åˆ°å®ˆå«çŠ¶æ€è¿˜æ˜¯å·¡é€»çŠ¶æ€</span>                enemyStates <span class="token operator">=</span> isGuard <span class="token punctuation">?</span> EnemyStates<span class="token punctuation">.</span>GUARD <span class="token punctuation">:</span> EnemyStates<span class="token punctuation">.</span>PATROL<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//åˆ¤æ–­æ˜¯å¦åˆ°äº†éšæœºå·¡é€»ç‚¹</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span><span class="token function">Distance</span><span class="token punctuation">(</span>wayPoint<span class="token punctuation">,</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> agent<span class="token punctuation">.</span>stoppingDistance<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token comment">//å¦‚æœä¸‹ä¸€ä¸ªå·¡é€»ç‚¹å’Œå½“å‰äººç‰©çš„åæ ‡ç‚¹å°äºç­‰äºå¯ç§»åŠ¨è·ç¦»åˆ™ä¸ç§»åŠ¨</span>                isWalk <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//ä¸æ’­æ”¾èµ°è·¯çš„åŠ¨ç”»</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>remainLookAtTime <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//å¦‚æœå‰©ä½™ç­‰å¾…æ—¶é—´å¤§äº0åˆ™ç»§ç»­ç­‰å¾…</span>                    remainLookAtTime <span class="token operator">-=</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">;</span>                <span class="token keyword">else</span>                    <span class="token function">GetNewWayPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–ä¸‹ä¸€ä¸ªå·¡é€»ç‚¹éšæœºæ•°</span>            <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>                <span class="token comment">//æ»¡è¶³è¡Œèµ°æ¡ä»¶</span>                isWalk <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//æ•ŒäººåŠ¨ç”»æ”¹ä¸ºèµ°è·¯åŠ¨ç”»</span>                agent<span class="token punctuation">.</span>destination <span class="token operator">=</span> wayPoint<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//PATROL</span>    <span class="token punctuation">&#125;</span><span class="token comment">//...</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">GetNewWayPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//è·å–ä¸‹ä¸€ä¸ªå·¡é€»çš„éšæœºç›®æ ‡ç‚¹</span>    remainLookAtTime <span class="token operator">=</span> lookAtTime<span class="token punctuation">;</span><span class="token comment">//é‡ç½®å‰©ä½™ç­‰å¾…æ—¶é—´</span>    <span class="token comment">//...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    ä¸Šé¢ä»£ç ä¸­æˆ‘ä»¬æ·»åŠ äº†ä¸¤ä¸ªå˜é‡ï¼Œ<code>lookAtTime</code>è¡¨ç¤ºéœ€è¦ç­‰å¾…æ—¶é—´çš„é•¿åº¦ï¼ˆå¯ä¾›å¤–ç•Œè¿›è¡Œè°ƒæ•´ï¼‰ï¼Œ<code>remainLookAtTime</code>è¡¨ç¤ºå½“å‰æ•Œäººè¿˜å‰©ä½™çš„ç­‰å¾…æ—¶é—´ï¼Œç„¶åæˆ‘ä»¬åœ¨<code>SwitchEnemyStates()</code>å‡½æ•°é‡Œçš„è¿½å‡»çŠ¶æ€ä¸­åˆ¤æ–­æ•Œäººåˆ°è¾¾äº†ç›®æ ‡ç‚¹å°±å¼€å§‹é€å¸§é€’å‡<code>remainLookAtTime</code>ï¼Œå½“å‡åˆ°å°äº0æ•Œäººæ‰ä¼šå¼€å§‹èµ°åŠ¨ï¼ŒåŒæ—¶å†ä¸€æ¬¡è°ƒç”¨<code>GetNewWayPoint()</code>æ—¶ä¼šé‡ç½®<code>remainLookAtTime</code></p><p>â€‹    ğŸˆæ³¨æ„ï¼š<code>lookAtTime</code>çš„å•ä½æ˜¯<strong>ç§’</strong></p><p>â€‹    åœ¨switchä»£ç å‰é¢è¿˜æ·»åŠ äº†ä¸€æ¡è¯­å¥ç”¨æ¥åˆ¤æ–­è„±ç¦»æˆ˜æ–—åæ•Œäººå›åˆ°å®ˆå«çŠ¶æ€è¿˜æ˜¯å·¡é€»çŠ¶æ€ï¼Œè¿™å¯ä»¥è®©æˆ‘ä»¬æ•Œäººæ›´åŠ å®Œå–„</p><p>â€‹    åˆ°è¿™é‡Œï¼Œæœ¬ç« çš„ç›®çš„å°±å®ç°äº†ï¼Œæˆ‘ä»¬è®©æ•Œäººéšæœºå·¡é€»äº†èµ·æ¥ï¼Œå¿«å»æ¸¸æˆä¸­è¯•è¯•å§ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;â€‹    åœ¨ä¸Šä¸€ç« èŠ‚æˆ‘ä»¬å®ç°äº†æ•Œäººçš„è¿½å‡»æ•ˆæœï¼Œä¹Ÿå°±æ˜¯æ•Œäººçš„è¿½å‡»çŠ¶æ€ï¼Œè€Œè¿™ä¸€ç« èŠ‚æˆ‘ä»¬æ¥å®ç°å®ƒçš„å·¡é€»çŠ¶æ€æ•ˆæœ&lt;/p&gt;
&lt;h1 id=&quot;å®æ—¶æ˜¾ç¤ºå·¡é€»èŒƒå›´&quot;&gt;&lt;a href=&quot;#å®æ—¶æ˜¾ç¤ºå·¡é€»èŒƒå›´&quot; class=&quot;headerlink&quot; title=&quot;å®æ—¶æ˜¾ç¤ºå·¡é€»èŒƒå›´&quot;&gt;&lt;/a&gt;å®æ—¶</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°8--ä¸ºæ•Œäººæ·»åŠ è¿½å‡»æ•ˆæœä»¥åŠåŠ¨ç”»åˆ‡æ¢ç®¡ç†</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B08-%E4%B8%BA%E6%95%8C%E4%BA%BA%E6%B7%BB%E5%8A%A0%E8%BF%BD%E5%87%BB%E6%95%88%E6%9E%9C%E4%BB%A5%E5%8F%8A%E5%8A%A8%E7%94%BB%E5%88%87%E6%8D%A2%E7%AE%A1%E7%90%86/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B08-%E4%B8%BA%E6%95%8C%E4%BA%BA%E6%B7%BB%E5%8A%A0%E8%BF%BD%E5%87%BB%E6%95%88%E6%9E%9C%E4%BB%A5%E5%8F%8A%E5%8A%A8%E7%94%BB%E5%88%87%E6%8D%A2%E7%AE%A1%E7%90%86/</id>
    <published>2021-07-12T08:58:41.000Z</published>
    <updated>2021-07-14T03:45:14.534Z</updated>
    
    <content type="html"><![CDATA[<!--ç»ˆäºæœŸæœ«è€ƒå®Œè¯•äº†ï¼Œå¯ä»¥å›åˆ°Unityä¸Šæ¥äº†ğŸ˜ƒ--><p>â€‹    æˆ‘ä»¬æ¥ç»§ç»­å®Œå–„æ•Œäººï¼Œè¿˜è®°å¾—æˆ‘ä»¬æœ‰ä¸ªåŠ¨ç”»åˆ‡æ¢çš„æ¡†æ¶ä»£ç æ‘†åœ¨é‚£å—ï¼Ÿè¿™ä¸€æ¬¡æˆ‘ä»¬æ¥ä¸ºæ•Œäººæ·»åŠ è¿½å‡»æ•ˆæœå¹¶ä¸”å¯¹ä¸åŒçŠ¶æ€ä¸‹çš„åŠ¨ç”»åˆ‡æ¢è¿›è¡Œç®¡ç†</p><h1 id="ä¿å­˜ä¿®æ”¹åçš„ç´ æ"><a href="#ä¿å­˜ä¿®æ”¹åçš„ç´ æ" class="headerlink" title="ä¿å­˜ä¿®æ”¹åçš„ç´ æ"></a>ä¿å­˜ä¿®æ”¹åçš„ç´ æ</h1><p>â€‹    åœ¨è¿›è¡Œåˆ‡æ¢åŠ¨ç”»ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå°†ä¸Šä¸€æ¬¡ä¿®æ”¹åçš„ä¸»è§’å’Œå²è±å§†ä¿å­˜ä¸ºä¸€ä¸ªç´ æå¯¹è±¡ï¼Œè¿™æ–¹ä¾¿ä»¥åæˆ‘ä»¬çš„ä½¿ç”¨ï¼Œç‰¹åˆ«æ˜¯å²è±å§†ï¼Œå°†å…¶ä¿å­˜ä¸ºç´ æå¯¹è±¡åå°±å¯ä»¥æ‰¹é‡åˆ›å»ºæ•Œäººäº†</p><h2 id="ä¿å­˜ä¸»è§’ä¸ºç´ æå¯¹è±¡"><a href="#ä¿å­˜ä¸»è§’ä¸ºç´ æå¯¹è±¡" class="headerlink" title="ä¿å­˜ä¸»è§’ä¸ºç´ æå¯¹è±¡"></a>ä¿å­˜ä¸»è§’ä¸ºç´ æå¯¹è±¡</h2><p>â€‹    ç”±äºæˆ‘ä»¬çš„ä¸»è§’å°ç‹—åœ¨ä¹‹å‰å°±ä¿å­˜ä¸ºç´ æäº†ï¼Œè€Œåœ¨ä¸Šä¸€ç« æˆ‘ä»¬ä¸ºå…¶æ·»åŠ äº†ä¸€ä¸ªèƒ¶å›Šç¢°æ’ä½“ï¼Œè¿™é‡Œæˆ‘ä»¬åªç”¨å°†èƒ¶å›Šç¢°æ’ä½“ä¿å­˜ä¸€ä¸‹å°±è¡Œäº†</p><p>â€‹    åœ¨<code>Hierarchy</code>è§†å›¾é€‰æ‹©æˆ‘ä»¬çš„å°äºº<code>Player</code>ï¼Œç„¶åæ‰¾åˆ°èƒ¶å›Šç¢°æ’ä½“ç»„ä»¶ï¼Œå³é”®å®ƒï¼ŒæŒ‰ä¸‹å›¾æ‰¾åˆ°<code>Added Component-&gt;Apply to Prefab &#39;Player&#39;</code>ï¼Œç‚¹å‡»å®ƒå°±å¯ä»¥å°†æ–°å¢åŠ çš„èƒ¶å›Šç¢°æ’ä½“åº”ç”¨åœ¨åŸæœ¬çš„ç´ æä¸Šäº†</p><img src="https://p9-tt.byteimg.com/origin/pgc-image/f15d609363c14d13b3e1a79616db15e6.png" alt="1.png" style="zoom:80%;" /><h2 id="ä¿å­˜å²è±å§†æ•Œäººä¸ºç´ æå¯¹è±¡"><a href="#ä¿å­˜å²è±å§†æ•Œäººä¸ºç´ æå¯¹è±¡" class="headerlink" title="ä¿å­˜å²è±å§†æ•Œäººä¸ºç´ æå¯¹è±¡"></a>ä¿å­˜å²è±å§†æ•Œäººä¸ºç´ æå¯¹è±¡</h2><p>â€‹    ä¿å­˜å²è±å§†ä¹Ÿæ˜¯ä¸€ä¸ªç®€å•çš„äº‹æƒ…ï¼Œåªç”¨åœ¨<code>Hierarchy</code>è§†å›¾ä¸‹å°†å²è±å§†æ‹–æ‹½åˆ°åˆ°<code>Prefab-&gt;Characters</code>æ–‡ä»¶å¤¹ä¸‹å°±è¡Œäº†ï¼Œæ³¨æ„åœ¨å¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹©<code>Original Prefab</code></p><img src="https://p3-tt.byteimg.com/origin/pgc-image/e4d3d1be8f5a4a63aae9fa7f85938fdb.png" alt="2.png" style="zoom:80%;" /><h1 id="æ€è€ƒå¦‚ä½•æ•Œäººçš„è¿½å‡»æ•ˆæœ"><a href="#æ€è€ƒå¦‚ä½•æ•Œäººçš„è¿½å‡»æ•ˆæœ" class="headerlink" title="æ€è€ƒå¦‚ä½•æ•Œäººçš„è¿½å‡»æ•ˆæœ"></a>æ€è€ƒå¦‚ä½•æ•Œäººçš„è¿½å‡»æ•ˆæœ</h1><p>â€‹    å¯¹äºæ•Œäººè¿½å‡»æˆ‘ä»¬äººç‰©ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯æ•Œäººçš„ç§»åŠ¨ç›®æ ‡æ˜¯æˆ‘ä»¬çš„äººç‰©ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åŸæœ‰çš„ä»£ç åŸºç¡€ä¸Šæ¥å®ç°è¿½å‡»æ•ˆæœ</p><p>â€‹    æ‰“å¼€æˆ‘ä»¬çš„<code>EnemyController.cs</code>ä»£ç æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆåœ¨ç±»ä¸­æ·»åŠ ä¸€ä¸ª<code>attackTarget</code>çš„å˜é‡ï¼Œè¿™ä¸ªä»£è¡¨ç€æˆ‘ä»¬æ•Œäººè¿½å‡»çš„ç›®æ ‡ï¼Œå¹¶åœ¨å…ˆå‰å†™çš„<code>FoundPlayer</code>å‡½æ•°é‡Œå¯¹å…¶èµ‹äºˆç›®æ ‡ï¼ˆå³å°†åœ¨æ•Œäººä¸€å®šèŒƒå›´æ‰¾åˆ°äººç‰©æ—¶ï¼Œè¿½å‡»ç›®æ ‡ä¸ºæ•Œäººï¼‰</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnemyController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">GameObject</span> attackTarget<span class="token punctuation">;</span>        <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">FoundPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Collider<span class="token punctuation">[</span><span class="token punctuation">]</span></span> colliders <span class="token operator">=</span> Physics<span class="token punctuation">.</span><span class="token function">OverlapSphere</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">,</span>sightRadius<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ¥å—ä¸€ä¸ªåœ†ç‚¹ï¼Œä¸€ä¸ªåŠå¾„çš„å‚æ•°ï¼Œè¿”å›çš„æ˜¯ç¢°æ’ä½“æ•°ç»„</span>                <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token class-name">Collider</span> target <span class="token keyword">in</span> colliders<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">//å¾ªç¯ç¢°æ’ä½“æ•°ç»„ï¼Œé€ä¸ªæŸ¥æ‰¾</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">CompareTag</span><span class="token punctuation">(</span><span class="token string">"Player"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token comment">//å½“å‰å¾ªç¯åˆ°çš„ç¢°æ’ä½“çš„æ ‡ç­¾ä¸ºPlayerå°±ä»£è¡¨æ‰¾åˆ°äººç‰©äº†</span>                attackTarget<span class="token operator">=</span>target<span class="token punctuation">.</span>gameObject<span class="token punctuation">;</span>                                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    åšå¥½ä¸Šé¢è¿™äº›åï¼Œæˆ‘ä»¬è¦å›åˆ°<code>SwitchEnemyStates</code>å‡½æ•°é‡Œè¿›è¡Œå®Œå–„Switchæ¡†æ¶</p><p>â€‹    åœ¨è¿½å‡»ä¸­ï¼Œæˆ‘ä»¬è¦æ€è€ƒä¸€ä¸‹åœ¨è¿™è¿‡ç¨‹æœ‰å“ªäº›è¡Œä¸ºï¼Œé¦–å…ˆæ˜¯è¿½å‡»æ•Œäººï¼Œè¿½å‡»åˆ°äº†çš„è¯ä¼šè¿›è¡Œæ”»å‡»ï¼Œå¦‚æœç›®æ ‡è„±ç¦»äº†è¿½å‡»èŒƒå›´åˆ™åº”è¯¥å›åˆ°ä¸Šä¸€ä¸ªçŠ¶æ€ï¼ŒåŒæ—¶è¿™æ•´ä¸ªæµç¨‹éƒ½è¦æœ‰åŠ¨ç”»çš„åˆ‡æ¢ã€‚ä»¥ä¸‹ä»£ç ä¸­ä¾¿ç”¨äº†TODOæ¥æè¿°è¦åšçš„äº‹æƒ…</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SwitchEnemyStates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token comment">//...</span>        <span class="token keyword">switch</span><span class="token punctuation">(</span>enemyStates<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>GUARD<span class="token punctuation">:</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>PATROL<span class="token punctuation">:</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>CHASE<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>è¿½å‡»                <span class="token comment">//TODO:è¿½å‡»Player</span>                <span class="token comment">//TODO:åœ¨æ”»å‡»èŒƒå›´æ”»å‡»</span>                <span class="token comment">//TODO:é…åˆåŠ¨ç”»</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">FoundPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token comment">//TODO:æ‹‰è„±å›ä¸Šä¸€ä¸ªçŠ¶æ€</span>                <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>                    <span class="token comment">//äººç‰©è¿›åˆ°æ•Œäººçš„èŒƒå›´ä¼šç»™è¿½å‡»</span>                    agent<span class="token punctuation">.</span>destination<span class="token operator">=</span>attackTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>DEAD<span class="token punctuation">:</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    å†™äº†ä»¥ä¸Šçš„ä»£ç åï¼Œå½“æˆ‘ä»¬çš„äººç‰©é è¿‘æ•Œäººæ—¶å°±è¢«è¿½å‡»äº†ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç»™ä¸åŒçš„çŠ¶æ€èµ‹äºˆä¸åŒçš„é€Ÿåº¦ï¼Œå¦‚å®ˆå«çŠ¶æ€ç§»åŠ¨é€Ÿåº¦æ…¢ä¸€ç‚¹ï¼Œè€Œè¿½å‡»é€Ÿåº¦å¿«ä¸€ç‚¹ç­‰ç­‰</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnemyController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">float</span></span> speed<span class="token punctuation">;</span><span class="token comment">//æ•Œäººçš„é€Ÿåº¦</span>    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        agent <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>NavMeshAgent<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        speed<span class="token operator">=</span>agent<span class="token punctuation">.</span>speed<span class="token punctuation">;</span><span class="token comment">//åœ¨åˆå§‹åŒ–æ—¶é€Ÿåº¦åˆå§‹åŒ–ä¸ºåŸæ¥é»˜è®¤çš„é€Ÿåº¦</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    ä¹‹åæˆ‘ä»¬å°±å¯ä»¥åœ¨<code>Switch</code>ä¸­ä¸åŒçŠ¶æ€ä¸‹ç»™å®šä¸åŒçš„é€Ÿåº¦å€¼äº†</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//ä¸¾ä¸ªæ —å­</span><span class="token comment">//case xxx:</span>speed <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span>agent<span class="token punctuation">.</span>speed<span class="token operator">=</span>speed<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h1 id="ç»™æ•Œäººæ·»åŠ åŠ¨ç”»"><a href="#ç»™æ•Œäººæ·»åŠ åŠ¨ç”»" class="headerlink" title="ç»™æ•Œäººæ·»åŠ åŠ¨ç”»"></a>ç»™æ•Œäººæ·»åŠ åŠ¨ç”»</h1><h2 id="ä¸€äº›è¦æ³¨æ„çš„åœ°æ–¹"><a href="#ä¸€äº›è¦æ³¨æ„çš„åœ°æ–¹" class="headerlink" title="ä¸€äº›è¦æ³¨æ„çš„åœ°æ–¹"></a>ä¸€äº›è¦æ³¨æ„çš„åœ°æ–¹</h2><p>â€‹    ä¸Šé¢çš„ä»£ç æˆ‘ä»¬æ‰“å¥½åå…ˆæ”¾åœ¨ä¸€è¾¹ï¼Œå…ˆæ¥çœ‹çœ‹å²è±å§†çš„åŠ¨ç”»å¦‚ä½•æ·»åŠ </p><p>â€‹    å’Œä¹‹å‰çš„å°ç‹—ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç´ æçš„æ–‡ä»¶å¤¹ä¸‹é¢„è§ˆåŠ¨ç”»çš„æ•ˆæœ</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/cbd42713bc444c18836fedb8b0b42622.png" alt="3.png" style="zoom:80%;" /><p>â€‹    ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ª<code>Idleï¼ˆé—²ç½®ï¼‰</code>çš„åŠ¨ç”»æ•ˆæœï¼Œå…¶ä¸­çš„<code>IdleBattle</code>æ˜¯åœ¨æ”»å‡»ç©å®¶ä¸­é—´CDæ—¶é—´æ—¶çš„é—²ç½®åŠ¨ä½œï¼Œè€Œ<code>IdleNormal</code>åˆ™æ˜¯åœ¨ä¸€èˆ¬é—²ç½®çŠ¶æ€ä¸‹çš„é—²ç½®æ•ˆæœï¼Œè¿™é‡Œè¦æ³¨æ„åŒºåˆ†</p><p>â€‹    çŸ¥é“è¿™äº›åï¼Œæˆ‘ä»¬å°±å¯ä»¥å†æ¬¡ä½¿ç”¨åŠ¨ç”»æ§åˆ¶å™¨æ¥ç®¡ç†åŠ¨ç”»çš„åˆ‡æ¢äº†</p><h2 id="ä½¿ç”¨åŠ¨ç”»ç®¡ç†å™¨æ¥ç®¡ç†åŠ¨ç”»"><a href="#ä½¿ç”¨åŠ¨ç”»ç®¡ç†å™¨æ¥ç®¡ç†åŠ¨ç”»" class="headerlink" title="ä½¿ç”¨åŠ¨ç”»ç®¡ç†å™¨æ¥ç®¡ç†åŠ¨ç”»"></a>ä½¿ç”¨åŠ¨ç”»ç®¡ç†å™¨æ¥ç®¡ç†åŠ¨ç”»</h2><p>â€‹    é¦–å…ˆåœ¨<code>Animations</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª<code>Animator Controller</code>ä¸“é—¨ç”¨æ¥ç®¡ç†å²è±å§†çš„åŠ¨ç”»ï¼Œè¿™é‡Œæˆ‘å°†å®ƒå‘½åä¸º<code>Enemy _Slime</code>ï¼ŒğŸˆè®°ä½åˆ›å»ºå¥½åè¦æ‹–æ‹½åˆ°å²è±å§†çš„å±æ€§é¢æ¿ä¸Šåº”ç”¨è¯¥Animator Controller</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/7fbb2f64cba8440f93954e02b86e2f50.png" alt="4.png" style="zoom:80%;" /><p>â€‹    æ¥ç€åŒå‡»æ‰“å¼€ä»–è¿›å…¥åŠ¨ç”»ç®¡ç†å™¨</p><p>â€‹    å› ä¸ºæ•Œäººæœ‰å¤šç§çŠ¶æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è€ƒè™‘å¦‚ä½•æ¥è§„åˆ’è¿™äº›åŠ¨ç”»ã€‚è€Œè¿™é‡Œåˆ™å¯ä»¥ä½¿ç”¨ä¸åŒçš„<code>Layer</code>æ¥å®ç°ä¸åŒçš„çŠ¶æ€</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/d35a90c16257478d823a52b598c87578.png" alt="5.png" style="zoom:80%;" /><center>å¯ä»¥åœ¨ä¸åŒçš„Layerä¸­å®ç°ä¸åŒçŠ¶æ€çš„åŠ¨ç”»</center><h3 id="Base-Layer"><a href="#Base-Layer" class="headerlink" title="Base Layer"></a>Base Layer</h3><p>â€‹    åˆšå¼€å§‹æˆ‘ä»¬åªç”¨åˆ°<code>Base Layer</code>ï¼Œå…¶å®ƒçš„layeræˆ‘ä»¬ä¹‹åå†åˆ›å»ºã€‚è€Œåœ¨æœ€å¼€å§‹çš„<code>Base Layer</code>å½“ä¸­ï¼Œæˆ‘ä»¬å®Œæˆæœ€åŸºæœ¬çš„çŠ¶æ€ï¼šæ™®é€šé—²ç½®å’Œè¡Œèµ°ï¼ˆå·¡é€»çŠ¶æ€ï¼‰</p><p>â€‹    å¦‚ä¸‹å›¾æ‰¾åˆ°å¯¹åº”çš„åŠ¨ç”»å¹¶æ‹–æ‹½åˆ°åŠ¨ç”»æ§åˆ¶å™¨ä¸­ï¼Œå¹¶è¿›è¡ŒçŠ¶æ€è½¬ç§»çš„è®¾ç½®</p><img src="https://p9-tt.byteimg.com/origin/pgc-image/138c62781a3b47deb564aacdc3bd0e6f.png" alt="6.png" style="zoom:80%;" /><p>â€‹    é‚£ä¹ˆé—²ç½®çŠ¶æ€åˆ‡æ¢åˆ°è¡Œèµ°çŠ¶æ€çš„æ¡ä»¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿåœ¨ä¹‹å‰æˆ‘ä»¬æ§åˆ¶å°äººè¡Œèµ°çš„åŠ¨ç”»åˆ‡æ¢æ˜¯é€šè¿‡é¼ æ ‡ç‚¹å‡»çš„æ–¹å¼æ¥åˆ¤æ–­ï¼Œè€Œè¿™é‡Œæ•Œäººçš„çŠ¶æ€åˆ‡æ¢å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªé€»è¾‘çŠ¶æ€ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ªå¸ƒå°”å˜é‡æ¥æ§åˆ¶å®ƒä»¬çš„åˆ‡æ¢ï¼Œè¿™é‡Œå‘½åä¸º<code>Walk</code></p><img src="https://p5-tt.byteimg.com/origin/pgc-image/fc09aba486814ef9942061481e2d610e.png" alt="7.png" style="zoom:80%;" /><p>â€‹    ç„¶åå¡«å†™åŠ¨ç”»ä¹‹é—´çš„åˆ‡æ¢æ¡ä»¶</p><img src="https://p26-tt.byteimg.com/origin/pgc-image/9bfd3f46132a4c938c0dddaf775ab53b.png" alt="8.png" style="zoom:80%;" /><center>ä¸¤ä¸ªåˆ‡æ¢éƒ½è¦ï¼ˆä¸€ä¸ªä¸ºtrueï¼Œä¸€ä¸ªä¸ºfalseï¼‰</center><p>â€‹    </p><h3 id="Attack-Layerï¼ˆå®ç°è¿½å‡»ï¼‰"><a href="#Attack-Layerï¼ˆå®ç°è¿½å‡»ï¼‰" class="headerlink" title="Attack Layerï¼ˆå®ç°è¿½å‡»ï¼‰"></a>Attack Layerï¼ˆå®ç°è¿½å‡»ï¼‰</h3><p>â€‹    æ¥ä¸‹æ¥æˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ–°çš„Layerï¼Œå¹¶å°†å…¶å‘½åä¸º<code>Attack Layer</code>ï¼Œæˆ‘ä»¬çš„è¿½å‡»åŠ¨ç”»åˆ‡æ¢å°±åœ¨è¿™é‡Œé¢æ¥å®ç°</p><p>â€‹    æ–°å»ºå¥½åæˆ‘ä»¬è¦è®¾ç½®ä¸€ä¸‹è¿™ä¸ªLayerçš„æƒé‡å€¼ï¼Œè¿™é‡Œè¦è°ƒæ•´<code>Weight</code>å€¼ä¸ºæœ€å¤§<code>1</code>ï¼Œè¡¨ç¤ºåœ¨åŠ¨ç”»è§¦å‘çš„æ—¶å€™æ˜¯å®Œå…¨è¦†ç›–åŸæ¥çš„Base Layeré‡Œçš„åŠ¨ç”»ï¼Œå¦‚æœä¸æ˜¯1çš„è¯å°±ç›¸å½“äºæ˜¯å åŠ åŸæ¥çš„åŠ¨ç”»ï¼Œä¸¤è€…è¿›è¡Œæ··åˆ</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/f5282b22821c4d0b919674b2c68cca85.png" alt="9.png" style="zoom:80%;" /><p>â€‹    é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦‚ä½•çŸ¥é“ä¸Šä¸€ä¸ªçŠ¶æ€æ˜¯æ€ä¹ˆåˆ‡æ¢åˆ°å½“å‰çš„Layerå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨æ–°å»ºçš„Layerä¸­åˆ›å»ºä¸€ä¸ª<code>Empty State</code>å¹¶å°†å®ƒå‘½åä¸º<code>Base State</code>ï¼Œè¿™ä¸ªç©ºçš„Stateå¯ä»¥ä»£è¡¨æˆ‘ä»¬ä¹‹å‰ä»»æ„ä¸€ä¸ªLayerï¼Œå½“æ»¡è¶³æ¡ä»¶çš„æ—¶å€™å®ƒå°±ä¼šåˆ‡æ¢è¿‡æ¥å¹¶è¿›ä¸€æ­¥åˆ‡æ¢åŠ¨ç”»</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/ac40128c56244e46893c469a70178825.png" alt="10.png" style="zoom:80%;" /><p>â€‹    åˆ‡æ¢è¿‡æ¥<code>Attack Layer</code>çš„æ—¶å€™æˆ‘ä»¬æœ€å…ˆè¦è¿›å…¥çš„æ˜¯ä¸€ä¸ªé—²ç½®çŠ¶æ€ï¼Œå†åŠ ä¸Šè¿™æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºè¿½å‡»çš„Layerï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>Idle_Battle</code>è¿™ä¸ªåŠ¨ç”»</p><img src="https://p3-tt.byteimg.com/origin/pgc-image/38b8683f9e2644ab8d281f80bcdd34fd.png" alt="11.png" style="zoom:80%;" /><p>â€‹    åŒæ ·æˆ‘ä»¬åˆ‡æ¢æ¡ä»¶ä¹Ÿæ˜¯å¯ä»¥å»ºç«‹ä¸€ä¸ª<code>å¸ƒå°”å€¼</code>å˜é‡æ¥æ§åˆ¶ï¼Œè¿™é‡Œå–åä¸º<code>Chase</code></p><p>â€‹    ä¸Šé¢çš„æ˜¯ä¸€ä¸ªæ•Œäººæ”»å‡»ç©ºå½“æ—¶CDåŠ¨ç”»ï¼Œå½“ç„¶æˆ‘ä»¬è¿˜è¦æœ‰ä¸€ä¸ªè¿½çš„åŠ¨ç”»ï¼Œä¹Ÿæ˜¯è¦é ä¸€ä¸ª<code>å¸ƒå°”å€¼</code>å˜é‡æ¥æ§åˆ¶ï¼Œå¦‚ä¸‹å›¾</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/43a30493ed3d4be0a6204f23af878588.png" alt="12.png" style="zoom:80%;" /><p>â€‹    è¿™é‡Œæˆ‘æŠŠè¿½å‡»çš„åŠ¨ç”»ï¼ˆ<code>RunFWD</code>ï¼‰åŠ äº†ä¸Šå»ï¼Œå¹¶ç”¨ä¸€ä¸ªæ–°çš„å¸ƒå°”å€¼<code>Follow</code>æ¥ä½œä¸ºå®ƒä¸<code>IdleBattle</code>ä¹‹é—´çš„åˆ‡æ¢åˆ¤æ–­æ¡ä»¶</p><p>â€‹    ğŸˆæ³¨æ„å°†ä¸‰ä¸ªå¸ƒå°”å€¼éƒ½åº”ç”¨åˆ°å¯¹åº”çš„åŠ¨ç”»åˆ‡æ¢åˆ¤æ–­ä¸Šå»å“¦ï¼</p><p>â€‹    è¿™æ ·ä¸€æ¥å°±æœ‰äº†ä¸€ä¸ªé€»è¾‘ï¼šå¦‚æœæ•Œäººå‘ç°äº†æˆ‘ä»¬çš„æ§åˆ¶çš„å°äººï¼Œå¹¶ä¸”ä¸¤è€…è·ç¦»å¤§äºæ•Œäººçš„æ”»å‡»è·ç¦»ï¼Œæ•Œäººåˆ™ä¼šè¿›è¡Œè¿½å‡»æˆ‘ä»¬çš„å°äººï¼Œå½“é è¿‘ååˆ™ä¼šè¿›è¡Œæ”»å‡»CDçŠ¶æ€ï¼Œç­‰åˆ°ä¸‹ä¸€ä¸ªæ”»å‡»åˆ°æ¥ï¼ˆæ”»å‡»åŠ¨ç”»æ•ˆæœè¿™é‡Œè¿˜æ²¡å®ç°ï¼‰</p><h2 id="ä½¿ç”¨ä»£ç é…åˆåŠ¨ç”»åˆ‡æ¢"><a href="#ä½¿ç”¨ä»£ç é…åˆåŠ¨ç”»åˆ‡æ¢" class="headerlink" title="ä½¿ç”¨ä»£ç é…åˆåŠ¨ç”»åˆ‡æ¢"></a>ä½¿ç”¨ä»£ç é…åˆåŠ¨ç”»åˆ‡æ¢</h2><p>â€‹    å®ŒæˆåŠ¨ç”»ç®¡ç†å™¨ä¸­çš„å‰ç½®å·¥ä½œåï¼Œæˆ‘ä»¬å°±å¯ä»¥ç€æ‰‹æ¥å†™ä»£ç ä»è€Œé…åˆæˆ‘ä»¬çš„åŠ¨ç”»åˆ‡æ¢äº†</p><p>â€‹    æ‰“å¼€<code>EnemyController.cs</code>ï¼Œé¦–å…ˆè¦è·å–<code>Animator</code>ç»„ä»¶çš„ä¿¡æ¯</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnemyController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span>        <span class="token keyword">private</span> <span class="token class-name">Animator</span> anim<span class="token punctuation">;</span>        <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//...</span>        anim <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Animator<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    ç„¶åè¦å£°æ˜ä¸‰ä¸ªå¸ƒå°”å˜é‡å¯¹ç…§ç€åŠ¨ç”»ç®¡ç†å™¨çš„é‚£ä¸‰ä¸ªå¸ƒå°”å˜é‡ï¼ˆWalkã€Chaseã€Followï¼‰</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnemyController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span><span class="token comment">//åŠ¨ç”»æ§åˆ¶çš„ä¸‰ä¸ªå¸ƒå°”å€¼å˜é‡</span>    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> isWalk<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> isChase<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">bool</span></span> isFollow<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    è¿™ä¸‰ä¸ªå˜é‡æ˜¯ç”¨æ¥å®æ—¶æ›´æ–°åŠ¨ç”»æ§åˆ¶å™¨é‡Œçš„å¸ƒå°”å˜é‡çš„ï¼Œå› æ­¤æˆ‘ä»¬è¦ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶å°†å®ƒæ”¾åœ¨<code>Update()</code>é‡Œè¾¹</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp">    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//...</span>        <span class="token function">SwitchAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token comment">//å®æ—¶æ›´æ–°Animatoré‡Œé¢å²è±å§†çš„ä¸‰ä¸ªå¸ƒå°”å€¼</span>    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SwitchAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        anim<span class="token punctuation">.</span><span class="token function">SetBool</span><span class="token punctuation">(</span><span class="token string">"Walk"</span><span class="token punctuation">,</span>isWalk<span class="token punctuation">)</span><span class="token punctuation">;</span>        anim<span class="token punctuation">.</span><span class="token function">SetBool</span><span class="token punctuation">(</span><span class="token string">"Chase"</span><span class="token punctuation">,</span>isChase<span class="token punctuation">)</span><span class="token punctuation">;</span>        anim<span class="token punctuation">.</span><span class="token function">SetBool</span><span class="token punctuation">(</span><span class="token string">"Follow"</span><span class="token punctuation">,</span>isFollow<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬åœ¨å…¶å®ƒå‡½æ•°é‡Œæ›´æ”¹äº†è¿™ä¸‰ä¸ªiså¸ƒå°”å€¼çš„è¯ï¼Œä»–ä»¬å°±å¯ä»¥å®æ—¶åŒæ­¥åˆ°Animatoré‡Œé¢äº†</p><p>â€‹    ç´§æ¥ç€æˆ‘ä»¬å›åˆ°<code>SwitchEnemyStates()</code>å‡½æ•°é‡Œé¢ä¿®æ”¹ä¸€ä¸‹</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//...</span><span class="token keyword">switch</span><span class="token punctuation">(</span>enemyStates<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>     <span class="token comment">//...</span>        <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>CHASE<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>è¿½å‡»<span class="token comment">//TODO:è¿½å‡»Player</span>    <span class="token comment">//TODO:åœ¨æ”»å‡»èŒƒå›´æ”»å‡»</span>            <span class="token comment">//TODO:é…åˆåŠ¨ç”»</span>        isWalk <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//è¿½å‡»æ—¶å°±ä¸æ˜¯èµ°è·¯äº†</span>        isChase <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//åˆ‡æ¢åˆ°è¿½å‡»çš„Layerå±‚åŠ¨ç”»</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">FoundPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   <span class="token comment">//TODO:æ‹‰è„±å›ä¸Šä¸€ä¸ªçŠ¶æ€</span>        isFollow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>        isFollow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//æ‰¾åˆ°äººç‰©å°±è·‘ç€è¿½</span>      agent<span class="token punctuation">.</span>speed<span class="token operator">=</span>speed<span class="token punctuation">;</span>        <span class="token comment">//äººç‰©è¿›åˆ°æ•Œäººçš„èŒƒå›´ä¼šç»™è¿½å‡»</span>        agent<span class="token punctuation">.</span>destination<span class="token operator">=</span>attackTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>   <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token comment">//...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    åˆ°è¿™é‡Œæˆ‘ä»¬å°±å®ç°äº†æ•Œäººè¿½å‡»æˆ‘ä»¬çš„çŠ¶æ€å•¦ï¼Œå¿«å»æ¸¸æˆä¸­è¯•ä¸€ä¸‹å§</p><h1 id="è§£å†³æ•Œäººåœä¸‹æ¥æœ‰å»¶è¿Ÿçš„é—®é¢˜"><a href="#è§£å†³æ•Œäººåœä¸‹æ¥æœ‰å»¶è¿Ÿçš„é—®é¢˜" class="headerlink" title="è§£å†³æ•Œäººåœä¸‹æ¥æœ‰å»¶è¿Ÿçš„é—®é¢˜"></a>è§£å†³æ•Œäººåœä¸‹æ¥æœ‰å»¶è¿Ÿçš„é—®é¢˜</h1><p>â€‹    è¯•è¿‡æ¸¸æˆåæˆ‘ä»¬å¯èƒ½ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å½“æˆ‘ä»¬äººç‰©è„±ç¦»æ•Œäººè¿½å‡»èŒƒå›´æ—¶æ•Œäººä¼šå†èµ°ä¸€å°æ®µè·¯æ‰ä¼šåœä¸‹æ¥ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰åŠæ—¶ä¿®æ”¹æ•Œäººç§»åŠ¨çš„ç›®çš„åœ°ï¼Œä¹Ÿå°±æ˜¯<code>agent.destination</code>ï¼Œå½“è„±ç¦»è¿½å‡»èŒƒå›´åï¼Œæ•Œäººçš„ç›®çš„åœ°è¿˜åœ¨åé¢ä¸€å°æ®µè·¯ï¼Œä»è€Œå¯¼è‡´äº†å»¶è¿Ÿçš„æ•ˆæœ</p><p>â€‹    è¿™é‡Œä¿®æ”¹å®ƒä¹Ÿå¾ˆç®€å•ï¼Œåœ¨ä¸Šé¢ä»£ç æ·»åŠ ä¸€æ¡è¯­å¥å°±å¯ä»¥äº†</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//...</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">FoundPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//æ‹‰è„±å›ä¸Šä¸€ä¸ªçŠ¶æ€</span>    agent<span class="token punctuation">.</span>destination <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span><span class="token comment">//äººç‰©è„±ç¦»è¿½å‡»èŒƒå›´åï¼Œæ•Œäººåœåœ¨å½“å‰ä½ç½®</span>    isFollow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>    <span class="token comment">//...</span><span class="token punctuation">&#125;</span><span class="token comment">//...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    è¿™æ ·ï¼Œæ•Œäººåœ¨è„±ç¦»è¿½å‡»çŠ¶æ€æ—¶å°±ä¼šç«‹åˆ»åœåœ¨å½“å‰ä½ç½®äº†</p><p>â€‹    ğŸ‰åˆ°è¿™é‡Œï¼Œæœ¬ç« æˆ‘ä»¬å°±æˆåŠŸå®ç°äº†æ•Œäººçš„ä¸€ä¸ªç®€å•çš„è¿½å‡»çŠ¶æ€åŠåŠ¨ç”»åˆ‡æ¢ç®¡ç†ï¼Œä¸‹ä¸€ç« æˆ‘ä»¬å°†æ›´åŠ å®Œå–„æ•Œäººå…¶å®ƒä¸€äº›çŠ¶æ€ï¼Œä¾‹å¦‚å·¡é€»æ•ˆæœç­‰</p>]]></content>
    
    
      
      
    <summary type="html">&lt;!--ç»ˆäºæœŸæœ«è€ƒå®Œè¯•äº†ï¼Œå¯ä»¥å›åˆ°Unityä¸Šæ¥äº†ğŸ˜ƒ--&gt;

&lt;p&gt;â€‹    æˆ‘ä»¬æ¥ç»§ç»­å®Œå–„æ•Œäººï¼Œè¿˜è®°å¾—æˆ‘ä»¬æœ‰ä¸ªåŠ¨ç”»åˆ‡æ¢çš„æ¡†æ¶ä»£ç æ‘†åœ¨é‚£å—ï¼Ÿè¿™ä¸€æ¬¡æˆ‘ä»¬æ¥ä¸ºæ•Œäººæ·»åŠ è¿½å‡»æ•ˆæœå¹¶ä¸”å¯¹ä¸åŒçŠ¶æ€ä¸‹çš„åŠ¨ç”»åˆ‡æ¢è¿›è¡Œç®¡ç†&lt;/p&gt;
&lt;h1 id=&quot;ä¿å­˜ä¿®æ”¹åçš„ç´ æ&quot;&gt;&lt;a href=&quot;#ä¿å­˜ä¿®æ”¹</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°7--ä¿®æ”¹ç›¸æœºç§»åŠ¨è§†è§’ä»¥åŠæ·»åŠ æ•ŒäººèŒƒå›´æ£€æµ‹</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B07-%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%A7%BB%E5%8A%A8%E8%A7%86%E8%A7%92%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E6%95%8C%E4%BA%BA%E8%8C%83%E5%9B%B4%E6%A3%80%E6%B5%8B/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B07-%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%A7%BB%E5%8A%A8%E8%A7%86%E8%A7%92%E4%BB%A5%E5%8F%8A%E6%B7%BB%E5%8A%A0%E6%95%8C%E4%BA%BA%E8%8C%83%E5%9B%B4%E6%A3%80%E6%B5%8B/</id>
    <published>2021-06-22T05:06:02.000Z</published>
    <updated>2021-07-12T08:49:40.935Z</updated>
    
    <content type="html"><![CDATA[<p>â€‹    è¿™ä¸€ç« æˆ‘ä»¬å°†å¯¹é¡¹ç›®åšä¸€äº›è°ƒæ•´ï¼ŒåŒ…æ‹¬ï¼šè®¾ç½®è‡ªç”±ç§»åŠ¨è§†è§’çš„ç›¸æœºã€æ£€æµ‹äººç‰©æ˜¯å¦åˆ°è¾¾æ•Œäººé™„è¿‘ã€åˆ‡æ¢åˆ°è¿½å‡»æ¨¡å¼ç­‰ã€‚ä»¥åæˆ‘ä»¬å¯èƒ½ä¼šå¤šæ¬¡åœ¨é¡¹ç›®å¼€å‘é€”ä¸­åœä¸‹æ¥åšä¸€äº›å°å°çš„ä¼˜åŒ–ä¹‹ç±»çš„ï¼Œè¿™äº›éƒ½æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p><h1 id="å°†ç›¸æœºæ”¹æˆå¯è‡ªç”±ç§»åŠ¨è§†è§’"><a href="#å°†ç›¸æœºæ”¹æˆå¯è‡ªç”±ç§»åŠ¨è§†è§’" class="headerlink" title="å°†ç›¸æœºæ”¹æˆå¯è‡ªç”±ç§»åŠ¨è§†è§’"></a>å°†ç›¸æœºæ”¹æˆå¯è‡ªç”±ç§»åŠ¨è§†è§’</h1><p>â€‹    åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬çš„ç›¸æœºè™½ç„¶éƒ½æ˜¯å¯ä»¥è·Ÿéšäººç‰©ç§»åŠ¨çš„ï¼Œä½†æ˜¯å®ƒè§†è§’æ˜¯å›ºå®šçš„ï¼Œä¸èƒ½è‡ªç”±åœ°å»ç§»åŠ¨è§†è§’ã€‚å¦‚æœä½ æƒ³æ›´æ”¹æˆè‡ªç”±è§†è§’çš„ç›¸æœºçš„è¯ï¼Œé‚£ä¹ˆå°±ç°åœ¨æ¥å®ç°å§ï¼</p><p>â€‹    è¿™é‡Œæœ€ä¸»è¦çš„å°±æ˜¯å°†<code>Cinemachine</code>æ’ä»¶ä¸­çš„<code>Virtual Camera</code>æ¢æˆ<code>FreeLook Camera</code></p><p>â€‹    å› æ­¤æˆ‘ä»¬é€‰æ‹©åŸæ¥åˆ›å»ºçš„<code>Virtual Camera</code>ï¼Œç„¶åå°†å®ƒå…³é—­ï¼ˆå¦‚æœä½ å·²ç»å†³å®šä¸æƒ³ä½¿ç”¨å¯ä»¥ç›´æ¥åˆ é™¤ï¼‰ï¼Œå…·ä½“å…³é—­æ–¹æ³•å°±æ˜¯å–æ¶ˆä¸‹å›¾æ‰€ç¤ºçš„å‹¾å‹¾</p><img src="https://p5.toutiaoimg.com/origin/pgc-image/be709270a95a408ca723e83e24f0df33.png" alt="1.png" style="zoom:80%;" /><p>â€‹    å‡¡æ˜¯å…³é—­åçš„å¯¹è±¡åœ¨åˆ—è¡¨ä¸­éƒ½ä¼šå˜æˆæ·¡ç°è‰²çš„</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/076433cd57354d968359194bacc2c638.png" alt="2.png" style="zoom:80%;" /><p>â€‹    ä¹‹åæˆ‘ä»¬å†é€‰ä¸­ä¸»æ‘„åƒæœºï¼Œ<code>Main Camera</code>ï¼Œåœ¨Unityä¸Šæ–¹èœå•ä¸­é€‰æ‹©<code>Cinemachine</code>æ’ä»¶åˆ—è¡¨èœå•é¡¹ğŸ‘‰ä¹‹åå†é€‰æ‹©å¦‚å›¾ç¬¬äºŒä¸ªé€‰é¡¹<code>FreeLook Camera</code></p><img src="https://p3.toutiaoimg.com/origin/pgc-image/487625f3bdce4f8db3115e37d2e53046.png" alt="3.png" style="zoom:80%;" /><p>â€‹    åˆ›å»ºå®Œæ¯•åï¼Œæˆ‘ä»¬å°†æ–°çš„ç›¸æœºå’Œæ—§çš„ç›¸æœºéƒ½å‘½åä¸€ä¸‹ï¼Œé˜²æ­¢ææ··ã€‚</p><p>â€‹    æˆ‘ä»¬åŒæ ·è¦æ¥é€‰æ‹©ä¸€ä¸‹ç›¸æœºçš„è·Ÿè¸ªå¯¹è±¡å’Œè§‚å¯Ÿå¯¹è±¡ï¼Œæˆ‘ä»¬æŠŠæ§åˆ¶äººç‰©<code>Player</code>æ‹–è¿›å»</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/586146b0a6ab4820958b1903848901a8.png" alt="4.png" style="zoom:80%;" /><p>â€‹    æˆ‘ä»¬åœ¨çª—å£ä¸­å¯ä»¥çœ‹åˆ°æ‘„åƒæœºæ—è¾¹æœ‰ä¸Šä¸­ä¸‹ä¸‰ä¸ªçº¢è‰²åœˆåœˆï¼ŒåŒæ—¶è¿˜æœ‰ä¸€æ¡å¼§çº¿åŒ…è£¹ä½å®ƒä»¬ï¼Œè¿™æ˜¯ä»£è¡¨ç€æˆ‘ä»¬ç›¸æœºå¯ä»¥åœ¨è¿™ä¸‰ä¸ªç»´åº¦é‡Œé¢è‡ªç”±æ—‹è½¬åˆ‡æ¢æ‘„åƒæœºè§’åº¦ï¼ŒåŒæ—¶å¯ä»¥è¿›è¡Œä¸Šä¸‹è§’åº¦çš„åˆ‡æ¢ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å–œå¥½æ¥è°ƒæ•´è¿™å‡ ä¸ªåœˆåœˆ</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/7dacd6ce8f324399aa660d3d593e8e2c.png" alt="5.png" style="zoom:80%;" /><p>â€‹    ç„¶åå°±æ˜¯å¦‚ä½•æ¥æ§åˆ¶æ‘„åƒæœºç§»åŠ¨äº†ï¼Œæˆ‘ä»¬åœ¨<code>FreeLook Camera</code>çš„å±æ€§é¢æ¿ä¸­å¯ä»¥çœ‹åˆ°æœ‰ä¸ª<code>Axis Control</code>çš„é¡¹ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ§åˆ¶Yè½´ç§»åŠ¨çš„æ˜¯<code>Mouse Y</code>ï¼Œæ§åˆ¶Xè½´ç§»åŠ¨çš„æ˜¯<code>Mouse X</code>ï¼Œå³é»˜è®¤æƒ…å†µæ˜¯é¼ æ ‡ç§»åŠ¨æ¥æ§åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤ä¿®æ”¹å®ƒ</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/d5c98a365df147d79a90ce4fa823e67e.png" alt="6.png" style="zoom:80%;" /><p>â€‹    æˆ‘ä»¬æ‰“å¼€<code>Project Setting...</code>ï¼Œé‡Œé¢æœ‰ä¸ª<code>Input Manager</code>ï¼Œåœ¨è¿™é‡Œå°±å¯ä»¥ä¿®æ”¹å…·ä½“å…³äº<code>Axis</code>æŒ‰é”®çš„è®¾ç½®</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/3d0286059bc547ccabd4c79efcf82bef.png" alt="7.png" style="zoom:80%;" /><p>â€‹    åœ¨Mouse Yä¸‹é¢æœ‰ä¸€ä¸ª<code>Mouse ScrollWheel</code>ï¼Œè¿™ä¸ªå°±æ˜¯é¼ æ ‡çš„æ»šè½®ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¥è¿›è¡Œè§†è§’çš„æ‹‰è¿œå’Œæ‹‰è¿‘</p><p>â€‹    è¿˜æœ‰ä¸€ä¸ª<code>Horizontal</code>çš„é€‰é¡¹ï¼Œè¿™ä¸ªå¯ä»¥æ¥æ§åˆ¶è§†è§’å·¦å³ç§»åŠ¨ï¼Œå¹¶ä¸”å®ƒå¯ä»¥åˆ©ç”¨æˆ‘ä»¬æä¾›çš„è‡ªå®šä¹‰æŒ‰é”®ï¼Œå¦‚ï¼šAå’ŒDï¼Œåªéœ€è¦åœ¨<code>Negative Button</code>å’Œ<code>Positive Button</code>åˆ†åˆ«å¡«å…¥ä½ æƒ³è¦çš„æŒ‰é”®</p><img src="https://p5.toutiaoimg.com/origin/pgc-image/20c6e5d985d34974b7e52ecdafb2ff24.png" alt="8.png" style="zoom:80%;" /><p>â€‹    è‡ªå®šä¹‰å¥½æŒ‰é”®ä¹‹åï¼Œæˆ‘ä»¬è¦æŠŠå…·ä½“çš„<code>Axes</code>åç§°å¤åˆ¶åˆ°æ‘„åƒæœºå±æ€§é¢æ¿ä¸­ï¼Œå¦‚æœæµ‹è¯•çš„æ—¶å€™å‘ç°è§†è§’ç§»åŠ¨æ˜¯åå‘çš„å¯ä»¥æŠŠ<code>Invert</code>å¯é€‰æ¡†çš„å‹¾å‹¾å»æ‰ï¼Œè½¬å‘é€Ÿåº¦å¤ªæ…¢å¯ä»¥ä¿®æ”¹<code>Speed</code>é‡Œçš„æ•°å€¼</p><p>â€‹    ğŸˆåœ¨è°ƒè¯•ä¹‹å‰å¯ä»¥æŠŠ<code>Save During Play</code>é€‰ä¸Šï¼Œè¿™æ ·ä¾¿å¯ä»¥ç‚¹<code>Game</code>æ¸¸ç©æ—¶è¾¹ç©è¾¹è°ƒæ•´ï¼Œå¹¶ä¸”ä¿®æ”¹çš„æ•°æ®å¯ä»¥ä¿å­˜ä¸‹æ¥</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/1dd06a7a2f0e49d39f3622ffa4bead06.png" alt="9.png" style="zoom:80%;" /><p>â€‹    è¿™æ ·ï¼Œæˆ‘ä»¬çš„æ‘„åƒæœºè§†è§’æ§åˆ¶å°±è‡ªå®šä¹‰å¥½äº†</p><p>â€‹    å¦‚æœå‘ç°æ‘„åƒæœºç¦»äººç‰©å¤ªè¿‘ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä»¥ä¸‹çš„å‚æ•°</p><p>â€‹    <code>Orbits</code>é¡¹åˆ†åˆ«æœ‰ä¸‰ä¸ª<code>Rig</code>çš„ä¿®æ”¹å‚æ•°æ¡†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¿®æ”¹</p><img src="https://p3.toutiaoimg.com/origin/pgc-image/54045622e4a64873846e612a7e679804.png" alt="10.png" style="zoom:80%;" /><p>â€‹    è¿™é‡Œæˆ‘çš„å‚æ•°ä¿®æ”¹å¦‚ä¸‹</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/eeb5b826c51240e3bcf20c7f1ae81ac3.png" alt="11.png" style="zoom:80%;" /><p>â€‹    åˆ°è¿™æˆ‘ä»¬çš„è‡ªç”±è§†è§’ç›¸æœºå°±è®¾ç½®å¥½äº†</p><h1 id="æ£€æµ‹äººç‰©æ˜¯å¦åœ¨æ•Œäººé™„è¿‘"><a href="#æ£€æµ‹äººç‰©æ˜¯å¦åœ¨æ•Œäººé™„è¿‘" class="headerlink" title="æ£€æµ‹äººç‰©æ˜¯å¦åœ¨æ•Œäººé™„è¿‘"></a>æ£€æµ‹äººç‰©æ˜¯å¦åœ¨æ•Œäººé™„è¿‘</h1><p>â€‹    æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®ç°è®©æ•Œäººæ£€æµ‹äººç‰©æ˜¯å¦åœ¨å®ƒè‡ªèº«çš„é™„è¿‘</p><p>â€‹    æˆ‘ä»¬æ‰“å¼€ä¹‹å‰å·²ç»å†™äº†ä¸€ç‚¹æ¡†æ¶çš„<code>EnemyController.cs</code>ä»£ç æ–‡ä»¶ï¼Œå…ˆä¿®æ”¹ä¸€ä¸‹å‰é¢å£°æ˜çš„<code>enemyStates</code>ï¼Œå°†å…¶æ”¹ä¸º<code>private</code>ï¼Œå› ä¸ºè¿™ä¸ªæ•ŒäººçŠ¶æ€æ˜¯é åé¢ä»£ç è‡ªåŠ¨æ”¹å˜çš„ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ¥å¼„ï¼Œæ²¡æœ‰å¿…è¦è®¾æˆpublic</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">private</span> <span class="token class-name">EnemyStates</span> enemyStates<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹    </p><p>â€‹    ç„¶åæˆ‘ä»¬å¯ä»¥å¼„ä¸€ä¸ªå˜é‡ï¼Œè¡¨ç¤ºæ•Œäººçš„å¯è§†èŒƒå›´</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Header</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Basic Settings"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span><span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> sightRadius<span class="token punctuation">;</span><span class="token comment">//æ•Œäººçš„å¯è§†èŒƒå›´</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€‹    è¿™é‡Œæˆ‘ç”¨äº†ä¸€ä¸ª<code>[Header(&quot;Basic Settings&quot;)]</code>ï¼Œè¿™æ ·åšå¯ä»¥åœ¨å¯¹è±¡çš„å±æ€§é¢æ¿æœ‰ä¸€ä¸ªåˆ’åˆ†çš„ä½œç”¨ï¼Œä»¥åæˆ‘ä»¬éƒ½å¯ä»¥è¿™æ ·æ¥åˆ’åˆ†ä¸€äº›ä»£ç å…¬å¼€ç»™å¤–ç•Œçš„è®¾ç½®é¡¹ğŸ‘‡</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/6c60b7836bf74b1fb0671f9c2af7253f.png" alt="12.png" style="zoom:80%;" /><p>â€‹    ç„¶åå°±åˆ°äº†æˆ‘ä»¬å…³é”®çš„ä¸€ä¸ªéƒ¨åˆ†ï¼Œå†™ä¸€ä¸ªæ£€æµ‹æ•Œäººé™„è¿‘æ˜¯å¦æœ‰äººç‰©çš„å‡½æ•°ï¼Œè¿™é‡Œæ˜¯åˆ©ç”¨äº† <a href="https://docs.unity3d.com/ScriptReference/Physics.OverlapSphere.html">Physics.OverlapSphere</a> çš„æ–¹æ³•ï¼Œè¿™ä¸ªå‡½æ•°æ£€æµ‹äº†ä¸€ä¸ªçƒä½“èŒƒå›´å†…æ˜¯å¦æœ‰ç¢°æ’ä½“ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸ºäººç‰©æ·»åŠ ä¸€ä¸ªç¢°æ’ä½“å†ç»“åˆè¿™ä¸ªæ–¹æ³•æ¥å®ç°</p><p>â€‹    æˆ‘ä»¬å…ˆæ¥å†™å®ç°ä»£ç </p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">FoundPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Collider<span class="token punctuation">[</span><span class="token punctuation">]</span></span> colliders <span class="token operator">=</span> Physics<span class="token punctuation">.</span><span class="token function">OverlapSphere</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">,</span>sightRadius<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ¥å—ä¸€ä¸ªåœ†ç‚¹ï¼Œä¸€ä¸ªåŠå¾„çš„å‚æ•°ï¼Œè¿”å›çš„æ˜¯ç¢°æ’ä½“æ•°ç»„</span>        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token class-name">Collider</span> target <span class="token keyword">in</span> colliders<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//å¾ªç¯ç¢°æ’ä½“æ•°ç»„ï¼Œé€ä¸ªæŸ¥æ‰¾</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">CompareTag</span><span class="token punctuation">(</span><span class="token string">"Player"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">//å½“å‰å¾ªç¯åˆ°çš„ç¢°æ’ä½“çš„æ ‡ç­¾ä¸ºPlayerå°±ä»£è¡¨æ‰¾åˆ°äººç‰©äº†</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    å› ä¸º<code>OverlapSphere</code>è¿”å›çš„æ˜¯ç¢°æ’ä½“æ•°ç»„ï¼Œæˆ‘ä»¬ä¹‹ååªè¦åœ¨è¿™æ•°ç»„ä¸­éå†æŸ¥æ‰¾æ˜¯å¦æœ‰æ ‡ç­¾ä¸º<code>Player</code>çš„å¯¹è±¡å°±è¡Œäº†</p><p>â€‹    ç„¶åä¿®æ”¹ä¸€ä¸‹ä¹‹å‰çš„<code>SwitchEnemyStates</code>å‡½æ•°</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SwitchEnemyStates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//å¦‚æœå‘ç°player åˆ‡æ¢åˆ°CHASE</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">FoundPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            enemyStates <span class="token operator">=</span> EnemyStates<span class="token punctuation">.</span>CHASE<span class="token punctuation">;</span>            Debug<span class="token punctuation">.</span><span class="token function">LogFormat</span><span class="token punctuation">(</span><span class="token string">"æ•Œäºº&#123;0&#125;å‘ç°äº†ç©å®¶"</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æµ‹è¯•ä»£ç </span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">switch</span><span class="token punctuation">(</span>enemyStates<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>GUARD<span class="token punctuation">:</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>PATROL<span class="token punctuation">:</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>CHASE<span class="token punctuation">:</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>DEAD<span class="token punctuation">:</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    å†™å®Œä»£ç ååˆ«å¿˜äº†æˆ‘ä»¬è¦ä¸ºäººç‰©æ·»åŠ ä¸€ä¸ªç¢°æ’ä½“ï¼Œè¿™é‡Œæˆ‘é€‰ç”¨çš„å°±æ˜¯èƒ¶å›Šç¢°æ’ä½“<code>Capsule Collider</code>ï¼Œç„¶åè°ƒæ•´ä¸€ä¸‹èƒ¶å›Šçš„å¤§å°</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/31bf56dfd4ae4f998acbbc3320e577de.png" alt="13.png" style="zoom:80%;" /><img src="https://p3.toutiaoimg.com/origin/pgc-image/12273ccf82704bbdb3a69d8ff64a940c.png" alt="15.png" style="zoom:80%;" /><p>â€‹    æœ€åå†æŠŠäººç‰©çš„æ ‡ç­¾è®¾ä¸º<code>Player</code>ï¼Œç„¶åæŠŠä¹‹å‰è®¾çš„å…¬å¼€å˜é‡<code>Sight Radius</code>è§†é‡èŒƒå›´èµ‹äºˆä¸€ä¸ªå€¼</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/5fa32863fb39401ba974cd2e18443420.png" alt="14.png" style="zoom:80%;" /><img src="https://p3.toutiaoimg.com/origin/pgc-image/3892abc4f74f4700b0078adcbe3aa7ac.png" alt="16.png" style="zoom:80%;" /><p>â€‹    è¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†æ•ŒäººèŒƒå›´æ£€æµ‹äººç‰©çš„åŠŸèƒ½äº†ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;â€‹    è¿™ä¸€ç« æˆ‘ä»¬å°†å¯¹é¡¹ç›®åšä¸€äº›è°ƒæ•´ï¼ŒåŒ…æ‹¬ï¼šè®¾ç½®è‡ªç”±ç§»åŠ¨è§†è§’çš„ç›¸æœºã€æ£€æµ‹äººç‰©æ˜¯å¦åˆ°è¾¾æ•Œäººé™„è¿‘ã€åˆ‡æ¢åˆ°è¿½å‡»æ¨¡å¼ç­‰ã€‚ä»¥åæˆ‘ä»¬å¯èƒ½ä¼šå¤šæ¬¡åœ¨é¡¹ç›®å¼€å‘é€”ä¸­åœä¸‹æ¥åšä¸€äº›å°å°çš„ä¼˜åŒ–ä¹‹ç±»çš„ï¼Œè¿™äº›éƒ½æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚&lt;/p&gt;
&lt;h1 id=&quot;å°†ç›¸æœºæ”¹æˆå¯è‡ªç”±ç§»åŠ¨è§†è§’&quot;&gt;&lt;a href=&quot;#å°†ç›¸</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°6-åˆ›å»ºæ•Œäºº</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B06-%E5%88%9B%E5%BB%BA%E6%95%8C%E4%BA%BA/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B06-%E5%88%9B%E5%BB%BA%E6%95%8C%E4%BA%BA/</id>
    <published>2021-06-15T13:02:24.000Z</published>
    <updated>2021-06-27T06:58:26.521Z</updated>
    
    <content type="html"><![CDATA[<p>â€‹     åœ¨æœ¬ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ å¦‚ä½•åˆ›å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæ•Œäººå¹¶æ·»åŠ ä¸€äº›å…³äºç§»å‘æ•Œäººçš„ä»£ç å’Œæ”»å‡»åŠ¨ç”»ï¼Œä»è€Œä½¿æˆ‘ä»¬çš„æ¸¸æˆæ›´åŠ å®Œå–„</p><h1 id="ä¸‹è½½å¹¶å®‰è£…æ•Œäººç´ æ"><a href="#ä¸‹è½½å¹¶å®‰è£…æ•Œäººç´ æ" class="headerlink" title="ä¸‹è½½å¹¶å®‰è£…æ•Œäººç´ æ"></a>ä¸‹è½½å¹¶å®‰è£…æ•Œäººç´ æ</h1><p>â€‹    æˆ‘ä»¬ä»Šå¤©è¦ä¸‹è½½çš„æ•Œäººç´ æåå­—æ˜¯<strong>RPG Monster Duo PBR Polyart</strong>ï¼Œå¤§å®¶å¯ä»¥å» Assert Store ä¸Šä¸‹è½½ä¸‹æ¥</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/06c4964d32aa45fa89ebb17df55275cf.jpg" alt="1.1.jpg" style="zoom:80%;" /><p>â€‹    åŒæ ·çš„ï¼Œä¸‹è½½å®Œåæˆ‘ä»¬é€‰æ‹© <code>Import</code> åŠ è½½è¿›æˆ‘ä»¬çš„é¡¹ç›®é‡Œï¼Œå†æŠŠæ–°ç´ æçš„æ–‡ä»¶å¤¹åˆ†ç±»æ”¾å¥½</p><p>â€‹    æˆ‘ä»¬å¯ä»¥é¢„è§ˆä¸€ä¸‹åˆšä¸‹å¥½çš„ç´ æï¼Œä½†æ˜¯å‘ç°æ˜¯æ²¡æœ‰è´´å›¾çš„ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æŠŠç´ æå‡çº§åˆ°URPï¼Œæˆ‘ä»¬å°†ç´ æå‡çº§ä¸€ä¸‹å°±å¯ä»¥æ˜¾ç¤ºæ­£å¸¸äº†ï¼Œè¿˜è®°å¾—å¦‚ä½•å°†ç´ æå‡çº§URPå—ï¼Ÿä¸è®°å¾—çš„è¯å¯ä»¥ç¿»çœ‹å‰é¢çš„æ–‡ç« å“¦</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/9190e65818cf49a5ba851b0aabec2db9.png" alt="2.png" style="zoom:80%;" /><h1 id="å¸ƒç½®å¹¶è®¾ç½®æ•Œäººçš„åŸºæœ¬å±æ€§å’ŒçŠ¶æ€"><a href="#å¸ƒç½®å¹¶è®¾ç½®æ•Œäººçš„åŸºæœ¬å±æ€§å’ŒçŠ¶æ€" class="headerlink" title="å¸ƒç½®å¹¶è®¾ç½®æ•Œäººçš„åŸºæœ¬å±æ€§å’ŒçŠ¶æ€"></a>å¸ƒç½®å¹¶è®¾ç½®æ•Œäººçš„åŸºæœ¬å±æ€§å’ŒçŠ¶æ€</h1><h2 id="ä½¿ç”¨ä»£ç çº¦æŸçš„æ–¹å¼æ¥æ·»åŠ ç»„ä»¶"><a href="#ä½¿ç”¨ä»£ç çº¦æŸçš„æ–¹å¼æ¥æ·»åŠ ç»„ä»¶" class="headerlink" title="ä½¿ç”¨ä»£ç çº¦æŸçš„æ–¹å¼æ¥æ·»åŠ ç»„ä»¶"></a>ä½¿ç”¨ä»£ç çº¦æŸçš„æ–¹å¼æ¥æ·»åŠ ç»„ä»¶</h2><p>å®‰è£…å¥½æ•Œäººç´ æåï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠæ•Œäººæ‹–åˆ°åœ°å›¾ä¸­äº†ï¼Œå°†å®ƒæ”¾åˆ°ä½ å–œæ¬¢çš„ä½ç½®ä¹‹åï¼Œå°±å¯ä»¥ç€æ‰‹æ¥ä¿®æ”¹ä¸€ä¸‹å®ƒçš„åŸºæœ¬å±æ€§äº†</p><p>â€‹    ä»è¿™é‡Œå¼€å§‹æˆ‘ä»¬è¦é•¿è¿œè€ƒè™‘ï¼Œæˆ‘ä»¬ä»¥åéœ€è¦æ·»åŠ çš„æ•Œäººä¼šæœ‰å¾ˆå¤šï¼Œè€Œè¿™äº›æ•Œäººéƒ½éœ€è¦æŒ‚è½½ä¸€äº›ç›¸åŒçš„ç»„ä»¶ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ä¸€ç§æ›´å¥½çš„æ–¹æ³•æ¥ä¸ºä»¥åæ•Œäººä¸€é”®æ·»åŠ è¿™äº›ç»„ä»¶ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªæ¥æ·»åŠ ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¼€å§‹å§</p><p>â€‹    é¦–å…ˆåœ¨ä¸‹å›¾çš„<code>ScriptsğŸ‘‰Charcters</code>æ–‡ä»¶å¤¹ä½ç½®æ–°å»ºä¸€ä¸ª C# ä»£ç æ–‡ä»¶ï¼Œå¯ä»¥å‘½åä¸º <strong>EnemyController</strong>ï¼Œç„¶åæ‰“å¼€ç¼–è¾‘</p><img src="https://p5.toutiaoimg.com/origin/pgc-image/30321fb536f94b068f6b998b8e2b663e.png" alt="3.png" style="zoom:80%;" /><p>â€‹    è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥æ¥æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¸€èˆ¬æ•Œäººéœ€è¦å“ªäº›ç»„ä»¶å‘¢ï¼Ÿé¦–å…ˆæƒ³åˆ°çš„æ˜¯æ™ºèƒ½å¯¼èˆª <code>NavMeshAgent</code>ï¼Œé‚£æˆ‘ä»¬è¦ç¡®ä¿å®ƒæ•Œäººå¯¹è±¡è‚¯å®šæŒ‚è½½è¿™ä¸ªç»„ä»¶çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥çº¦æŸå®ƒ</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">UnityEngine<span class="token punctuation">.</span>AI</span><span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">RequireComponent</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">NavMeshAgent</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>â€‹    æŠŠ<code>[RequireComponent()]</code>è¿™ä¸€ä¸ªçº¦æŸå¥å­æ”¾åœ¨ä»£ç æ–‡ä»¶å¼€å¤´çš„ä½ç½®ï¼Œå°±å¯ä»¥å®ç°å½“ä½ æŠŠä»£ç ä½œä¸ºä¸€ä¸ªç»„ä»¶æ·»åŠ åˆ°æ•Œäººæˆ–å…¶å®ƒUnityå¯¹è±¡ä¸­æ—¶ï¼Œè‡ªåŠ¨æ·»åŠ ç»™çº¦æŸçš„ç»„ä»¶äº†</p><p>â€‹    æŒ‰ä¸Šé¢ä»£ç æ¥ä¸¾æ —å­ï¼Œå½“æˆ‘æŠŠåŒ…å«ä¸Šé¢ä»£ç çš„æ–‡ä»¶ä½œä¸ºç»„ä»¶æ·»åŠ åˆ°æˆ‘ä»¬çš„æ•Œäººä¸­æ—¶ï¼Œä¼šè‡ªåŠ¨é™„å¸¦ä¸€ä¸ª<code>NavMeshAgent</code>ç»„ä»¶äº†</p><img src="https://p3.toutiaoimg.com/origin/pgc-image/ff7fb226a3524c7e8aec1e566b2a0e43.png" alt="4.png" style="zoom:80%;" /><p>â€‹    è€Œä¸”å½“ä½ è¯•å›¾åˆ é™¤<code>NavMeshAgent</code>ç»„ä»¶æ—¶Unityè¿˜ä¼šå‘å‡ºè­¦å‘Šæç¤ºä¸èƒ½åˆ é™¤</p><img src="https://p9.toutiaoimg.com/origin/pgc-image/85dda0a8a4a2418cb95ff0402e2a5292.png" alt="5.png" style="zoom:80%;" /><p>â€‹    æ‰€ä»¥å½“ä½ çš„ä»£ç éœ€è¦ç”¨åˆ°ä¸€å®šçš„ç»„ä»¶åœ¨å¤šä¸ªç‰©ä½“ä¸Šï¼Œä½ å°±å¯ä»¥è¿ç”¨è¿™ç§æ–¹å¼æ¥ç¡®ä¿ä½ çš„ç‰©ä½“åŒ…å«äº†è¿™äº›ç»„ä»¶ï¼Œä»¥è‡´äºä½ çš„ä»£ç èƒ½å¤Ÿæ­£å¸¸è¿è¡Œ</p><p>â€‹    åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨<code>Awake()</code>å‡½æ•°é‡Œé¢è·å–æˆ‘ä»¬çš„ç»„ä»¶äº†</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">UnityEngine</span><span class="token punctuation">;</span><span class="token keyword">using</span> <span class="token namespace">UnityEngine<span class="token punctuation">.</span>AI</span><span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">RequireComponent</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">NavMeshAgent</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnemyController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">NavMeshAgent</span> agent<span class="token punctuation">;</span>    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        agent <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>NavMeshAgent<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    </p><h2 id="è®¾ç½®æ•ŒäººåŸºæœ¬å±æ€§"><a href="#è®¾ç½®æ•ŒäººåŸºæœ¬å±æ€§" class="headerlink" title="è®¾ç½®æ•ŒäººåŸºæœ¬å±æ€§"></a>è®¾ç½®æ•ŒäººåŸºæœ¬å±æ€§</h2><p>â€‹    æ¥ä¸‹æ¥æˆ‘ä»¬è®¾ç½®ä¸€ä¸‹æ•Œäººçš„åŸºæœ¬å±æ€§ï¼Œå…ˆæ¥çœ‹çœ‹<code>NavMeshAgent</code>çš„ä¿¡æ¯</p><img src="https://p9.toutiaoimg.com/origin/pgc-image/8c5a62e350ad41d689b6fd0a38cfd104.png" alt="6.png" style="zoom:80%;" /><p>â€‹    è¿™é‡Œæˆ‘ä¿®æ”¹äº†ä¸€ä¸‹è¿™ä¸ªæ•Œäººçš„é€Ÿåº¦<code>Speed</code>ï¼Œå› ä¸ºé€Ÿåº¦å¤ªå¿«ä¼šå¯¼è‡´æˆ‘ä»¬çš„ä¸»è§’æ— æ³•æ‘†è„±æˆ˜æ–—ï¼›åŒæ ·ä¿®æ”¹äº†çš„è¿˜æœ‰è½¬è§’é€Ÿåº¦<code>Angular Speed</code>å’Œé«˜åº¦<code>Height</code>ï¼Œè¿™äº›éƒ½å¯ä»¥è‡ªå·±å°è¯•æ¥è°ƒæ•´åˆ°è‡ªå·±å–œæ¬¢çš„æ•°å€¼</p><p>â€‹    å…¶æ¬¡ï¼Œæˆ‘ä»¬è¿˜è¦æ¥æ·»åŠ ä¸€ä¸ªç¢°æ’ä½“ç»„ä»¶<code>Collider</code>ï¼Œæˆ‘ä»¬è¦å€Ÿç”¨è¿™ä¸ªç¢°æ’ä½“æ¥åˆ¤æ–­æˆ‘ä»¬é¼ æ ‡çš„å°„çº¿æ˜¯å¦ç‚¹å‡»åˆ°äº†æˆ‘ä»¬çš„æ•Œäººï¼Œå¦‚æœæ²¡æœ‰ç¢°æ’ä½“æˆ‘ä»¬æ˜¯æ²¡æœ‰åŠæ³•æ¥åˆ¤æ–­æ˜¯å¦å‡»ä¸­çš„ã€‚</p><p>â€‹    æˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±å–œå¥½å’Œéœ€æ±‚æ¥æ·»åŠ ä¸åŒçš„ç¢°æ’ä½“ç»„ä»¶ï¼Œæˆ‘è¿™é‡Œä¸ºäº†ç®€å•å°±ä½¿ç”¨<code>BoxCollider</code></p><img src="https://p3.toutiaoimg.com/origin/pgc-image/11640e3d6b6048f282feb4622684ece2.png" alt="7.png" style="zoom:80%;" /><p>â€‹    æ·»åŠ å¥½è°ƒæ•´ä¸€ä¸‹æ–¹ä½“çš„ä½ç½®ï¼Œä½¿æ–¹æ¡†åˆšå¥½åŒ…å«æ•Œäºº</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/3f63124e04c9414a94edbdfc62310fb5.png" alt="8.png" style="zoom:80%;" /><p>â€‹    å…¶æ¬¡ï¼Œæˆ‘ä»¬è¿˜è¦è°ƒæ•´ä¸€ä¸‹æˆ‘ä»¬æ•Œäººçš„å›¾å±‚ï¼Œä»¥é˜²è¢«å…¶å®ƒä¸œè¥¿æŒ¡ä½äº†çœ‹ä¸è§ã€‚</p><p>â€‹    å’Œä¹‹å‰å‰”é™¤äººç‰©é®æŒ¡ä¸€æ ·æ­¥éª¤ï¼Œæˆ‘ä»¬åªéœ€è¦æ·»åŠ ä¸€ä¸ªå›¾å±‚å¹¶åœ¨<code>URP</code>æ–‡ä»¶ä¸­çš„<code>Layer Mask</code>ä¸‹æ‹‰åˆ—è¡¨ï¼ˆå¯ä»¥å¤šé€‰ï¼‰å‹¾é€‰æˆ‘ä»¬çš„æ–°å›¾å±‚å°±è¡Œäº†</p><img src="https://p3.toutiaoimg.com/origin/pgc-image/eb0776b3a1324e76919f62b6201061ca.png" alt="10.png" style="zoom:80%;" /><img src="https://p5.toutiaoimg.com/origin/pgc-image/c1efe22bdbce4eeb839e358479ad7702.png" alt="11.png" style="zoom:80%;" /><p>â€‹    å›¾å±‚åŠ äº†ä¹‹åä¹Ÿåˆ«å¿˜äº†ä¹Ÿè¦æ–°å»ºä¸€ä¸ª<code>Enemy</code>çš„æ ‡ç­¾</p><h2 id="ç¼–å†™æ•Œäººçš„çŠ¶æ€"><a href="#ç¼–å†™æ•Œäººçš„çŠ¶æ€" class="headerlink" title="ç¼–å†™æ•Œäººçš„çŠ¶æ€"></a>ç¼–å†™æ•Œäººçš„çŠ¶æ€</h2><p>â€‹    é¦–å…ˆæˆ‘ä»¬è¦æ€è€ƒä¸€ä¸‹æ•Œäººä¼šæœ‰å¤šå°‘ç§çŠ¶æ€å‘¢ï¼Ÿè¿™é‡Œæˆ‘å¯ä»¥å…ˆæƒ³åˆ°æœ‰ï¼šè­¦æˆ’ã€å·¡é€»ã€è¿½å‡»ä¸»è§’ã€æ­»äº¡ è¿™å››ç§çŠ¶æ€ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ ¹æ®ä½ æ‰€å–œå¥½çš„çŠ¶æ€å»è®¾è®¡</p><p>â€‹    æˆ‘ä»¬åœ¨<code>EnemyController.cs</code>ä»£ç æ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢è¿™ä¸€è¡Œæšä¸¾ä»£ç ï¼Œ<u>æ³¨æ„æ˜¯æ‰“åœ¨ç±»çš„å¤–è¾¹ä½œä¸ºå…¨å±€å½¢å¼</u></p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">EnemyStates</span><span class="token punctuation">&#123;</span>GUARD<span class="token punctuation">,</span>PATROL<span class="token punctuation">,</span>CHASE<span class="token punctuation">,</span>DEAD<span class="token punctuation">&#125;</span><span class="token comment">//æ•Œäººçš„å››ç§çŠ¶æ€ï¼Œè­¦æˆ’ã€å·¡é€»ã€è¿½å‡»ã€æ­»äº¡</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹    ç„¶åæˆ‘ä»¬å†åœ¨ç±»ä¸­å£°æ˜å˜é‡</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token class-name">EnemyStates</span> enemyStates<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹    è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¿”å›Unityä¸­å°±å¯ä»¥åœ¨æ•Œäººå¯¹è±¡ä¸­ä»£ç ç»„ä»¶éƒ¨åˆ†çœ‹åˆ°å¤šäº†ä¸ª<code>Enemy States</code>çš„ä¸‹æ‹‰èœå•äº†</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/09d6536220f44ff2919ed22b29442031.png" alt="9.png" style="zoom:80%;" /><p>â€‹    è¿™é‡Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¾ƒä¸ºç®€å•çš„çŠ¶æ€åˆ‡æ¢æ–¹å¼â€”Switchåˆ‡æ¢ï¼Œå½“ç„¶è¿˜å¯ä»¥é€‰æ‹©å¤æ‚ç‚¹çš„çŠ¶æ€æœºåˆ‡æ¢æ–¹å¼ï¼Œè¿™é‡Œæš‚æ—¶ä¸ä½¿ç”¨å…ˆï¼Œæ‰“å¼€æˆ‘ä»¬çš„<code>EnemyController.cs</code>ä»£ç æ–‡ä»¶ï¼Œå†™ä¸€ä¸ªåŸºæœ¬çš„Switchåˆ¤æ–­æ¡†æ¶</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">SwitchEnemyStates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SwitchEnemyStates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span><span class="token punctuation">(</span>enemyStates<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>GUARD<span class="token punctuation">:</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>PATROL<span class="token punctuation">:</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>CHASE<span class="token punctuation">:</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> EnemyStates<span class="token punctuation">.</span>DEAD<span class="token punctuation">:</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    ä»¥ä¸Šçš„æ¡†æ¶ç¼–å†™å¥½åæˆ‘ä»¬å…ˆæ”¾ä¸€è¾¹åˆ°æ—¶å€™å†æ¥è¡¥å……</p><h1 id="æ·»åŠ äººç‰©ç§»åŠ¨åˆ°æ•Œäººçš„æ–¹æ³•"><a href="#æ·»åŠ äººç‰©ç§»åŠ¨åˆ°æ•Œäººçš„æ–¹æ³•" class="headerlink" title="æ·»åŠ äººç‰©ç§»åŠ¨åˆ°æ•Œäººçš„æ–¹æ³•"></a>æ·»åŠ äººç‰©ç§»åŠ¨åˆ°æ•Œäººçš„æ–¹æ³•</h1><h2 id="æ·»åŠ äº‹ä»¶"><a href="#æ·»åŠ äº‹ä»¶" class="headerlink" title="æ·»åŠ äº‹ä»¶"></a>æ·»åŠ äº‹ä»¶</h2><p>â€‹    æ¥ä¸‹æ¥åˆè¦å›åˆ°æˆ‘ä»¬çš„<code>MouseManager.cs</code>ä»£ç æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬è¦æ·»åŠ ä¸€ä¸ªæ–°çš„äº‹ä»¶ï¼Œæ¥ä»£è¡¨å½“æˆ‘ä»¬é¼ æ ‡ç‚¹å‡»æ•Œäººæ—¶çš„äº‹ä»¶</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">event</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>GameObject<span class="token punctuation">></span></span> OnEnemyClicked<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹    è¿™æ ·æˆ‘ä»¬äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ä¼ é€’çš„å°±æ˜¯<code>GameObject</code>ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬é¼ æ ‡ç‚¹å‡»çš„æ•Œäººäº†ï¼Œè¿™æ ·åšæˆ‘ä»¬å°±å¯ä»¥è·å¾—æ›´å¤šçš„æ•Œäººç›¸å…³ä¿¡æ¯ï¼Œæ¯”å¦‚åæ ‡ã€åå­—ç­‰</p><p>â€‹    ç„¶åæˆ‘ä»¬å†æŠŠå½“å‰ä»£ç æ–‡ä»¶ä¸‹çš„<code>MouseControl</code>å‡½æ•°ä¿®æ”¹ä¸€ä¸‹ï¼Œæ·»åŠ ä¸€äº›ä»£ç </p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MouseControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">GetMouseButtonDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> hitInfo<span class="token punctuation">.</span>collider <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>hitInfo<span class="token punctuation">.</span>collider<span class="token punctuation">.</span><span class="token function">CompareTag</span><span class="token punctuation">(</span><span class="token string">"Ground"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            OnMouseClicked<span class="token punctuation">?.</span><span class="token function">Invoke</span><span class="token punctuation">(</span>hitInfo<span class="token punctuation">.</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>hitInfo<span class="token punctuation">.</span>collider<span class="token punctuation">.</span><span class="token function">CompareTag</span><span class="token punctuation">(</span><span class="token string">"Enemy"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            OnEnemyClicked<span class="token punctuation">?.</span><span class="token function">Invoke</span><span class="token punctuation">(</span>hitInfo<span class="token punctuation">.</span>collider<span class="token punctuation">.</span>gameObject<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¿™é‡Œä¼ é€’çš„æ˜¯å°„çº¿ç¢°æ’åˆ°çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ•Œäººäº†</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    æ¥ä¸‹æ¥è½¬åˆ°<code>PlayerController.cs</code>ä»£ç æ–‡ä»¶æ¥é…ç½®ä¸€ä¸‹è§’è‰²ç‚¹å‡»åˆ°æ•Œäººçš„ååº”</p><p>â€‹    æˆ‘ä»¬åœ¨ä»£ç æ–‡ä»¶çš„ç±»ä¸‹æ·»åŠ ä¸‹é¢çš„ä»£ç </p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PlayerController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">GameObject</span> attactTarget<span class="token punctuation">;</span><span class="token comment">//ä¸ºäº†ç¼–å†™ç‚¹å‡»æ•Œäººå‡½æ•°æ–¹ä¾¿è€Œå£°æ˜çš„å˜é‡</span>    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">float</span></span> lastAttactTime<span class="token punctuation">;</span><span class="token comment">//ä¸€ä¸ªå…³äºä¸Šä¸€æ¬¡æ”»å‡»æ—¶é—´çš„å˜é‡ï¼Œç®€å•çš„è®¡æ—¶å™¨ï¼Œä¸€æ—¦è¶…è¿‡æ‰€ç»™çš„CDæ—¶é—´å°±å¯ä»¥å†æ”»å‡»ä¸€æ¬¡</span>    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        MouseManager<span class="token punctuation">.</span>Instance<span class="token punctuation">.</span>OnMouseClicked<span class="token operator">+=</span>MoveToTarget<span class="token punctuation">;</span><span class="token comment">//æ™®é€šç§»åŠ¨</span>        MouseManager<span class="token punctuation">.</span>Instance<span class="token punctuation">.</span>OnEnemyClicked<span class="token operator">+=</span>EventAttact<span class="token punctuation">;</span><span class="token comment">//æˆ‘ä»¬ç‚¹å‡»äº†æ”»å‡»ç›®æ ‡ï¼Œå³æ•Œäºº</span>    <span class="token punctuation">&#125;</span>    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">EventAttact</span><span class="token punctuation">(</span><span class="token class-name">GameObject</span> obj<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//è¿™é‡Œå°±å¯ä»¥å¡«å†™ç‚¹å‡»æ•Œäººåéœ€è¦çš„æ“ä½œäº†</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    </p><h2 id="åˆ©ç”¨åç¨‹çš„æ–¹å¼æ¥å†™äººç‰©ç§»å‘æ•Œäºº"><a href="#åˆ©ç”¨åç¨‹çš„æ–¹å¼æ¥å†™äººç‰©ç§»å‘æ•Œäºº" class="headerlink" title="åˆ©ç”¨åç¨‹çš„æ–¹å¼æ¥å†™äººç‰©ç§»å‘æ•Œäºº"></a>åˆ©ç”¨åç¨‹çš„æ–¹å¼æ¥å†™äººç‰©ç§»å‘æ•Œäºº</h2><p>â€‹    é‚£ä¹ˆæˆ‘ä»¬å°±è¦æ¥æ€è€ƒ<code>EventAttact</code>åœ¨å‡½æ•°é‡Œè¦å®ç°ä»€ä¹ˆäº†</p><p>â€‹    é¦–å…ˆæˆ‘ä»¬æ¥å®ç°å°äººè·‘åˆ°æ•Œäººçš„é¢å‰ï¼Œè¿™é‡Œå°±è¦åˆ¤æ–­å°äººæ˜¯å¦åˆ°äº†å¯ä»¥æ”»å‡»æ•Œäººçš„å°„ç¨‹ï¼Œå¦‚æœæ²¡æœ‰åˆ°çš„è¯å°±è¦ç»§ç»­ç§»åŠ¨ï¼Œè€Œè¿™å°±è¦ç”¨åˆ°<code>åç¨‹</code>çš„æ–¹å¼æ¥å®ç°ï¼Œå…·ä½“å…³äºä»€ä¹ˆæ˜¯åç¨‹å¤§å®¶å¯ä»¥è‡ªè¡Œæœå¯»èµ„æ–™</p><p>â€‹    æˆ‘ä»¬åœ¨ä¸Šé¢ä»£ç çš„åŸºç¡€ä¸‹ï¼Œå†å†™ä¸€ä¸ªå…³äºåç¨‹çš„å‡½æ•°</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span><span class="token return-type class-name">IEnumerator</span> <span class="token function">MoveToAttackTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//è¿™é‡Œç”¨åˆ°çš„IEnumeratorå°±æ˜¯ä¸€ä¸ªåç¨‹</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    åŒæ—¶å› ä¸ºæˆ‘ä»¬å³å°†è¦ç”¨åˆ°ä¸Šé¢å£°æ˜è¿‡çš„<code>attactTargetï¼ˆGameObjectç±»å‹ï¼‰</code>æˆ‘ä»¬è¿˜è¦å¯¹åŸå…ˆçš„å‡½æ•°è¿›è¡Œä¸€äº›ä¿®æ”¹</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">EventAttact</span><span class="token punctuation">(</span><span class="token class-name">GameObject</span> target<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>target<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¦‚æœé¼ æ ‡ç‚¹å‡»çš„ç›®æ ‡ä¸ä¸ºç©ºï¼Œæˆ–è€…ç‚¹å‡»çš„æ•Œäººä¸æ˜¯å±äºæ­»äº¡çŠ¶æ€</span>        attact <span class="token operator">=</span> target<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥æ­£å¼æ¥ç¼–å†™<code>MoveToAttackTarget</code>å‡½æ•°äº†</p><p>â€‹    å› ä¸ºè¦å®ç°å°äººè·‘åˆ°æ•Œäººé¢å‰ï¼Œé‚£ä¹ˆå°±å…ˆè¦å®ç°å°äººä¼šè½¬å‘æˆ‘ä»¬çš„ç›®æ ‡ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸‹é¢è¿™è¡Œä»£ç </p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name">IEnumerator</span> <span class="token function">MoveToAttackTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">LookAt</span><span class="token punctuation">(</span>attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//å› ä¸ºè¿™ä¸ªä»£ç æ–‡ä»¶æ˜¯ä½œä¸ºç»„ä»¶å®‰åœ¨å°äººå¯¹è±¡ä¸Šçš„ï¼Œå› æ­¤å‰é¢this.transformè·å–çš„æ˜¯å°äººçš„transform</span>    <span class="token comment">//transformè‡ªå¸¦çš„LookAt()å‡½æ•°å°±å¯ä»¥å®ç°å°äººçš„è½¬å‘</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    æ¥ç€ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªå¾ªç¯ï¼Œå½“å°äººä¸æ•Œäººçš„è·ç¦»å¤§äºæ‰€ç»™å®šçš„<code>æ”»å‡»è·ç¦»</code>ï¼ˆè¿™é‡Œæš‚æ—¶å®šä¸º1ï¼Œåˆ°æ—¶å€™å¯ä»¥æ›´æ”¹ï¼Œç”šè‡³å¯ä»¥æ ¹æ®æ­¦å™¨ç§ç±»ä¸åŒè€Œç»™å®šä¸åŒçš„å€¼ï¼‰æ—¶ï¼Œå°äººå°±ä¸æ–­åœ°å‘æ•Œäººé è¿‘ï¼ˆä¹‹æ‰€ä»¥è¦ä¸æ–­å¾ªç¯åˆ¤æ–­ï¼Œæ˜¯å› ä¸ºæ•Œäººå¯èƒ½å¤„åœ¨å·¡é€»çš„çŠ¶æ€ï¼Œæ¯ä¸€å¸§çš„ä½ç½®éƒ½ä¸ä¸€æ ·ï¼Œå› æ­¤è¦ä¸æ–­æ›´æ–°ç›®çš„åœ°ï¼‰</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name">IEnumerator</span> <span class="token function">MoveToAttackTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//å–æ¶ˆäººç‰©çš„åœæ­¢çŠ¶æ€</span>    transform<span class="token punctuation">.</span><span class="token function">LookAt</span><span class="token punctuation">(</span>attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span><span class="token function">Distance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">,</span>attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//æ¯”è¾ƒäººç‰©å’Œæ•Œäººçš„è·ç¦»æ˜¯å¦å¤§äº0æ”»å‡»è·ç¦»ï¼ŒDistance()å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªVector3è·ç¦»</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>agent<span class="token punctuation">.</span>destination <span class="token operator">=</span> attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span><span class="token comment">//å°äººçš„ç›®çš„åœ°æ˜¯æ•Œäºº</span>        <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//ä¸‹ä¸€å¸§å†æ‰§è¡Œå¾ªç¯åˆ¤æ–­</span>    <span class="token punctuation">&#125;</span>    agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//äººç‰©åˆ°è¾¾æ•Œäººé¢å‰åœä¸‹æ¥</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    è¿™ä¸ªæ–¹æ³•åœ¨whileå¾ªç¯å‰åéƒ½ç”¨åˆ°äº†<code>agent.isStopped</code>ï¼Œå½“å®ƒä¸º<code>true</code>èƒ½å¤Ÿè®©äººç‰©åœæ­¢ï¼Œè€Œ<code>false</code>æ—¶ä»£è¡¨æ²¡åœæ­¢</p><p>â€‹    æ‰“å®Œä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬è¿˜è¦å›åˆ°<code>EventAttact</code>æ·»åŠ ä¸€å¥ä»£ç ä»è€Œè°ƒç”¨åç¨‹</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">EventAttact</span><span class="token punctuation">(</span><span class="token class-name">GameObject</span> target<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>target<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¦‚æœé¼ æ ‡ç‚¹å‡»çš„ç›®æ ‡ä¸ä¸ºç©ºï¼Œæˆ–è€…ç‚¹å‡»çš„æ•Œäººä¸æ˜¯å±äºæ­»äº¡çŠ¶æ€</span>        attactTarget <span class="token operator">=</span> target<span class="token punctuation">;</span>        <span class="token function">StartCoroutine</span><span class="token punctuation">(</span><span class="token function">MoveToAttackTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åˆæ­¥å®ç°å°äººå‘æ•Œäººç§»åŠ¨ï¼Œå¹¶åœ¨ç§»åŠ¨çš„æ—¶å€™ä¸åœåœ°æ¥åˆ¤æ–­æ˜¯å¦åˆ°è¾¾æ”»å‡»è·ç¦»äº†</p><h2 id="æœ€åçš„ä¿®æ”¹"><a href="#æœ€åçš„ä¿®æ”¹" class="headerlink" title="æœ€åçš„ä¿®æ”¹"></a>æœ€åçš„ä¿®æ”¹</h2><p>â€‹    ä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°ä¸€ä¸ªBugï¼Œå°±æ˜¯åœ¨å¾€æ•Œäººæ–¹å‘ç§»åŠ¨çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬æ˜¯æ— æ³•å–æ¶ˆç§»åŠ¨æˆ–ç§»å‘æ–°çš„ç›®æ ‡åœ°ç‚¹çš„ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨åç¨‹ä»£ç çš„å¾ªç¯å¹¶æ²¡æœ‰åˆ¤æ–­åˆ°åœæ­¢æŒ‡ä»¤ï¼Œå› æ­¤æˆ‘ä»¬æ¥å®Œå–„ä¸€ä¸‹</p><p>â€‹    æˆ‘ä»¬å¯ä»¥åœ¨ç§»åŠ¨æ–¹æ³•<code>MoveToTarget</code>ä¸­æ·»åŠ ä»£ç </p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MoveToTarget</span><span class="token punctuation">(</span><span class="token class-name">Vector3</span> target<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//è§£å†³æ”»å‡»å®Œåæ— æ³•ç§»åŠ¨</span>        <span class="token function">StopAllCoroutines</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åœæ­¢æ‰€æœ‰çš„åç¨‹</span>        agent<span class="token punctuation">.</span>destination <span class="token operator">=</span> target<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    è¿™ä¸ª<code>StopAllCoroutines()</code>æ–¹æ³•å¯ä»¥å°†æ‰€æœ‰è¿›è¡Œä¸­çš„åç¨‹åœæ­¢ï¼Œå°±å¯ä»¥å®ç°å½“æˆ‘ä»¬åœ¨ç§»å‘æ•Œäººçš„è¿‡ç¨‹ä¸­ï¼Œç‚¹å‡»äº†å…¶å®ƒä½ç½®å°±èƒ½ä¸­æ–­ç§»å‘æ•Œäººå¹¶ç§»åŠ¨åˆ°æ–°çš„ç›®çš„åœ°äº†</p><p>â€‹    åŒæ—¶ä¸Šé¢è¿˜æœ‰ä¸€è¡Œ<code>agent.isStopped = false</code>ï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢æˆ‘ä»¬æ”»å‡»å®Œæ•Œäººåå¤„äºäººç‰©åœæ­¢çŠ¶æ€è€Œå¯¼è‡´æ— æ³•ç§»åŠ¨</p><h1 id="æ·»åŠ ä¸€ä¸‹æ”»å‡»åŠ¨ç”»å’Œæ”»å‡»å†·å´æ—¶é—´"><a href="#æ·»åŠ ä¸€ä¸‹æ”»å‡»åŠ¨ç”»å’Œæ”»å‡»å†·å´æ—¶é—´" class="headerlink" title="æ·»åŠ ä¸€ä¸‹æ”»å‡»åŠ¨ç”»å’Œæ”»å‡»å†·å´æ—¶é—´"></a>æ·»åŠ ä¸€ä¸‹æ”»å‡»åŠ¨ç”»å’Œæ”»å‡»å†·å´æ—¶é—´</h1><h2 id="æ·»åŠ æ”»å‡»æ•Œäººçš„åŠ¨ç”»"><a href="#æ·»åŠ æ”»å‡»æ•Œäººçš„åŠ¨ç”»" class="headerlink" title="æ·»åŠ æ”»å‡»æ•Œäººçš„åŠ¨ç”»"></a>æ·»åŠ æ”»å‡»æ•Œäººçš„åŠ¨ç”»</h2><p>â€‹    æˆ‘ä»¬æ¥æ·»åŠ ä¸€ä¸‹äººç‰©æ”»å‡»æ•Œäººçš„åŠ¨ç”»å§ï¼Œæ‰“å¼€æˆ‘ä»¬äººç‰©<code>Player</code>çš„åŠ¨ç”»<code>Animation</code>ä¿®æ”¹åŠ¨ç”»</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/895243b835bf4d71a0f6c9eb1e871794.png" alt="12.png" style="zoom:80%;" /><p>â€‹    å…ˆæ–°å»ºä¸€ä¸ª<code>Trigger</code>ç±»å‹çš„å˜é‡ï¼Œå‘½åä¸º<code>Attack</code></p><img src="https://p9.toutiaoimg.com/origin/pgc-image/c3199d9921284b15b414308b04f3e837.png" alt="13.png" style="zoom:80%;" /><p>â€‹    ç„¶åæˆ‘ä»¬ä»äººç‰©ç´ æåŒ…ä¸­æ‰¾åˆ°æ”»å‡»åŠ¨ç”»ï¼Œå†æŠŠè¯¥åŠ¨ç”»æ‹–å‡ºæ¥ï¼ˆè¿™é‡Œæˆ‘ç”¨çš„æ˜¯<code>Attack01</code>ï¼‰</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/171d1f9a693d4ce090172252c58f7825.png" alt="14.png" style="zoom:80%;" /><p>â€‹    æ‹–å‡ºæ¥åæˆ‘ä»¬å°†å…¶é‡å‘½åèŠ‚ç‚¹ä¸º<code>Attack Base</code>ï¼Œç„¶åä¸æ™®é€šåŠ¨ä½œèŠ‚ç‚¹å»ºç«‹æ¥å›ä¸¤æ¡åˆ‡æ¢çš„çº¿è·¯</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/4251a0aadfe145dd8e29234f9c0cb7f4.png" alt="15.png" style="zoom:80%;" /><p>â€‹    ç´§æ¥ç€ï¼Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸‹æ™®é€šåŠ¨ç”»åˆ‡æ¢åˆ°æ”»å‡»åŠ¨ç”»çš„è®¾ç½®ï¼Œç”±äºæˆ‘ä»¬æ˜¯å½“<code>Attack</code>å˜é‡è§¦å‘å°±ä¼šè¿›å…¥æ”»å‡»åŠ¨ç”»çš„ï¼Œå› æ­¤ä¸éœ€è¦é€€å‡ºæ—¶é—´</p><img src="https://p3.toutiaoimg.com/origin/pgc-image/d09bbe1e30774774a22d75da1fa8c35d.png" alt="16.png" style="zoom:80%;" /><p>â€‹    åŒæ—¶è¿˜è¦æ³¨æ„åˆ‡æ¢æ¡ä»¶æ˜¯å˜é‡<code>Attack</code>ç»™è§¦å‘å°±è¿›è¡Œåˆ‡æ¢</p><img src="https://p9.toutiaoimg.com/origin/pgc-image/9e975d5f4a0140aaa81400ea62bfd6c6.png" alt="16.5.png" style="zoom:80%;" /><p>â€‹    ç„¶åæ˜¯æ”»å‡»åŠ¨ç”»åˆ‡æ¢å›æ™®é€šåŠ¨ç”»çš„è®¾ç½®ï¼Œè¿™é‡Œæˆ‘ä»¬æƒ³æ”»å‡»åŠ¨ç”»æ’­æ”¾å®Œå†åˆ‡æ¢å›å»ï¼Œå› æ­¤é€€å‡ºåŠ¨ç”»å¯ä»¥è®¾ç½®ä¸º1ï¼ŒåŒæ—¶è¿‡æ¸¡åŠ¨ç”»å¯ä»¥æŒ‰è‡ªå·±å–œå¥½è‡ªè¡Œè®¾ç½®</p><img src="https://p3.toutiaoimg.com/origin/pgc-image/d09bbe1e30774774a22d75da1fa8c35d.png" alt="16.png" style="zoom:80%;" /><p>â€‹    åŠ¨ç”»å»ºç«‹å¥½åï¼Œæˆ‘ä»¬çš„åŠ¨ç”»è§¦å‘è·Ÿç€å†·å´æ—¶é—´ä¸€èµ·è®¾ç½®</p><h2 id="æ·»åŠ æ”»å‡»å†·å´æ—¶é—´"><a href="#æ·»åŠ æ”»å‡»å†·å´æ—¶é—´" class="headerlink" title="æ·»åŠ æ”»å‡»å†·å´æ—¶é—´"></a>æ·»åŠ æ”»å‡»å†·å´æ—¶é—´</h2><p>â€‹    è¿˜è®°å¾—å‰é¢å£°æ˜çš„<code>lastAttactTime</code>å˜é‡å—ï¼Ÿè¿™é‡Œå°±æ˜¯ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œå»¶ç»­ç€ä¸Šè¾¹åç¨‹å‡½æ•°ï¼Œæˆ‘ä»¬çš„å†·å´æ—¶é—´ä»£ç å’ŒåŠ¨ç”»è§¦å‘ä»£ç éƒ½åœ¨è¿™é‡Œç¼–å†™</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//å½“äººç‰©åˆ°è¾¾å¯ä»¥æ”»å‡»æ•Œäººçš„è·ç¦»å</span><span class="token keyword">if</span><span class="token punctuation">(</span>lastAttactTime<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    animator<span class="token punctuation">.</span><span class="token function">SetTrigger</span><span class="token punctuation">(</span><span class="token string">"Attack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è§¦å‘æ”»å‡»åŠ¨ç”»</span>    lastAttactTime <span class="token operator">=</span> <span class="token number">0.5f</span><span class="token punctuation">;</span><span class="token comment">//é‡ç½®å†·å´æ—¶é—´</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    æŠŠè¿™ä¸€æ®µä»£ç æ”¾åœ¨åŸæ¥çš„åç¨‹å‡½æ•°å°±å˜æˆ</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name">IEnumerator</span> <span class="token function">MoveToAttackTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    transform<span class="token punctuation">.</span><span class="token function">LookAt</span><span class="token punctuation">(</span>attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span><span class="token function">Distance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">,</span>attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//æ¯”è¾ƒäººç‰©å’Œæ•Œäººçš„è·ç¦»æ˜¯å¦å¤§äº0æ”»å‡»è·ç¦»ï¼ŒDistance()å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªVector3è·ç¦»</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>agent<span class="token punctuation">.</span>destination <span class="token operator">=</span> attactTarget<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position<span class="token punctuation">;</span>        <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    agent<span class="token punctuation">.</span>isStopped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token comment">//æ”»å‡»åŠ¨ç”»å’ŒCDéƒ½åœ¨ä¸‹é¢</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>lastAttactTime<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        animator<span class="token punctuation">.</span><span class="token function">SetTrigger</span><span class="token punctuation">(</span><span class="token string">"Attack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è§¦å‘æ”»å‡»åŠ¨ç”»</span>        lastAttactTime <span class="token operator">=</span> <span class="token number">0.5f</span><span class="token punctuation">;</span><span class="token comment">//é‡ç½®å†·å´æ—¶é—´</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    æˆ‘ä»¬è¿™é‡Œå†™åˆ°äº†é‡ç½®å†·å´æ—¶é—´ï¼Œä½†è¿™ä¸ªæ—¶é—´è‚¯å®šè¦æœ‰ä¸€ä¸ªé€’å‡çš„è¿‡ç¨‹çš„ï¼Œé‚£æˆ‘ä»¬å°±è¦æ‰¾ä¸ªåœ°æ–¹æ¥è®©å®ƒé€’å‡ï¼Œè¿™é‡Œ<code>Update</code>æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">SwitchPlyerAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    lastAttactTime <span class="token operator">-=</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">;</span><span class="token comment">//é€’å‡å»æ¯ä¸€å¸§ä¹‹é—´çš„æ—¶é—´</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    è¿™æ ·ï¼Œä¸€ä¸ªå†·å´æ—¶é—´çš„æ•ˆæœè¿˜æœ‰æ”»å‡»åŠ¨ç”»å°±å®Œæˆå•¦ï¼</p><p>â€‹    </p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;â€‹     åœ¨æœ¬ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ å¦‚ä½•åˆ›å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæ•Œäººå¹¶æ·»åŠ ä¸€äº›å…³äºç§»å‘æ•Œäººçš„ä»£ç å’Œæ”»å‡»åŠ¨ç”»ï¼Œä»è€Œä½¿æˆ‘ä»¬çš„æ¸¸æˆæ›´åŠ å®Œå–„&lt;/p&gt;
&lt;h1 id=&quot;ä¸‹è½½å¹¶å®‰è£…æ•Œäººç´ æ&quot;&gt;&lt;a href=&quot;#ä¸‹è½½å¹¶å®‰è£…æ•Œäººç´ æ&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½å¹¶å®‰è£…</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°5--å‰”é™¤äººç‰©çš„é®æŒ¡</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B05-%E5%89%94%E9%99%A4%E4%BA%BA%E7%89%A9%E7%9A%84%E9%81%AE%E6%8C%A1/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B05-%E5%89%94%E9%99%A4%E4%BA%BA%E7%89%A9%E7%9A%84%E9%81%AE%E6%8C%A1/</id>
    <published>2021-06-12T07:35:19.000Z</published>
    <updated>2021-06-27T06:58:15.298Z</updated>
    
    <content type="html"><![CDATA[<p>â€‹    æˆ‘ä»¬å‘ç°åœ¨ç§»åŠ¨åˆ°ä¸€äº›ç‰©ä½“ï¼ˆæ¯”å¦‚è¯´æ ‘ï¼‰åé¢çš„æ—¶å€™ï¼Œäººç‰©å°±ä¼šç»™é®æŒ¡ä½äº†ï¼Œé‚£ä¹ˆæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥å‰”é™¤æ‰è¿™ä¸ªé®æŒ¡å‘¢ï¼Ÿå¯ä»¥å‚è€ƒä¸€äº›æ¸¸æˆï¼Œå¤§éƒ¨åˆ†æ¸¸æˆåœ¨ç§»åŠ¨åˆ°é®æŒ¡ç‰©åé¢æ—¶ä¼šæŠŠäººç‰©çš„è½®å»“æ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™ä¸ªç« èŠ‚æˆ‘ä»¬å°±æ¥å®ç°è¿™ç§æ•ˆæœã€‚</p><h1 id="åˆ©ç”¨-Shader-Graphï¼ˆç€è‰²å™¨å¯è§†åŒ–ç¼–è¾‘å™¨ï¼‰å‰”é™¤é®æŒ¡"><a href="#åˆ©ç”¨-Shader-Graphï¼ˆç€è‰²å™¨å¯è§†åŒ–ç¼–è¾‘å™¨ï¼‰å‰”é™¤é®æŒ¡" class="headerlink" title="åˆ©ç”¨ Shader Graphï¼ˆç€è‰²å™¨å¯è§†åŒ–ç¼–è¾‘å™¨ï¼‰å‰”é™¤é®æŒ¡"></a>åˆ©ç”¨ Shader Graphï¼ˆç€è‰²å™¨å¯è§†åŒ–ç¼–è¾‘å™¨ï¼‰å‰”é™¤é®æŒ¡</h1><h2 id="åˆ›å»ºä¸€ä¸ªShader"><a href="#åˆ›å»ºä¸€ä¸ªShader" class="headerlink" title="åˆ›å»ºä¸€ä¸ªShader"></a>åˆ›å»ºä¸€ä¸ªShader</h2><p>â€‹    é¦–å…ˆä¸ºäº†ä»¥åçš„æ“ä½œæ–¹ä¾¿ï¼Œæˆ‘ä»¬åœ¨ Materials æ–‡ä»¶å¤¹ä¸‹å†æ–°å»ºä¸€ä¸ª <strong>Shader Graph æ–‡ä»¶å¤¹</strong>ï¼Œæˆ‘ä»¬å°±åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª Shader Graph ï¼ˆCreate â€”&gt; Shader â€”&gt; Universal Render Pipeline â€”&gt; Unlit Shader Graphï¼‰å¹¶å°†å®ƒå‘½åä¸º <strong>Occlusion Shader</strong> ï¼ˆé®æŒ¡ç€è‰²å™¨ï¼‰ã€‚</p><p>â€‹    åŒæ—¶é€‰ä¸­è¯¥ Shader å³é”®æ–°å»ºä¸€ä¸ª Material æè´¨ï¼Œå‘½åä¸º <strong>Occlusion</strong> ï¼Œå°†å®ƒæ‹–åˆ°ä¸Šçº§ç›®å½• Materials ï¼Œå®Œæˆåå¦‚ä¸‹å›¾æ‰€ç¤º</p><img src="https://p9.toutiaoimg.com/origin/pgc-image/bda871c8cfc34794a0f19650681d08c2.jpg" alt="1.jpg" style="zoom:80%;" /><img src="https://p6.toutiaoimg.com/origin/pgc-image/7e8acbcfdcb349588d889a38ea6b699d.jpg" alt="2.jpg" style="zoom:67%;" /><p>â€‹    </p><p>â€‹    åšå¥½è¿™äº›åˆ†ç±»å·¥ä½œåï¼Œæˆ‘ä»¬åŒå‡»æ‰“å¼€ Occlusion Shader æ‰“å¼€ç€è‰²å™¨ç¼–è¾‘å™¨çª—å£ï¼Œçœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆåœ¨å³ä¸Šè§’çš„ Graph Settings é€‰é¡¹å¡ä¸­<strong>å‹¾é€‰ Alpha Clip</strong> æ‰“å¼€é€æ˜é€šé“ï¼Œå‹¾é€‰äº†è¿™ä¸ªä¹‹åæˆ‘ä»¬å°±å¯ä»¥åœ¨ Fragment èŠ‚ç‚¹ä¸­ä¿®æ”¹é€æ˜å€¼äº†</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/6d0dd303bf884583b5bf7803d0f5998a.jpg" alt="3.jpg" style="zoom:80%;" /><p>â€‹    ç„¶åæˆ‘ä»¬åœ¨ç©ºç™½çš„åœ°æ–¹å³é”®æ–°å»ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœç´¢æ·»åŠ   <strong>Fresnel Effect</strong> ï¼ˆè²æ¶…å°”æ•ˆåº”ï¼‰ï¼Œæˆ‘ä»¬åˆ°æ—¶å€™å¯ä»¥å°†äººç‰©åº”ç”¨è¿™ä¸ª Shader æ¥å®ç°é€æ˜åŒ–çš„æ•ˆæœ</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/ef52362a31bb45228a82e169ee052644.jpg" alt="4.jpg" style="zoom:80%;" /><p>â€‹    ä½†æ˜¯æˆ‘ä»¬çœ‹è¿™ä¸ªå…‰åœˆæœ‰ç‚¹å•è°ƒï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®ƒæ¥ä¸Šç‚¹é¢œè‰²</p><h2 id="æ·»åŠ é¢œè‰²"><a href="#æ·»åŠ é¢œè‰²" class="headerlink" title="æ·»åŠ é¢œè‰²"></a>æ·»åŠ é¢œè‰²</h2><p>â€‹    è¦æ·»åŠ é¢œè‰²ï¼Œé¦–å…ˆå°±è¦åœ¨å·¦ä¸Šè§’æ–°å»ºä¸€ä¸ª <strong>Colorç±»å‹</strong> çš„å‚æ•°ï¼ˆè¿™äº›æ–°å»ºå‡ºæ¥çš„å‚æ•°ä¹‹åéƒ½å¯ä»¥ç›´æ¥æè´¨å¯¹è±¡çš„å±æ€§ç•Œé¢æ¿ä¿®æ”¹å®ƒä»¬ï¼‰ï¼Œç„¶åç»™è¿™ä¸ªå‚æ•°è®¾ç½®ä¸€ä¸ªé»˜è®¤é¢œè‰²å€¼</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/afff800563c946299acfd483a3bb2f67.jpg" alt="5.jpg" style="zoom:80%;" /><p>â€‹    æœ‰äº†é¢œè‰²å€¼ï¼Œæˆ‘ä»¬æƒ³åº”ç”¨åˆ°ä¸Šé¢çš„ Fresnel Effect èŠ‚ç‚¹çš„è¯ï¼Œæœ‰ä¸ªæ–¹æ³•å°±æ˜¯å°†å®ƒä»¬ç›¸ä¹˜ï¼Œè¿™æ ·é¢œè‰²å°±å¯ä»¥ä¸ä¹‹æ··åˆï¼šæ‹–æ‹½ Fresnel Effect èŠ‚ç‚¹çª—å£çš„ Out ç„¶åç‚¹å‡»ç©ºç™½å¤„ï¼Œåœ¨å¼¹å‡ºçš„æœç´¢æ¡†ä¸­æœç´¢ Multiplyï¼ˆä¹˜ï¼‰ï¼Œè¿™æ—¶å€™å°±å¤šäº†ä¸€ä¸ªèŠ‚ç‚¹çª—å£ï¼ŒAå€¼ç”±åŸæ¥çš„ Fresnel Effect èŠ‚ç‚¹è¾“å…¥è¿›æ¥ï¼Œè€Œå‰©ä¸‹ä¸€ä¸ªBå€¼å°±æ˜¯ç•™ç»™æˆ‘ä»¬é¢œè‰²çš„</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/ca8248f9b6e046ae959697d41e8da5d8.jpg" alt="6.jpg" style="zoom:80%;" /><p>â€‹    æ­¤æ—¶æˆ‘ä»¬å†å°†å·¦ä¸Šè§’çš„ Color æ‹–æ‹½å‡ºæ¥ï¼Œå¹¶ä¼ ç»™Bå€¼ï¼Œè¿™æ ·é¢œè‰²å°±æ··åˆè¿›å»Fresnel Effect èŠ‚ç‚¹äº†</p><img src="https://p3.toutiaoimg.com/origin/pgc-image/278510f8f57e4f57a093c66168a16cd7.jpg" alt="7.jpg" style="zoom:80%;" /><p>â€‹    å°† Multiply èŠ‚ç‚¹è¾“å‡º Out å€¼æ‹–å…¥åˆ° Fragment èŠ‚ç‚¹çš„ Base Color é¡¹ä¸­ï¼Œå¯ä»¥çœ‹åˆ°å³ä¸‹è§’çš„é¢„è§ˆçª—å£å°±æ˜¯æˆ‘ä»¬æè´¨çš„æœ€ç»ˆæ•ˆæœäº†</p><img src="https://p9.toutiaoimg.com/origin/pgc-image/7dc333ce40314957b7ed649b5b9fa013.jpg" alt="8.jpg" style="zoom:80%;" /><p>â€‹    å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥æ›´å®Œå–„ä¸€ä¸‹ï¼Œæ·»åŠ ä¸€äº›é¢å¤–çš„ä¸œè¥¿</p><h2 id="æ·»åŠ å™ªç‚¹"><a href="#æ·»åŠ å™ªç‚¹" class="headerlink" title="æ·»åŠ å™ªç‚¹"></a>æ·»åŠ å™ªç‚¹</h2><p>â€‹    æˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€äº›å™ªç‚¹å¡«å……æˆ‘ä»¬çš„æè´¨</p><p>â€‹    å³é”®åˆ›å»ºä¸€ä¸ª <strong>Dither</strong> èŠ‚ç‚¹çª—å£ï¼Œæ”¹å˜Xçš„å€¼å¯ä»¥çœ‹åˆ°å™ªç‚¹æ¸å˜çš„æ•ˆæœ</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/5253d92200c34098b2989374df8573da.jpg" alt="9.jpg" style="zoom:80%;" /><p>â€‹    ç”±äºè¿™ä¸ªXå€¼æ˜¯ä¸€ä¸ª Float ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª<strong>floatç±»å‹å‚æ•°</strong>æ¥ä¾›å¤–ç•Œæ”¹å˜å®ƒï¼Œæˆ‘ä»¬å°±æŠŠè¿™ä¸ªå‚æ•°å‘½åä¸º <strong>DitherCount</strong> ï¼Œé»˜è®¤å€¼å¯ä»¥æš‚æ—¶è®¾ä¸º1</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/3554a59477874c29b9730008f8d6207c.jpg" alt="10.jpg" style="zoom:80%;" /><p>â€‹    æœ€åå°†è¾“å‡º Out å€¼ä¼ ç»™ Fragment èŠ‚ç‚¹ä¸­çš„ Alpha å³å¯</p><img src="https://p3.toutiaoimg.com/origin/pgc-image/52e712db91204e3b869a6f13a4876508.jpg" alt="11.jpg" style="zoom:80%;" /><p>â€‹    </p><h2 id="ä¿å­˜Shaderå¹¶ç”Ÿæˆä¸ºæè´¨"><a href="#ä¿å­˜Shaderå¹¶ç”Ÿæˆä¸ºæè´¨" class="headerlink" title="ä¿å­˜Shaderå¹¶ç”Ÿæˆä¸ºæè´¨"></a>ä¿å­˜Shaderå¹¶ç”Ÿæˆä¸ºæè´¨</h2><p>â€‹    æœ€åçš„æœ€åæˆ‘ä»¬å¯ä»¥å†æ·»åŠ ä¸€ä¸ªæ§åˆ¶ Alpha Clip Threshold ï¼ˆAlphaé˜ˆå€¼ï¼‰çš„å‚æ•°å€¼ï¼Œå½“ç„¶å®ƒä¹Ÿæ˜¯ floatç±»å‹çš„ï¼Œå‘½åä¸º AlphaThreshold</p><img src="https://p3.toutiaoimg.com/origin/pgc-image/891aa0b188d44acc835c192ca99c33de.jpg" alt="12.jpg" style="zoom:80%;" /><p>â€‹    </p><p>â€‹    ç‚¹å‡»ä¿å­˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æœ€å¼€å§‹åˆ›å»ºçš„ Occlusion æè´¨çœ‹åˆ°æ•ˆæœäº†ï¼Œå¯ä»¥çœ‹åˆ°å®ƒçš„å±æ€§é¢æ¿ä¸­æœ‰äº†ä¸‰ä¸ªå‚æ•°ï¼Œè¿™ä¸‰ä¸ªå‚æ•°å°±æ˜¯æˆ‘ä»¬åœ¨ Shader ç¼–è¾‘å™¨ä¸­åˆ›å»ºçš„ä¸‰ä¸ªå˜é‡å€¼</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/a2f1c9f63ad443778b5f1cc23c69996a.jpg" alt="13.jpg" style="zoom:80%;" /><h1 id="å°†æè´¨åº”ç”¨åˆ°äººç‰©ä¸­"><a href="#å°†æè´¨åº”ç”¨åˆ°äººç‰©ä¸­" class="headerlink" title="å°†æè´¨åº”ç”¨åˆ°äººç‰©ä¸­"></a>å°†æè´¨åº”ç”¨åˆ°äººç‰©ä¸­</h1><h2 id="åˆ›å»ºä¸€ä¸ªRender-Objects"><a href="#åˆ›å»ºä¸€ä¸ªRender-Objects" class="headerlink" title="åˆ›å»ºä¸€ä¸ªRender Objects"></a>åˆ›å»ºä¸€ä¸ªRender Objects</h2><p>â€‹    åœ¨ä¸Šé¢åˆ›å»ºå¥½äº†æè´¨åï¼Œæˆ‘ä»¬å°±å¯ä»¥å°è¯•æŠŠå®ƒåº”ç”¨åˆ°æˆ‘ä»¬çš„äººç‰©é‡Œäº†ï¼Œæˆ‘ä»¬æƒ³è¦çš„æ˜¯å½“äººç‰©ç§»åŠ¨åˆ°æ ‘ç­‰ç‰©ä½“åé¢ç»™é®æŒ¡æ—¶åº”ç”¨è¿™ä¸ªæè´¨ï¼Œè¿™æ ·å°±ç­‰åŒäºæ˜¾ç¤ºäººç‰©çš„è½®å»“äº†ï¼Œé‚£å°±è®©æˆ‘ä»¬å¼€å§‹å§ï¼</p><p>â€‹    æˆ‘ä»¬æ‰¾åˆ°æˆ‘ä»¬çš„ Pipeline Setting æ–‡ä»¶å¤¹ï¼Œé€‰ä¸­ <strong>UniversalRenderPipelineAsset_Renderer</strong> ï¼Œåœ¨å³è¾¹çš„å±æ€§é¢æ¿ä¸­ç‚¹å‡» <strong>Add Renderer Feature</strong> æŒ‰é’®ï¼Œæ–°å»ºä¸€ä¸ª <strong>Render Objects</strong></p><p>â€‹    å› ä¸ºæˆ‘ä»¬è¦åŒºåˆ†äººç‰©åœ¨é®æŒ¡ç‰©å‰é¢å’Œåœ¨é®æŒ¡ç‰©åé¢çš„æƒ…å†µï¼Œæ‰€ä»¥å¯ä»¥å…ˆå°†è¿™ä¸ª Render Object å‘½åä¸º <strong>CharcterBehind</strong> ï¼Œè€Œåˆ¤æ–­æ˜¯å¦åœ¨é®æŒ¡ç‰©åé¢çš„æ¡ä»¶å°±æ˜¯æ ¹æ® æ·±åº¦ï¼ˆDepthï¼‰æ¥åˆ¤æ–­ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å‹¾é€‰ <strong>Depth</strong> é€‰é¡¹ï¼Œå¹¶æŒ‰ä¸‹å›¾æ¥è®¾ç½®</p><img src="https://p5.toutiaoimg.com/origin/pgc-image/3a0b69da1498450b9896af76a181e118.jpg" alt="14.jpg" style="zoom:80%;" /><p>â€‹    å›¾ä¸­çš„ Material é€‰é¡¹åˆ™æ˜¯é€‰æ‹©æˆ‘ä»¬å‰é¢åˆ›å»ºçš„æè´¨ Occlusionï¼Œè¿™æ ·å½“äººç‰©åœ¨åˆ¤æ–­æˆåŠŸçš„æ¡ä»¶ä¸‹å°±ä¼šç»™æ¸²æŸ“å‡ºè¿™ä¸ªæè´¨æ•ˆæœäº†</p><h2 id="è®¾ç½®è¿‡æ»¤å›¾å±‚"><a href="#è®¾ç½®è¿‡æ»¤å›¾å±‚" class="headerlink" title="è®¾ç½®è¿‡æ»¤å›¾å±‚"></a>è®¾ç½®è¿‡æ»¤å›¾å±‚</h2><p>â€‹    åšå®Œäº†ä¸Šé¢è¿™äº›è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜è¦è€ƒè™‘ <strong>Filtersï¼ˆè¿‡æ»¤ï¼‰</strong>å“ªä¸€äº›ä¸œè¥¿ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸Šæ–¹çš„ <strong>Layer Mask</strong> ä¸­é€‰æ‹©æˆ‘ä»¬è¦è¿‡æ»¤çš„å›¾å±‚ï¼Œå› ä¸ºæˆ‘ä»¬è¿™é‡Œé®æŒ¡åªæ¶‰åŠåˆ°äººç‰©ï¼Œå› æ­¤æˆ‘ä»¬åªç”¨è¿‡æ»¤äººç‰©å›¾å±‚å°±è¡Œäº†</p><p>â€‹    ä½†æ˜¯é—®é¢˜åœ¨äº Layer Mask é»˜è®¤è‡ªå¸¦çš„é€‰é¡¹å¹¶æ²¡æœ‰æˆ‘ä»¬çš„äººç‰©å›¾å±‚ï¼Œé‚£æˆ‘ä»¬å°±è‡ªåˆ›ä¸€ä¸ªï¼šæ‰¾åˆ°æˆ‘ä»¬çš„äººç‰©å¯¹è±¡ï¼ˆæˆ‘è¿™é‡Œçš„åå­—æ˜¯Playerï¼‰ï¼Œç„¶åç‚¹å‡»å±æ€§é¢æ¿ä¸­çš„ <strong>Layer â€”&gt; Add Layerâ€¦</strong></p><img src="https://p6.toutiaoimg.com/origin/pgc-image/88e43d5e10e6489eaaf3de4128e87533.jpg" alt="15.jpg" style="zoom:80%;" /><p>â€‹    ç„¶åä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œå¯ä»¥å°†è¿™ä¸ªæ–°å›¾å±‚å‘½åä¸º Player</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/e0c625c03a9d422681ba030f982dbe7f.jpg" alt="16.jpg" style="zoom:80%;" /><p>â€‹    æ–°å»ºå¥½åä¸è¦å¿˜äº†å›åˆ°äººç‰©å±æ€§ä¸­é€‰æ‹©æˆ‘ä»¬çš„æ–°å›¾å±‚ï¼Œè¿™æ—¶å€™å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸‹å›¾ç¬¬ä¸€ä¸ªé€‰é¡¹ï¼Œå°†å­ç‰©ä½“ä¹Ÿä¸€èµ·æ›´æ”¹ä¸ºæ–°å›¾å±‚</p><img src="https://p5.toutiaoimg.com/origin/pgc-image/b156a4461b024c348d80d8b760201cde.jpg" alt="17.jpg" style="zoom:80%;" /><h2 id="æœ€åçš„è°ƒæ•´"><a href="#æœ€åçš„è°ƒæ•´" class="headerlink" title="æœ€åçš„è°ƒæ•´"></a>æœ€åçš„è°ƒæ•´</h2><p>â€‹    è¿™ä¸ªæ—¶å€™æˆ‘ä»¬äººç‰©å·²ç»æœ‰äº†ä¸€äº›å˜åŒ–äº†ï¼ŒæŠŠå®ƒæ”¾åœ¨æ ‘åé¢å¯ä»¥çœ‹åˆ°æ¸²æŸ“å‡ºæ¥çš„æ˜¯è½®å»“äº†ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€äº›é—®é¢˜éœ€è¦è°ƒæ•´ï¼šå½“æˆ‘ä»¬ä¸æ˜¯åœ¨é®æŒ¡ç‰©åé¢æ—¶ï¼Œäººç‰©çš„ä¸€äº›éƒ¨ä»¶ä¹Ÿä¼šæœ‰é®æŒ¡æ•ˆæœï¼Œæˆ‘ä»¬å°±è¦æ¥è§£å†³å®ƒ</p><img src="https://p9.toutiaoimg.com/origin/pgc-image/0130ed394a4c479b8b5d210748ed8dd8.jpg" alt="18.jpg" style="zoom:80%;" /><p>â€‹    æˆ‘ä»¬åªéœ€è¦å†æ–°å»ºä¸€ä¸ª <strong>Render Objects</strong> ï¼Œå¹¶å‘½åä¸º <strong>CharcterInFront</strong> ä»£è¡¨æ˜¯äººç‰©åœ¨é®æŒ¡ç‰©å‰é¢çš„æ—¶å€™ï¼ˆä¸ä¸Šä¸€ä¸ª Render Object ç›¸åæƒ…å†µï¼‰ï¼Œç„¶ååªéœ€è¦æ”¹å˜ Layer Mask ä¸ºæˆ‘ä»¬æ–°å»ºçš„ Player å›¾å±‚ï¼Œäººç‰©å°±æ¢å¤æ­£å¸¸äº†</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/43099fd6b674481abab6aebe7a902607.jpg" alt="19.jpg" style="zoom:80%;" /><img src="https://p9.toutiaoimg.com/origin/pgc-image/cd173ce71bc44957a77546101663df92.jpg" alt="20.jpg" style="zoom:80%;" /><p>â€‹    å› ä¸ºè¿™æ ·è®¾ç½®å°±ä»£è¡¨ç€äººç‰©åœ¨è¢«å…¶å®ƒç‰©ä½“é®æŒ¡äº†ä¼šåº”ç”¨é€æ˜åŒ–çš„æè´¨ï¼ˆç¬¬ä¸€ä¸ª CharcterBehind Render Objectï¼‰ï¼Œåœ¨æ²¡æœ‰è¢«é®æŒ¡çš„æƒ…å†µä¸‹å°±ä»€ä¹ˆéƒ½ä¸å˜ï¼ˆç¬¬äºŒä¸ª CharcterInFront Render Objectï¼‰</p><p>â€‹    åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å®Œæˆäº†å‰”é™¤äººç‰©é®æŒ¡æ•ˆæœå•¦ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;â€‹    æˆ‘ä»¬å‘ç°åœ¨ç§»åŠ¨åˆ°ä¸€äº›ç‰©ä½“ï¼ˆæ¯”å¦‚è¯´æ ‘ï¼‰åé¢çš„æ—¶å€™ï¼Œäººç‰©å°±ä¼šç»™é®æŒ¡ä½äº†ï¼Œé‚£ä¹ˆæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥å‰”é™¤æ‰è¿™ä¸ªé®æŒ¡å‘¢ï¼Ÿå¯ä»¥å‚è€ƒä¸€äº›æ¸¸æˆï¼Œå¤§éƒ¨åˆ†æ¸¸æˆåœ¨ç§»åŠ¨åˆ°é®æŒ¡ç‰©åé¢æ—¶ä¼šæŠŠäººç‰©çš„è½®å»“æ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™ä¸ªç« èŠ‚æˆ‘ä»¬å°±æ¥å®ç°è¿™ç§æ•ˆæœã€‚&lt;/p&gt;
&lt;h1 id=&quot;åˆ©ç”¨-Shader-Graphï¼ˆ</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°4--è®¾ç½®äººç‰©çš„åŠ¨ç”»</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B04-%E8%AE%BE%E7%BD%AE%E4%BA%BA%E7%89%A9%E7%9A%84%E5%8A%A8%E7%94%BB/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B04-%E8%AE%BE%E7%BD%AE%E4%BA%BA%E7%89%A9%E7%9A%84%E5%8A%A8%E7%94%BB/</id>
    <published>2021-06-10T02:45:45.000Z</published>
    <updated>2021-06-27T06:57:58.147Z</updated>
    
    <content type="html"><![CDATA[<p>â€‹    åœ¨å‰é¢ä¸¤ä¸ªç« èŠ‚æˆ‘ä»¬æˆåŠŸåœ°è®©æˆ‘ä»¬çš„äººç‰©åœ¨åœ°å›¾ä¸Šèµ°äº†èµ·æ¥ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°å°äººçš„åŠ¨ä½œæ˜¯ç´ æä¸‹è½½ä¸‹æ¥æ—¶é»˜è®¤çš„çŠ¶æ€ï¼Œéœ€è¦æˆ‘ä»¬æ¥è¿›è¡Œè°ƒæ•´ï¼Œé‚£ä¹ˆè¿™ä¸€ç« èŠ‚å°±æ¥ä¿®æ”¹ä¸€ä¸‹å°äººçš„åŠ¨ä½œå§ï¼</p><h1 id="æŸ¥çœ‹ç´ æå°äººè‡ªå¸¦çš„åŠ¨ä½œåŠ¨ç”»"><a href="#æŸ¥çœ‹ç´ æå°äººè‡ªå¸¦çš„åŠ¨ä½œåŠ¨ç”»" class="headerlink" title="æŸ¥çœ‹ç´ æå°äººè‡ªå¸¦çš„åŠ¨ä½œåŠ¨ç”»"></a>æŸ¥çœ‹ç´ æå°äººè‡ªå¸¦çš„åŠ¨ä½œåŠ¨ç”»</h1><p>â€‹    æˆ‘ä»¬ä¹‹å‰ä¸‹è½½ä¸‹æ¥çš„äººç‰©æ˜¯æœ‰è‡ªå¸¦çš„åŠ¨ä½œçš„ï¼Œæˆ‘ä»¬å…ˆæ¥æŸ¥çœ‹ä¸€ä¸‹å®ƒä»¬æ˜¯æ€æ ·çš„</p><p>â€‹    æ‰“å¼€å¦‚ä¸‹ç›®å½•ï¼ˆ <strong>Assets Packs â€”&gt; DogKnight â€”&gt; Animations</strong> ï¼‰ï¼Œæ‰¾åˆ°å›¾ç‰‡ä¸­çš„è¿™äº›æ–‡ä»¶ï¼Œè¿™ä¸€äº›æ–‡ä»¶å°±æ˜¯æˆ‘ä»¬å°äººè‡ªå¸¦çš„åŠ¨ä½œäº†ï¼Œè€Œåœ¨å³è¾¹æœ‰ä¸ªå°çª—å£å¯ä»¥é¢„è§ˆæ’­æ”¾åŠ¨ä½œåŠ¨ç”»ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°é¢„è§ˆçª—å£ä¸­çš„äººæ˜¯ç´«è‰²çš„ï¼Œæ€æ ·å¯ä»¥è°ƒæˆæˆ‘ä»¬äººç‰©çš„æ ·ä¾‹å‘¢ï¼Ÿ</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/d855bb2c3cb24ba0b1e5b351658616e1.jpg" alt="1.jpg" style="zoom:80%;" /><p>â€‹        æˆ‘ä»¬åªéœ€è¦ç‚¹ä¸€ä¸‹é¢„è§ˆçª—å£ä¸Šæ–¹ä¸€ä¸ªæŒ‰é’®å°±å¯ä»¥å¯¼å…¥ä¸€ä¸ªäººç‰©æ ·ä¾‹ç”¨åœ¨è¿™ä¸ªåŠ¨ç”»ä¸Šäº†</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/994679f9c4704258b10a25ab51ad1273.jpg" alt="2.jpg" style="zoom:80%;" /><p>â€‹    ç‚¹å‡»ç»¿è‰²å°äººæŒ‰é’®ï¼Œç„¶åé€‰æ‹© **Otherâ€¦**ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æ–°å‡ºæ¥çš„çª—å£ <strong>Select GameObject</strong> ä¸­é€‰æ‹©æˆ‘ä»¬è¦ç”¨çš„æ ·ä¾‹äº†ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ DogPBR ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ¸¸æˆä¸­è¦ç”¨åˆ°çš„å°ç‹—</p><p>â€‹    çŸ¥é“äº†åŠ¨ä½œåŠ¨ç”»åœ¨å“ªé‡Œä»¥åŠæ€ä¹ˆé¢„è§ˆåŠ¨ä½œä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç€æ‰‹æ¥å®ç°æ›´æ”¹è§’è‰²çš„åŠ¨ä½œäº†</p><h1 id="ä½¿ç”¨åŠ¨ä½œæ§åˆ¶å™¨ä¿®æ”¹äººç‰©åŠ¨ä½œ"><a href="#ä½¿ç”¨åŠ¨ä½œæ§åˆ¶å™¨ä¿®æ”¹äººç‰©åŠ¨ä½œ" class="headerlink" title="ä½¿ç”¨åŠ¨ä½œæ§åˆ¶å™¨ä¿®æ”¹äººç‰©åŠ¨ä½œ"></a>ä½¿ç”¨åŠ¨ä½œæ§åˆ¶å™¨ä¿®æ”¹äººç‰©åŠ¨ä½œ</h1><p>â€‹    é¦–å…ˆæˆ‘ä»¬æ–°å»ºä¸€ä¸ªç›®å½•æ¥ä¸“é—¨å­˜æ”¾ä¸€ä¸ªåŠ¨ä½œæ§åˆ¶å™¨æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œå¯ä»¥å‚è€ƒä¸‹å›¾ç›®å½•</p><img src="https://p3.toutiaoimg.com/origin/pgc-image/2d3c92a24b084da1825b3632a043a377.jpg" alt="3.jpg" style="zoom:80%;" /><p>â€‹    <strong>Animators</strong> æ–‡ä»¶å¤¹ä¸­æˆ‘ä»¬å³é”® <strong>Create</strong> ä¸€ä¸ª <strong>Animator Controller</strong> æ–‡ä»¶ï¼Œå¹¶å¯ä»¥å°†å®ƒå‘½åä¸º Player ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ç”¨æ¥æ§åˆ¶æˆ‘ä»¬äººç‰©åŠ¨ä½œçš„æ§åˆ¶å™¨æ–‡ä»¶</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/805493fbe75d4f3db98752c50dde6af4.jpg" alt="4.jpg" style="zoom:80%;" /><p>â€‹    æ–°å»ºå¥½åŠ¨ä½œæ§åˆ¶å™¨æ–‡ä»¶åï¼Œæˆ‘ä»¬åŒå‡»æ‰“å¼€å®ƒï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾ä¸€ä¸ªé»˜è®¤çš„ç•Œé¢</p><img src="https://p5.toutiaoimg.com/origin/pgc-image/b9f85f9d22ab4bae8e8d5b7eec6983ec.jpg" alt="5.jpg" style="zoom:80%;" /><p>â€‹    æˆ‘ä»¬åœ¨ä¸­é—´è§†å›¾å³é”®ç„¶åæ–°å»ºä¸€ä¸ª <strong>Blend Tree</strong> ï¼ˆå³æ··åˆæ ‘ï¼Œç”¨æ¥è§£å†³å¤šä¸ªåŠ¨ç”»ä¹‹é—´çš„æ··åˆï¼Œç»å¸¸ç”¨äºç§»åŠ¨åŠ¨ç”»ä¹‹é—´çš„æ··åˆï¼‰ï¼Œæ–°å»ºå¥½åå‘½åä¸ºï¼šLocomotionï¼Œå¹¶åŒå‡»æ‰“å¼€è¿™ä¸ª Blend Tree</p><img src="https://p3.toutiaoimg.com/origin/pgc-image/7922cd39288d461b8746c05bd0e315b2.jpg" alt="6.jpg" style="zoom:80%;" /><p>â€‹    æ‰“å¼€åæˆ‘ä»¬é¦–å…ˆè¦åšçš„äº‹å°±æ˜¯æŠŠå·¦ä¸Šæ–¹ <strong>Parametersï¼ˆå‚æ•°ï¼‰</strong> é€‰é¡¹å¡ä¸­é»˜è®¤çš„ Blend å‚æ•°åˆ é™¤ï¼Œå¹¶è‡ªå·±æ–°å»ºä¸€ä¸ª **Float ç±»å‹ **çš„å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ç”¨æ¥å‚è€ƒè¦å“ªä¸€ä¸ªæ•°å€¼æ¥åˆ‡æ¢æˆ‘ä»¬çš„åŠ¨ä½œï¼Œè¿™é‡Œç†æ‰€åº”å½“æ˜¯çœ‹ç§»åŠ¨æ—¶äººç‰©çš„é€Ÿåº¦æ˜¯å¤šå°‘ä»è€Œæ¥åˆ‡æ¢ä¸åŒçš„åŠ¨ä½œï¼Œå› æ­¤æˆ‘ä»¬è¿™ä¸ª Float ç±»å‹çš„å‚æ•°å°±å‘½åä¸º <strong>â€œ Speed â€</strong>ï¼Œåˆ°æ—¶å€™æˆ‘ä»¬åœ¨ä»£ç ä¸­å°±è¦ç”¨åˆ°è¿™ä¸ªå€¼</p><p>â€‹    äº†è§£å‚æ•°ä¹‹åï¼Œæˆ‘ä»¬å³é”®ä¸­é—´çš„ Blend Tree ï¼Œé€‰æ‹© <strong>Add Motion</strong> æ·»åŠ åŠ¨ä½œï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä¸€ä¸‹æ€»å…±è¦å¤šå°‘ä¸ªåŠ¨ä½œï¼šä¸€ä¸ªæ˜¯äººç‰©æ²¡æœ‰ç§»åŠ¨çš„æ—¶å€™æ˜¯ <strong>ç«™ç«‹ä¸åŠ¨</strong>ï¼Œä¸€ä¸ªæ˜¯ç§»åŠ¨é€Ÿåº¦è¾ƒæ…¢ï¼Œå±äº <strong>æ…¢èµ°çŠ¶æ€</strong>ï¼Œè¿˜æœ‰ä¸€ä¸ªé€Ÿåº¦è¾ƒå¿«ï¼Œå˜ä¸ºäº† <strong>å¿«è·‘</strong>ï¼Œè¿™æ ·æˆ‘ä»¬å°±æœ‰äº†ä¸‰ä¸ªåŠ¨ä½œã€‚å› æ­¤åœ¨è¿™é‡Œå°±è¦æ·»åŠ ä¸‰æ¬¡ Motion äº†</p><p>â€‹    <img src="https://p6.toutiaoimg.com/origin/pgc-image/f5ad228bf45040e393dd2e88d27c040a.jpg" alt="7.jpg" style="zoom:80%;" /></p><p>â€‹    æ·»åŠ å¥½ Motion åæˆ‘ä»¬åœ¨å³è¾¹çš„ Inspector è§†å›¾ä¸­ä¾¿å¯ä»¥çœ‹åˆ°å¤šäº†ä¸‰ä¸ªç©ºçš„ Motion ï¼Œè¿™ä¸ªæ—¶å€™è¦æ³¨æ„<u>å…ˆæŠŠ Parameterï¼ˆå‚æ•°ï¼‰é€‰æ‹©ä¸ºåˆšåˆšåˆ›å»ºçš„ Speed</u> å…ˆï¼Œç„¶åå°±åˆ†åˆ«æŠŠ ç«™ç«‹ã€è¡Œèµ°ã€å¥”è·‘ ä¸‰ä¸ªåŠ¨ä½œæ‹–å…¥åˆ°ä¸‰ä¸ªç©º Motion æ¡†ä¸­ï¼ˆåŠ¨ä½œåœ¨æ–‡ç« å‰é¢å¯ä»¥æ‰¾åˆ°è·¯å¾„ï¼‰ï¼Œå®Œæˆåå¦‚ä¸‹å›¾æ‰€ç¤º</p><img src="https://p5.toutiaoimg.com/origin/pgc-image/58ff789af1ab4b3eb11464c2de7469df.jpg" alt="8.jpg" style="zoom:80%;" /><p>â€‹    å¼„å¥½ä¸Šé¢è¿™äº›ä¸œè¥¿åï¼Œå‰©ä¸‹çš„å°±è¦äº¤ç»™ä»£ç æ¥è§£å†³äº†ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬åº”ç”¨ Speed å‚æ•°çš„æ—¶å€™äº†ï¼Œè¿™æ¬¡çš„ä»£ç æ‰“åœ¨äº†ä¹‹å‰åˆ›å»ºè¿‡çš„ <strong>PlayerController</strong> ä»£ç æ–‡ä»¶ä¸­ï¼Œä¸‹é¢è´´å‡ºè¿™æ¬¡è¦ç”¨åˆ°çš„ä»£ç ğŸ‘‡ğŸ‘‡ğŸ‘‡</p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">UnityEngine</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PlayerController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">NavMeshAgent</span> agent<span class="token punctuation">;</span><span class="token comment">//å¯¼èˆªæ§åˆ¶ï¼Œä¹‹å‰ç”¨åˆ°çš„</span>    <span class="token keyword">private</span> <span class="token class-name">Animator</span> animator<span class="token punctuation">;</span><span class="token comment">//åŠ¨ä½œæ§åˆ¶</span>        <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//è·å–å½“å‰ç»„ä»¶å¹¶èµ‹å€¼ç»™ä¸Šé¢å£°æ˜çš„å˜é‡</span>         agent <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>NavMeshAgent<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>animator<span class="token operator">=</span><span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Animator<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//å®æ—¶æ›´æ–°åŠ¨ä½œåŠ¨ç”»</span><span class="token function">SwitchPlyerAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SwitchPlyerAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//åˆ‡æ¢äººç‰©è§’è‰²çš„åŠ¨ä½œåŠ¨ç”»</span><span class="token comment">//å¼„å¥½åæ•´ä¸ªå‡½æ•°æ”¾è¿›Updateé‡Œ</span>        animator<span class="token punctuation">.</span><span class="token function">SetFloat</span><span class="token punctuation">(</span><span class="token string">"Speed"</span><span class="token punctuation">,</span>agent<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>sqrMagnitude<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®ä¸€ä¸ªFloatå€¼ï¼Œå‚æ•°2ä¸ºè¦è®¾ç½®çš„å€¼</span>        <span class="token comment">//APIè§£é‡Š</span>                <span class="token comment">//velocity -- è·å– NavMeshAgent ç»„ä»¶çš„å½“å‰é€Ÿåº¦ï¼Œæˆ–è€…è®¾ç½®ä¸€ä¸ªé€Ÿåº¦æ¥æ‰‹åŠ¨æ§åˆ¶ä»£ç†ã€‚</span>        <span class="token comment">//APIç½‘å€ï¼šhttps://docs.unity.cn/cn/2020.3/ScriptReference/AI.NavMeshAgent-velocity.html</span>                <span class="token comment">//sqrMagnitude -- å±äº Vector3 çš„æ–¹æ³•ï¼Œè¿”å›è¿™ä¸ªå‘é‡çš„é•¿åº¦çš„å¹³æ–¹ï¼ˆåªè¯»ï¼‰ï¼Œè®¡ç®—é•¿åº¦çš„å¹³æ–¹è€Œä¸æ˜¯magnitudeæ˜¯éå¸¸å¿«çš„</span>        <span class="token comment">//APIç½‘å€ï¼šhttp://docs.manew.com/Script/Vector3.sqrMagnitude.html</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    æ‰“å®Œä»£ç åï¼Œå†æŠŠ Animator Controller æ–‡ä»¶ <strong>Player</strong> æ‹–åˆ°äººç‰©å±æ€§é¢æ¿ä¸­çš„ <strong>Animator â€” Controller</strong> æ¡†æ¡†ä¸­å°±å¤§åŠŸå‘Šæˆå•¦ï¼è¿›å…¥æ¸¸æˆçœ‹çœ‹ä½ çš„äººç‰©æ˜¯å¦åœ¨ç§»åŠ¨æ—¶ä¼šå˜æ¢æŒ‡å®šçš„åŠ¨ä½œå§ï¼</p><img src="https://p9.toutiaoimg.com/origin/pgc-image/5b9d38d06a01422394b2959ab214244c.jpg" alt="9.jpg" style="zoom:80%;" />]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;â€‹    åœ¨å‰é¢ä¸¤ä¸ªç« èŠ‚æˆ‘ä»¬æˆåŠŸåœ°è®©æˆ‘ä»¬çš„äººç‰©åœ¨åœ°å›¾ä¸Šèµ°äº†èµ·æ¥ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°å°äººçš„åŠ¨ä½œæ˜¯ç´ æä¸‹è½½ä¸‹æ¥æ—¶é»˜è®¤çš„çŠ¶æ€ï¼Œéœ€è¦æˆ‘ä»¬æ¥è¿›è¡Œè°ƒæ•´ï¼Œé‚£ä¹ˆè¿™ä¸€ç« èŠ‚å°±æ¥ä¿®æ”¹ä¸€ä¸‹å°äººçš„åŠ¨ä½œå§ï¼&lt;/p&gt;
&lt;h1 id=&quot;æŸ¥çœ‹ç´ æå°äººè‡ªå¸¦çš„åŠ¨ä½œåŠ¨ç”»&quot;&gt;&lt;a href=&quot;#æŸ¥çœ‹ç´ æå°äººè‡ªå¸¦çš„åŠ¨ä½œåŠ¨ç”»</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°3--æ‘„åƒæœºè·Ÿè¸ªå¤„ç†</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B03-%E6%91%84%E5%83%8F%E6%9C%BA%E8%B7%9F%E8%B8%AA%E5%A4%84%E7%90%86/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B03-%E6%91%84%E5%83%8F%E6%9C%BA%E8%B7%9F%E8%B8%AA%E5%A4%84%E7%90%86/</id>
    <published>2021-06-09T08:13:39.000Z</published>
    <updated>2021-06-27T06:57:46.741Z</updated>
    
    <content type="html"><![CDATA[<p>â€‹    åœ¨ä¸Šä¸€ç« èŠ‚ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡åœ¨Unityä¸Šä½¿ç”¨ä»£ç æ¥å®ç°äº†æˆ‘ä»¬äººç‰©çš„ç§»åŠ¨ã€‚ä½†æ˜¯æˆ‘ä»¬å‘ç°é•œå¤´å¹¶ä¸ä¼šè·Ÿç€äººç‰©ç§»åŠ¨ï¼Œå› æ­¤åœ¨è¿™ä¸€ç« èŠ‚æˆ‘ä»¬å°±æ¥å®ç°å¦‚ä½•è®©æ‘„åƒæœºè·Ÿç€æˆ‘ä»¬å°äººèµ°ã€‚</p><p>â€‹    åŒæ ·æˆ‘ä»¬ä¹Ÿè¦å®‰è£…ä¸€ä¸ªæ’ä»¶ï¼Œå«åš <strong>Cinemachine</strong> ï¼Œå®‰è£…å®Œåæˆ‘ä»¬å¯ä»¥åœ¨Unityç•Œé¢ä¸Šæ–¹çš„èœå•æ çœ‹è§å®ƒçš„åŠŸèƒ½æ¡</p><img src="https://p6.toutiaoimg.com/origin/pgc-image/2edd56f142984d5ca500ad9372783225.jpg" alt="1.jpg" style="zoom: 67%;" /><img src="https://p6.toutiaoimg.com/origin/pgc-image/a9788d8d88904631b6965ad7b0f5b286.jpg" alt="2.jpg" style="zoom:80%;" /><center>é¦–å…ˆå®‰è£…å¥½Cinemachine</center><p>â€‹    åœ¨è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°çš„é€‰é¡¹æ˜¯ç¬¬ä¸€ä¸ªï¼Œå…ˆé€‰ä¸­æˆ‘ä»¬çš„ä¸»æ‘„åƒæœº Main Cameraï¼ˆæˆ‘è¿™é‡Œå¯¹ä¸»æ‘„åƒæœºçš„å‘½åï¼‰ï¼Œåœ¨èœå•æ ä¸­æ‰¾åˆ° <strong>GameObjectâ€”&gt;Align View to Selected</strong>ï¼ˆè¿™ä¸€æ­¥æ“ä½œæ˜¯æŠŠæˆ‘ä»¬çš„è§†è§’è°ƒåˆ°å’Œæ‘„åƒæœºçš„è§†è§’ä¸€æ ·çš„è§’åº¦ï¼‰ï¼Œç„¶åå†åœ¨åˆšåˆšçš„ <strong>Cinemachine</strong> èœå•æ ä¸­ç‚¹å‡»<strong>åˆ›å»ºä¸€ä¸ª Virtual Camera</strong> </p><img src="https://p9.toutiaoimg.com/origin/pgc-image/a2106f307e6d4818b7bfa9ade25435ad.jpg" alt="3.jpg" style="zoom: 75%;" /><p>â€‹    åˆ›å»ºå¥½åï¼Œæˆ‘ä»¬çš„ Virtual Cameraï¼ˆè™šæ‹Ÿæ‘„åƒæœºï¼‰ å°±ä¼šé¡¶æ›¿äº†æˆ‘ä»¬çš„ä¸»æ‘„åƒæœºï¼Œæˆ‘ä»¬æ‰¾åˆ°åˆšåˆšåˆ›å»ºå¥½çš„è™šæ‹Ÿæ‘„åƒæœºå¯¹è±¡ï¼Œåœ¨å±æ€§æ ä¸­è¿›è¡Œä¸€äº›è°ƒæ•´ï¼š</p><p>â€‹    1ï¼‰é¦–å…ˆåœ¨ Body é€‰æ‹©ä¸º <strong>Framing Transposer</strong> ï¼Œè¿™æ ·ç›¸æœºå°±ä¼šè·Ÿéšç€æˆ‘ä»¬äººç‰©äº†ï¼Œè¿™é‡Œç®€å•ä»‹ç»ä¸€äº›å…¶ä»–å‡ ä¸ªé€‰é¡¹çš„ä½œç”¨</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/f9ab6d9da189491187c26eb6b7f47249.jpg" alt="4.jpg" style="zoom:80%;" /><ul><li><p>Do Nothingï¼šä¸ç§»åŠ¨è™šæ‹Ÿç›¸æœº </p></li><li><p>Framing Transposerï¼šè·Ÿéšç›®æ ‡ç§»åŠ¨ï¼Œå¹¶åœ¨å±å¹•ç©ºé—´ä¿æŒç›¸æœºå’Œè·Ÿéšç›®æ ‡çš„ç›¸å¯¹ä½ç½®ã€‚ </p></li><li><p>Hard Lock to Targetï¼šè™šæ‹Ÿç›¸æœºå’Œè·Ÿéšç›®æ ‡ä½¿ç”¨ç›¸åŒä½ç½®ã€‚</p></li><li><p> Orbital Transposerï¼šç›¸æœºå’Œè·Ÿéšç›®æ ‡çš„ç›¸å¯¹ä½ç½®æ˜¯å¯å˜çš„ï¼Œè¿˜èƒ½æ¥æ”¶ç”¨æˆ·çš„è¾“å…¥ã€‚å¸¸è§äºç©å®¶æ§åˆ¶çš„ç›¸æœºã€‚</p></li><li><p> Tracked Dollyï¼šç›¸æœºæ²¿ç€é¢„å…ˆè®¾ç½®çš„è½¨é“ç§»åŠ¨ã€‚ </p></li><li><p>Transposerï¼šè·Ÿéšç›®æ ‡ç§»åŠ¨ï¼Œå¹¶åœ¨ä¸–ç•Œç©ºé—´ä¿æŒç›¸æœºå’Œè·Ÿéšç›®æ ‡çš„ç›¸å¯¹ä½ç½®å›ºå®šã€‚</p><p>2ï¼‰åœ¨ Aim é€‰é¡¹ä¸­é€‰æ‹© <strong>Do Nothing</strong> ï¼ˆè¿™é‡Œå¯¹å…¶å®ƒå‡ ä¸ªé€‰é¡¹æ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±å»è¯•ä¸€ä¸‹ï¼Œé€‰æ‹©POVçš„æ—¶å€™è§†é‡ä¼šè·Ÿç€é¼ æ ‡è½¬åŠ¨ï¼Œä¸€èˆ¬å¯ç”¨äºç¬¬ä¸€äººç§°çš„æ¸¸æˆï¼‰</p><img src="https://p26.toutiaoimg.com/origin/pgc-image/2d597d7729c044f4a771b53cde8b0077.jpg" alt="5.jpg" style="zoom:80%;" /><p>3ï¼‰å°†ä½ çš„äººç‰©å¯¹è±¡æ‹–å…¥ Follow çš„æ¡†æ¡†ä¸­ï¼ˆè¿™é‡Œå…¶å®æœ¬è´¨æ˜¯ç›¸æœºè·Ÿéšä¸€ä¸ªåƒç´ ç‚¹ï¼Œå¦‚æœæƒ³è°ƒæ•´è·Ÿéšçš„ç‚¹å¯ä»¥è‡ªå·±è°ƒæ•´ï¼Œä¹Ÿå¯ä»¥æ–°å»ºä¸€ä¸ªäººç‰©å­ç±»Emptyå¯¹è±¡ï¼Œç„¶åè°ƒæ•´è¿™ä¸ªç©ºå¯¹è±¡çš„ä½ç½®ï¼Œå†è®©ç›¸æœºè·Ÿéšè¿™ä¸ªå¯¹è±¡ï¼‰</p><img src="https://p5.toutiaoimg.com/origin/pgc-image/edb5d7890a4441ff965a759adb6de889.jpg" alt="6.jpg" style="zoom:80%;" /></li></ul><p>â€‹    åˆ°è¿™é‡Œï¼Œä½ çš„æ‘„åƒæœºå°±ä¼šè·Ÿéšç€äººç‰©ç§»åŠ¨è€Œè½¬å˜è§†è§’äº†ï¼Œå½“ç„¶è¿˜å¯ä»¥æ›´è¿›ä¸€æ­¥ï¼Œè°ƒæ•´ä¸€ä¸‹ç¼“å†²åŒºåŸŸï¼ˆå°±æ˜¯è®©ç›¸æœºä¸è¦è·Ÿéšç€å¤ªç´§ï¼Œè®©äººç‰©èµ°é‚£ä¹ˆä¸€ç‚¹ç‚¹è·ç¦»å†ç›¸æœºè·Ÿéšï¼‰ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒæ•´ä¸‹å›¾å‡ ä¸ªå‚æ•°è€Œè°ƒæ•´ï¼Œé¢„è§ˆå±å¹•çš„æ¡†æ¡†å¯ä»¥çœ‹åˆ°ä½ çš„ç¼“å†²åŒºå¤§å°</p><img src="https://p3.toutiaoimg.com/origin/pgc-image/b17d8f6eca6e4c1494f6b28ede1ecec3.jpg" alt="7.jpg" style="zoom:80%;" /><img src="https://p5.toutiaoimg.com/origin/pgc-image/4242f83084d54044bdb5ecedf8ad588a.jpg" alt="8.jpg" style="zoom:80%;" /><p>â€‹    å½“ç„¶æ„Ÿå…´è¶£çš„è¯è¿˜å¯ä»¥å»æŸ¥æ‰¾æ›´å¤šçš„è®¾ç½®æ–¹æ³•å»è°ƒæ•´ä½ çš„æ‘„åƒæœºï¼Œä»è€Œè®©ä½ çš„è§†é‡ç§»åŠ¨æ›´å®Œç¾ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;â€‹    åœ¨ä¸Šä¸€ç« èŠ‚ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡åœ¨Unityä¸Šä½¿ç”¨ä»£ç æ¥å®ç°äº†æˆ‘ä»¬äººç‰©çš„ç§»åŠ¨ã€‚ä½†æ˜¯æˆ‘ä»¬å‘ç°é•œå¤´å¹¶ä¸ä¼šè·Ÿç€äººç‰©ç§»åŠ¨ï¼Œå› æ­¤åœ¨è¿™ä¸€ç« èŠ‚æˆ‘ä»¬å°±æ¥å®ç°å¦‚ä½•è®©æ‘„åƒæœºè·Ÿç€æˆ‘ä»¬å°äººèµ°ã€‚&lt;/p&gt;
&lt;p&gt;â€‹    åŒæ ·æˆ‘ä»¬ä¹Ÿè¦å®‰è£…ä¸€ä¸ªæ’ä»¶ï¼Œå«åš &lt;strong&gt;Cinemachine&lt;/str</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°2--æ™ºèƒ½å¯¼èˆªçš„çƒ˜ç„™å’Œé¼ æ ‡æ§åˆ¶äººç‰©ç§»åŠ¨</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B02-%E6%99%BA%E8%83%BD%E5%AF%BC%E8%88%AA%E7%9A%84%E7%83%98%E7%84%99%E5%92%8C%E9%BC%A0%E6%A0%87%E6%8E%A7%E5%88%B6%E4%BA%BA%E7%89%A9%E7%A7%BB%E5%8A%A8/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B02-%E6%99%BA%E8%83%BD%E5%AF%BC%E8%88%AA%E7%9A%84%E7%83%98%E7%84%99%E5%92%8C%E9%BC%A0%E6%A0%87%E6%8E%A7%E5%88%B6%E4%BA%BA%E7%89%A9%E7%A7%BB%E5%8A%A8/</id>
    <published>2021-06-05T07:06:59.000Z</published>
    <updated>2021-06-27T06:57:33.734Z</updated>
    
    <content type="html"><![CDATA[<p>â€‹    è¿™ä¸€æ¬¡æˆ‘ä»¬æ¥å®ç°äººç‰©åœ¨åœ°å›¾ä¸Šèµ°åŠ¨ï¼Œåœ¨å®ç°ä¹‹å‰æˆ‘ä»¬æœ‰ä¸€äº›å‡†å¤‡å·¥ä½œè¦åšï¼Œé¦–å…ˆå°±æ˜¯æˆ‘ä»¬çš„åœ°å›¾çƒ˜ç„™äº†ã€‚</p><h1 id="æ™ºèƒ½å¯¼èˆªåœ°å›¾çš„çƒ˜ç„™"><a href="#æ™ºèƒ½å¯¼èˆªåœ°å›¾çš„çƒ˜ç„™" class="headerlink" title="æ™ºèƒ½å¯¼èˆªåœ°å›¾çš„çƒ˜ç„™"></a>æ™ºèƒ½å¯¼èˆªåœ°å›¾çš„çƒ˜ç„™</h1><p>â€‹    åœ°å›¾çš„çƒ˜ç„™å°±æ˜¯æ ‡è®°æˆ‘ä»¬åœºæ™¯å“ªäº›åŒºåŸŸæ˜¯å¯ä»¥ä¾›äººç‰©ç§»åŠ¨çš„ï¼Œè€Œå“ªä¸€äº›æ˜¯éšœç¢ç‰©æˆ–ä¸å¯èµ°åŒºåŸŸï¼Œåªæœ‰è§„åˆ’å¥½äº†ä¹‹åæˆ‘ä»¬æ‰å¯ä»¥æ›´å¥½çš„å»å®ç°äººç‰©ç§»åŠ¨ï¼Œä¸ç„¶å¯ä»¥æƒ³ä¸€ä¸‹å› ä¸ºä¸€äº›ç²—å¿ƒå¤±è¯¯ä½¿å¾—ä¸€äº›éšœç¢ç‰©æ²¡æœ‰è®¾ç½®æˆåŠŸï¼Œä»è€Œå¯¼è‡´äººç‰©ç§»åŠ¨ç©¿æ¨¡äº†å°±ä¸å¦™äº†ã€‚</p><p>â€‹    é‚£ä¹ˆæˆ‘ä»¬æ¥å¼€å§‹å§ï¼</p><p>â€‹    é¦–å…ˆè¿˜æ˜¯è¦å®‰è£…ä¸€ä¸ªæ’ä»¶å«åš â€” <strong>Navigation</strong> ï¼Œå®‰è£…æ­¥éª¤å°±ä¸å†è¿‡å¤šä»‹ç»äº†</p><p>â€‹    å®‰è£…å¥½äº†ä¹‹åæˆ‘ä»¬æ‰“å¼€ç•Œé¢å¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ€ä¹ˆçƒ˜ç„™å§</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/148f5c914e914e808596ffa68e51d87d.jpg" alt="1.jpg" style="zoom: 80%;" /><p>â€‹    </p><p>â€‹    é¦–å…ˆæˆ‘ä»¬åœ¨åœºæ™¯ä¸­<strong>é€‰æ‹©ä¸€ä¸ªåœ°é¢</strong>ï¼Œç„¶åå†åœ¨ Navigation æ’ä»¶é‡Œç‚¹å‡» <strong>Objecté€‰é¡¹å¡</strong>ï¼Œå¯ä»¥æœ‰ä¸ª <strong>Navigation Static</strong> çš„é€‰é¡¹ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªé€‰é¡¹ âœ… å‹¾ä¸Šï¼Œå› ä¸ºåªæœ‰è®¾ä¸º static ä¹‹åæ‰å¯ä»¥è¿›è¡Œçƒ˜ç„™ã€‚</p><p>â€‹    âš æœ‰æ—¶å€™é€‰æ‹©äº† static ä¹‹åä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œè¯¢é—®æ˜¯å¦å°†è¯¥å¯¹è±¡æ‰€åŒ…å«çš„å­å¯¹è±¡ï¼ˆä¾‹å¦‚åœ¨åœ°æ¿å¯¹è±¡ä¸­è¿˜åŒ…å«äº†æ ‘æœ¨å’ŒçŸ³å¤´ç­‰å¯¹è±¡ï¼‰éƒ½è®¾ä¸º static ï¼Œè¿™ä¸ªæˆ‘ä»¬çœ‹è‡ªå·±æƒ…å†µé€‰æ‹©ã€‚</p><p>â€‹    é€‰æ‹© static åï¼Œä¸‹é¢çš„ <strong>Navigation Area</strong> å°±å¯ä»¥é€‰æ‹©å½“å‰åŒºåŸŸä¸ºå¯ç§»åŠ¨è¿˜æ˜¯ä¸å¯ç§»åŠ¨åŒºåŸŸäº†</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/4074b3afad1f40a1b0fc3ea55c186842.jpg" alt="2.jpg" style="zoom:80%;" /><p>â€‹    å›åˆ° Bake é€‰é¡¹å¡ï¼Œæˆ‘ä»¬çœ‹åˆ°å¯ä»¥è®¾ç½®åœ°é¢åœ¨å“ªäº›æƒ…å†µä¸‹å¯ä»¥èµ°ï¼Œå¦‚ <strong>Max Slope</strong> ä»£è¡¨ç€å¯è¡Œå¡åº¦ï¼Œå°±å¥½åƒæˆ‘æ‰€è°ƒçš„35Â°ï¼Œè¿™ä»£è¡¨ç€æˆ‘ä»¬å°äººæœ€å¤šå¯ä»¥èµ°35è§’åº¦çš„å¡ï¼Œå¦‚æœå¤§äº35Â°çš„è¯æˆ‘ä»¬å°äººæ˜¯æ— æ³•åˆ°è¾¾çš„</p><p>â€‹    è€Œå›¾ä¸­çš„è“è‰²åœ†æŸ±ä½“ä»¥ä»£è¡¨ç€ä½ çš„äººç‰©èº«é«˜å’ŒåŠå¾„ï¼Œæˆ‘ä»¬ä¿®æ”¹è¿™äº›å±æ€§ä¹Ÿä¼šå½±å“åˆ°æˆ‘ä»¬åœ°å›¾ä¸Šå¯è¡ŒåŒºåŸŸ</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/1400e1a2f3784cb2ac84e3f87c22a959.jpg" alt="3.jpg" style="zoom:80%;" /><p>â€‹    è®¾ç½®å®Œè¿™ä¸€åˆ‡ä¹‹åæˆ‘ä»¬å°±å¯ä»¥ç‚¹å‡»ä¸‹æ–¹çš„ <strong>Bake</strong> æŒ‰é’®æ¥çƒ˜ç„™å•¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨åœ°å›¾ä¸Šçœ‹åˆ°é¢œè‰²çš„å˜åŒ–ï¼Œæœ‰é¢œè‰²æ ‡è®°çš„åŒºåŸŸæ˜¯å¯ä»¥èµ°çš„ï¼Œè€Œæ²¡æœ‰é¢œè‰²åˆ™ä»£è¡¨æ˜¯æ— æ³•åˆ°è¾¾çš„åŒºåŸŸ</p><p>â€‹    </p><p>â€‹    é™¤äº†åƒä¸Šé¢é‚£æ ·ç›´æ¥ä½¿ç”¨ Navigation æ’ä»¶è¿›è¡Œéšœç¢ç‰©ç­‰è®¾ç½®æ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç›´æ¥åœ¨ç‰©ä»¶çš„ <strong>Inspector</strong> è§†å›¾ä¸­æ·»åŠ ä¸€ä¸ª <strong>Navigation</strong> çš„ <strong>Component</strong></p><p>â€‹                             <img src="https://p6-tt.byteimg.com/origin/pgc-image/290b93d207ca4b5386932a8dcbef0407.jpg" alt="4.jpg" style="zoom:80%;" />                    <img src="https://p26-tt.byteimg.com/origin/pgc-image/e250b8ffcaf84d4f9eb2ef4e009069be.jpg" alt="5.jpg" style="zoom:80%;" /></p><p>â€‹    æ·»åŠ å®Œä¹‹åæˆ‘ä»¬å¯ä»¥è®¾ç½®æ˜¯å¯ç§»åŠ¨åŒºåŸŸè¿˜æ˜¯éšœç¢åŒºåŸŸï¼Œæœ€åå†è¿›è¡Œ <strong>Bake</strong> ï¼Œç”¨è¿™ç§æ–¹å¼å®ç°çš„åœ°å›¾çƒ˜ç„™æœ‰ä¸€ä¸ªä¼˜ç‚¹å°±æ˜¯åœ¨ä½ ç§»åŠ¨ç‰©ä½“æ—¶ï¼Œæ‰€è®¾ç½®çš„å¯è¡Œæˆ–ä¸å¯è¡ŒåŒºåŸŸä¹Ÿä¼šè·Ÿéšç‰©ä½“ç§»åŠ¨ï¼Œä¾‹å¦‚ï¼šæˆ‘è®¾ç½®äº†ä¸€ä¸ªçŸ³å¤´ä¸ºéšœç¢ç‰©ï¼Œåœ¨æˆ‘ç§»åŠ¨çŸ³å¤´æ—¶ï¼Œè¯¥éšœç¢ç‰©åŒºåŸŸä¹Ÿä¼šè·Ÿéšç€ç§»åŠ¨ã€‚</p><p>â€‹    ä¸æ­¢åœ°é¢å¯ä»¥çƒ˜ç„™ï¼Œæˆ‘ä»¬åœ°é¢ä¸Šçš„æ ‘æœ¨çŸ³å¤´éƒ½å¯ä»¥çƒ˜ç„™ï¼Œå…·ä½“æ“ä½œä¹Ÿæ˜¯å…ˆé€‰ä¸­è¿™äº›å¯¹è±¡ï¼ˆé‰´äºå¯èƒ½ç‰©ä½“è¾ƒå¤šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Hierarchyè§†å›¾ä¸Šå¤šé€‰ï¼‰ï¼Œç„¶åè®¾ä¸º static ï¼Œå†æ¥ç€è®¾ç½®åœ†æŸ±ä½“èŒƒå›´ç­‰å¯è¡ŒåŒºåŸŸæœ€åå†çƒ˜ç„™å°±å¤§åŠŸå‘Šæˆå•¦</p><h1 id="å®ç°é¼ æ ‡æ§åˆ¶äººç‰©ç§»åŠ¨"><a href="#å®ç°é¼ æ ‡æ§åˆ¶äººç‰©ç§»åŠ¨" class="headerlink" title="å®ç°é¼ æ ‡æ§åˆ¶äººç‰©ç§»åŠ¨"></a>å®ç°é¼ æ ‡æ§åˆ¶äººç‰©ç§»åŠ¨</h1><p>â€‹    åœ¨çƒ˜ç„™å¥½åœ°å›¾åŒºåŸŸåï¼Œæˆ‘ä»¬å°±å¯ä»¥ç€æ‰‹æ¥å®ç°é¼ æ ‡æ§åˆ¶äººç‰©ç§»åŠ¨å•¦</p><p>â€‹    å› ä¸ºè¿™éƒ¨åˆ†éœ€è¦æ¶‰åŠåˆ°æ‰“ä»£ç ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ª <strong>Scripts</strong> æ–‡ä»¶å¤¹ä¸“é—¨å­˜æ”¾æˆ‘ä»¬çš„ä»£ç </p><p>â€‹    æ–°å»ºä¸€ä¸ª <strong>C#</strong> ä»£ç æ–‡ä»¶ï¼Œä¸€ä¸ª <strong>Unity Emptyå¯¹è±¡</strong>ï¼ŒæŠŠå®ƒä»¬éƒ½å‘½åä¸º <strong>MouseManager</strong> ï¼Œå¹¶æŠŠä»£ç æ–‡ä»¶æ‹–æ‹½åˆ° Unity Emptyå¯¹è±¡ä¸­</p><p>â€‹               <img src="https://p3-tt.byteimg.com/origin/pgc-image/21776254d90d48bca1cf31c28f6c402e.jpg" alt="6.jpg" style="zoom:80%;" />                                        <img src="https://p5-tt.byteimg.com/origin/pgc-image/b54f60e1cb4146ff84a3922d31e64f57.jpg" alt="7.jpg" style="zoom:80%;" /></p><p>â€‹    æ¥ä¸‹æ¥å°±æ˜¯ç¼–å†™ä»£ç äº†ï¼Œç”±äºè¿™é‡Œå±•ç¤ºçš„æ˜¯å•ä¾‹æ¨¡å¼ï¼Œæˆ‘ä»¬è¿˜è¦æ–°å»ºä¸€ä¸ªåä¸ºï¼š <strong>PlayerController</strong> çš„C#æ–‡ä»¶æ‹–æ‹½åˆ°è¦æ§åˆ¶çš„äººç‰©ä¸Šï¼Œä¸‹é¢åˆ†åˆ«æ˜¯ä¸¤ä¸ªC#æ–‡ä»¶çš„ä»£ç </p><pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//MouseManager.cs</span><span class="token comment">//è¿™é‡Œåªå±•ç¤ºé‡è¦çš„éƒ¨åˆ†å¹¶é™„ä¸Šæ³¨é‡Š</span><span class="token keyword">using</span> <span class="token namespace">UnityEngine</span><span class="token punctuation">;</span><span class="token comment">//for Vector3,RaycastHit,Ray</span><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span><span class="token comment">//for Action</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MouseManager</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">event</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>Vector3<span class="token punctuation">></span></span> OnMouseClicked<span class="token punctuation">;</span><span class="token comment">//å£°æ˜ä¸€ä¸ªäº‹ä»¶ï¼Œç”¨äºå½“é¼ æ ‡ç‚¹å‡»æ—¶è¿›è¡Œæ“ä½œ</span>    <span class="token class-name">RaycastHit</span> hitInfo<span class="token punctuation">;</span><span class="token comment">//ç”¨æ¥å­˜å‚¨å°„çº¿Rayè¿”å›çš„åæ ‡ç‚¹æ¶ˆæ¯</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">MouseManager</span> Instance<span class="token punctuation">;</span><span class="token comment">//MouseManagerç±»çš„å”¯ä¸€å®ä¾‹ï¼ˆå•ä¾‹æ¨¡å¼ç”¨ï¼‰</span>        <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetCursorTexture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//å‘å°„ä¸€æ¡å°„çº¿ï¼Œèµ·ç‚¹æ˜¯ä¸»ç›¸æœºï¼ˆMainCameraï¼‰</span>        <span class="token comment">//å°„çº¿å¦ä¸€ç«¯ç‚¹åˆ™æ˜¯é¼ æ ‡ç‚¹å‡»çš„åæ ‡ï¼ˆInput.mousePositionï¼‰</span>        <span class="token class-name">Ray</span> ray <span class="token operator">=</span> Camera<span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">ScreenPointToRay</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span>mousePosition<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>Physics<span class="token punctuation">.</span><span class="token function">Raycast</span><span class="token punctuation">(</span>ray<span class="token punctuation">,</span><span class="token keyword">out</span> hitInfo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">//ä¸Šé¢çš„Raycastå‡½æ•°é‡Œå°†å°„çº¿ç‚¹ä¿¡æ¯è¿”å›åˆ°äº†outå±æ€§çš„hitInfoå˜é‡é‡Œ</span>            <span class="token comment">//TODO</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>             <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MouseControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>         <span class="token comment">//å¦‚æœé¼ æ ‡ç‚¹å‡»äº†ä¸€ä¸ªåœ°æ–¹å¹¶ä¸”hitInfoåæ ‡ç‚¹ä¸ä¸ºç©ºçš„è¯</span><span class="token keyword">if</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">GetMouseButtonDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> hitInfo<span class="token punctuation">.</span>collider <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">//æ‰€ç‚¹å‡»çš„ç‰©ä½“æ ‡ç­¾æ˜¯â€œGroundâ€ï¼ˆåœ°é¢ï¼‰çš„è¯ï¼Œï¼ˆæ³¨æ„è¦æŠŠä½ çš„åœ°é¢æ·»åŠ ä¸ºGroundæ ‡ç­¾ï¼‰</span><span class="token keyword">if</span><span class="token punctuation">(</span>hitInfo<span class="token punctuation">.</span>collider<span class="token punctuation">.</span><span class="token function">CompareTag</span><span class="token punctuation">(</span><span class="token string">"Ground"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token comment">//åˆ¤æ–­OnMouseClickedäº‹ä»¶æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºçš„è¯åˆ™ä¼ é€’åæ ‡ç‚¹</span>OnMouseClicked<span class="token punctuation">?.</span><span class="token function">Invoke</span><span class="token punctuation">(</span>hitInfo<span class="token punctuation">.</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//DeBug Info</span><span class="token class-name">Vector3</span> point <span class="token operator">=</span> hitInfo<span class="token punctuation">.</span>point<span class="token punctuation">;</span>Debug<span class="token punctuation">.</span><span class="token function">LogFormat</span><span class="token punctuation">(</span><span class="token string">"é¼ æ ‡å·¦é”®å•å‡»äº†&#123;0&#125;! X:&#123;1&#125;,Y:&#123;2&#125;,Z:&#123;3&#125;"</span><span class="token punctuation">,</span>hitInfo<span class="token punctuation">.</span>collider<span class="token punctuation">.</span>name<span class="token punctuation">,</span>point<span class="token punctuation">.</span>x<span class="token punctuation">,</span>point<span class="token punctuation">.</span>y<span class="token punctuation">,</span>point<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Debugæ˜¾ç¤ºé¼ æ ‡ç‚¹å‡»çš„åæ ‡</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>        <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   <span class="token comment">//åœ¨Unityçš„è„šæœ¬C#ä»£ç æ–‡ä»¶ä¸­ï¼ŒAwake()æ˜¯åœ¨è„šæœ¬å¯¹è±¡å®ä¾‹åŒ–æ—¶è¢«è°ƒç”¨çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨è¿™ä¸ªç±»è¢«åˆ›å»ºçš„æ—¶å€™å°±è¿›è¡Œæ“ä½œ</span><span class="token keyword">if</span><span class="token punctuation">(</span>Instance <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">Destroy</span><span class="token punctuation">(</span>gameObject<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Instance <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>        <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//å°†ä¸Šé¢ä¸¤ä¸ªä¸»è¦çš„å‡½æ•°æ”¾è¿›Updateé‡Œ</span><span class="token function">SetCursorTexture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MouseControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token comment">//class MouseManager</span><span class="token comment">//PlayerController.cs</span><span class="token comment">//æŠŠè¿™ä¸ªæ–‡ä»¶æ‹–å…¥åˆ°ä½ è¦æ§åˆ¶çš„äººç‰©ä¸­</span><span class="token keyword">using</span> <span class="token namespace">UnityEngine</span><span class="token punctuation">;</span><span class="token comment">//for Component.GetComponent&lt;></span><span class="token keyword">using</span> <span class="token namespace">UnityEngine<span class="token punctuation">.</span>AI</span><span class="token punctuation">;</span><span class="token comment">//for CLASS NavMeshAgent;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PlayerController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">NavMeshAgent</span> agent<span class="token punctuation">;</span><span class="token comment">//å¯¼èˆªæ§åˆ¶</span>        <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Awake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//GetComponentä¸ºè·å–ç»„ä»¶</span>        <span class="token comment">//æˆ‘ä»¬åœ¨äººç‰©æ·»åŠ è¿‡ä¸€ä¸ªNavMeshAgentçš„Componentï¼Œè¿™é‡Œè·å–çš„å°±æ˜¯å®ƒ</span>        agent <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>NavMeshAgent<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MoveToTarget</span><span class="token punctuation">(</span><span class="token class-name">Vector3</span> target<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//ä»äº‹ä»¶ä¸­è·å¾—çš„åæ ‡ç‚¹èµ‹å€¼ç»™äººç‰©ç§»åŠ¨çš„ç›®æ ‡ç‚¹</span>agent<span class="token punctuation">.</span>destination <span class="token operator">=</span> target<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>        <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//å°†å‡½æ•°æ–¹æ³•æ³¨å†Œåˆ°äº‹ä»¶ä¸­</span>MouseManager<span class="token punctuation">.</span>Instance<span class="token punctuation">.</span>OnMouseClicked<span class="token operator">+=</span>MoveToTarget<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    åˆ°æ­¤ï¼Œäººç‰©ç§»åŠ¨çš„æ ¸å¿ƒéƒ¨åˆ†å°±å®ç°äº†ï¼Œå¿«å»å®éªŒä¸€ä¸‹ä½ çš„å°äººèƒ½ä¸èƒ½ç§»åŠ¨å§ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;â€‹    è¿™ä¸€æ¬¡æˆ‘ä»¬æ¥å®ç°äººç‰©åœ¨åœ°å›¾ä¸Šèµ°åŠ¨ï¼Œåœ¨å®ç°ä¹‹å‰æˆ‘ä»¬æœ‰ä¸€äº›å‡†å¤‡å·¥ä½œè¦åšï¼Œé¦–å…ˆå°±æ˜¯æˆ‘ä»¬çš„åœ°å›¾çƒ˜ç„™äº†ã€‚&lt;/p&gt;
&lt;h1 id=&quot;æ™ºèƒ½å¯¼èˆªåœ°å›¾çš„çƒ˜ç„™&quot;&gt;&lt;a href=&quot;#æ™ºèƒ½å¯¼èˆªåœ°å›¾çš„çƒ˜ç„™&quot; class=&quot;headerlink&quot; title=&quot;æ™ºèƒ½å¯¼èˆªåœ°å›¾çš„çƒ˜ç„™&quot;&gt;&lt;/a</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unityç¬”è®°1--ç†Ÿæ‚‰Unityç•Œé¢ä»¥åŠæ„å»ºåœºæ™¯</title>
    <link href="http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B01-%E7%86%9F%E6%82%89Unity%E7%95%8C%E9%9D%A2%E4%BB%A5%E5%8F%8A%E6%9E%84%E5%BB%BA%E5%9C%BA%E6%99%AF/"/>
    <id>http://sakura-pub.ltd/UnityNotes/Unity%E7%AC%94%E8%AE%B01-%E7%86%9F%E6%82%89Unity%E7%95%8C%E9%9D%A2%E4%BB%A5%E5%8F%8A%E6%9E%84%E5%BB%BA%E5%9C%BA%E6%99%AF/</id>
    <published>2021-06-01T06:10:51.000Z</published>
    <updated>2021-06-27T06:57:21.889Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç†Ÿæ‚‰Unityç•Œé¢"><a href="#ç†Ÿæ‚‰Unityç•Œé¢" class="headerlink" title="ç†Ÿæ‚‰Unityç•Œé¢"></a>ç†Ÿæ‚‰Unityç•Œé¢</h1><p>â€‹    é¦–å…ˆåœ¨å¼€å§‹ä¹‹å‰è¯´ä¸€ä¸‹æˆ‘æ‰€ä½¿ç”¨çš„Unityç‰ˆæœ¬ï¼Œæˆ‘ç›®å‰æ‰€å®‰è£…çš„Unityæ˜¯2020.3ç‰ˆæœ¬ï¼Œå…·ä½“ç‰ˆæœ¬å·å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://p6-tt.byteimg.com/origin/pgc-image/39050d7c97954612bc110e85d4b0d84e.jpg" alt="1.jpg"></p><p>â€‹    åŒæ—¶è¿™ä¸ªç‰ˆæœ¬ä¹Ÿæ˜¯ç¨³å®šç‰ˆæœ¬ï¼ˆLTSï¼‰</p><p>â€‹    å®‰è£…å®ŒUnityï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹åˆ›å»ºé¡¹ç›®ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥åˆ›å»ºä¸€ä¸ªæ™®é€š3Dé¡¹ç›®ï¼Œé¡¹ç›®åä¸ºï¼š3DRPG ï¼Œè¿›å»ä¹‹åæˆ‘ä»¬æŒ‰è‡ªå·±å–œå¥½è°ƒæ•´ä¸€ä¸‹ç•Œé¢å¸ƒå±€ï¼Œå…·ä½“æ¯ä¸ªç•Œé¢çš„ä½œç”¨è¿™é‡Œä½œç®€å•çš„ä»‹ç»ï¼Œéšç€æˆ‘ä»¬ä¸æ–­æ¨è¿›é¡¹ç›®æˆ‘ä»¬ä¹Ÿå¯ä»¥æ¯”è¾ƒå¿«åœ°ç†Ÿæ‚‰å„ä¸ªçª—å£çš„ä½œç”¨ã€‚</p><p><img src="https://p5-tt.byteimg.com/origin/pgc-image/aa00a709e4fe479aa99a5b3040a5a298.jpg" alt="2.jpg"></p><p>â€‹    ğŸ‘†æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸Šé¢çš„å›¾ï¼Œè¿™ä¸ªç•Œé¢æ˜¯æˆ‘åœ¨è¿›è¡Œäº†å‡ ä¸ªç« èŠ‚ä¹‹åæˆªçš„å›¾ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½æœ‰å‡ ä¸ªä¸»è¦çš„çª—å£ç•Œé¢ï¼š</p><ul><li><p><strong>Scene</strong>  è¿™ä¸ªæ˜¯æˆ‘ä»¬Unityçš„å¯è§†åŒ–åœºæ™¯ç®¡ç†çª—å£ï¼Œç®€å•æ¥è¯´å°±æ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†æˆ‘ä»¬çš„äººç‰©ã€å°ç‰©ä»¶ç­‰ä¸œè¥¿åœ¨Sceneçª—å£ä¸Šè¿›è¡Œæ“ä½œï¼Œè¿™å¯ä»¥æå¤§çš„æ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œåœºæ™¯çš„å¸ƒç½®å·¥ä½œã€‚</p></li><li><p><strong>Hierarchy</strong> ä¹Ÿå°±æ˜¯ä¸Šå›¾é ä¸­é—´ä¸Šè¾¹çš„è§†å›¾ï¼Œåœ¨è¿™ä¸ªè§†å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨Sceneè§†å›¾ä¸­æ‘†æ”¾äº†å“ªäº›ç‰©ä»¶å¯¹è±¡ï¼ŒåŒ…æ‹¬ä½ çš„å°äººï¼ŒèŠ±è‰æ ‘æœ¨ç”šè‡³ä½ çš„Camera(æ‘„åƒæœºğŸ¥)å’Œå…‰ç…§å¯¹è±¡éƒ½ä¼šåœ¨Hierarchyè§†å›¾ä¸Šæ˜¾ç¤ºå‡ºæ¥ã€‚</p></li><li><p><strong>Project</strong> è¿™ä¸ªè§†å›¾é‡Œæˆ‘ä»¬å¯ä»¥ç®¡ç†å½“å‰é¡¹ç›®çš„æ–‡æ¡£æ–‡ä»¶ï¼Œæ¯”å¦‚C#ä»£ç æ–‡ä»¶æˆ–å…¶å®ƒé…ç½®æ–‡ä»¶ç­‰éƒ½å¯ä»¥åœ¨è¿™é‡Œç›´æ¥è®¿é—®ã€‚</p></li><li><p><strong>Inspector</strong> åœ¨è¿™ä¸ªè§†å›¾é‡Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹å¹¶ä¿®æ”¹å½“å‰é€‰ä¸­å¯¹è±¡çš„å±æ€§å€¼ï¼Œä¾‹å¦‚æˆ‘å¯ä»¥åœ¨Sceneè§†å›¾æˆ–Hierarchyè§†å›¾é€‰ä¸­æˆ‘çš„å°äººï¼Œç„¶åä¿®æ”¹å®ƒçš„é«˜åº¦ã€ä½ç½®ç­‰ç­‰è®¸å¤šå±æ€§ã€‚</p></li><li><p><strong>Console</strong> è¿˜æœ‰ä¸€ä¸ªè§†å›¾å°±æ˜¯æˆ‘ä»¬çš„è¾“å‡ºæ§åˆ¶å°å•¦ï¼Œåœ¨è¿™ä¸ªæ§åˆ¶å°é‡Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä»£ç é”™è¯¯æˆ–è€…ä»£ç è¾“å‡ºç­‰ä¿¡æ¯ï¼Œåœ¨å¾€åæˆ‘ä»¬çš„C#ä»£ç æ–‡ä»¶ä¸­å¯ä»¥åˆ©ç”¨Debugæ¥è¾“å‡ºç‰¹å®šçš„ä¿¡æ¯ğŸ‘‰ğŸ‘‰ğŸ‘‰<code>Debug.LogFormat(&quot;è°ƒè¯•ä¿¡æ¯&#123;0&#125;&quot;,xxxx);</code></p><h1 id="å®‰è£…URPæ¸²æŸ“ç®¡çº¿"><a href="#å®‰è£…URPæ¸²æŸ“ç®¡çº¿" class="headerlink" title="å®‰è£…URPæ¸²æŸ“ç®¡çº¿"></a>å®‰è£…URPæ¸²æŸ“ç®¡çº¿</h1><p>â€‹    ç†Ÿæ‚‰å®Œç•Œé¢åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å®‰è£…<strong>URP(Universal Render Pipeline)æ¸²æŸ“ç®¡çº¿</strong>äº†ï¼Œé¦–å…ˆæˆ‘ä»¬åœ¨ä¸Šè¾¹çš„èœå•æ æ‰¾åˆ°Windowâ€“Package Manager </p><img src="https://p6-tt.byteimg.com/origin/pgc-image/63fdcf0caf734225823ae387e05ea777.jpg" alt="3.jpg" style="zoom: 67%;" /><p>â€‹    åœ¨ Package Manager ä¸­æˆ‘ä»¬å¯ä»¥ç®¡ç†å½“å‰é¡¹ç›®ä½¿ç”¨çš„Unityæ’ä»¶ï¼Œä»¥åä¹Ÿä¼šç»å¸¸ç”¨åˆ°ï¼Œä¹‹ååœ¨Package Manager çª—å£ä¸­å·¦ä¸Šè§’æˆ‘ä»¬é€‰æ‹© Pcakages ä¸º<strong>Unity Registry</strong>ï¼Œéšååœ¨å³ä¸Šè§’æœç´¢<em>Universal RP</em>æ‰¾åˆ°æˆ‘ä»¬è¦çš„URPæ¸²æŸ“ç®¡çº¿å¹¶ç‚¹å‡»å®‰è£…</p><img src="https://p9-tt.byteimg.com/origin/pgc-image/0c5d7ad152214e88b346851f86c86726.jpg" alt="4.jpg" style="zoom:67%;" /><p>â€‹    æˆ‘è¿™é‡Œå®‰è£…çš„URPç‰ˆæœ¬å·ä¸º 10.4.0 ï¼Œè¯¥ç‰ˆæœ¬å·²ç»åœ¨Unity 2020.3 ä¸­å¾—åˆ°äº†è®¤è¯ã€‚</p><p>â€‹    å®‰è£…å®Œåæˆ‘ä»¬å°±è¦å¼€å§‹é…ç½®å·¥ä½œäº†ï¼Œé¦–å…ˆæˆ‘ä»¬åœ¨Projectè§†å›¾ç‚¹é‚£ä¸ª+å·ï¼Œç„¶åæ‰¾åˆ° Rendering -&gt; Universal Render Pipeline -&gt; Pipeline Asset (Forward Renderer) ï¼Œå¦‚ä¸‹å›¾ğŸ‘‡</p><img src="https://p9-tt.byteimg.com/origin/pgc-image/d659c489af584a5ca3c337957af35a19.jpg" alt="5.jpg" style="zoom:67%;" /><p>â€‹    ç‚¹å‡»ä¹‹åæˆ‘ä»¬çœ‹åˆ°Unityä¸ºæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªæ–‡ä»¶ï¼ˆä¸‹å›¾çš„ç¬¬äºŒç¬¬ä¸‰ä¸ªï¼‰ï¼Œå½“ç„¶ä¸ºäº†ä»¥åæ›´å¥½çš„ç®¡ç†å„ç§æ‚ä¸ƒæ‚å…«çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬è¦å…»æˆåˆ†ç±»çš„å¥½ä¹ æƒ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼„ä¸ªæ–‡ä»¶å¤¹æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·ï¼Œè¿™é‡Œæˆ‘æ–‡ä»¶å¤¹èµ·å Pipeline Setting</p><img src="https://p3-tt.byteimg.com/origin/pgc-image/fd12dcde3ace40bf9a60e5db6307675a.jpg" alt="6.jpg" style="zoom: 67%;" /><p>â€‹    ä¸‹ä¸€æ­¥æˆ‘ä»¬æ‰“å¼€èœå•æ ä¸­çš„ Editâ€”ProjectSettingsâ€¦</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/35de350f60d04bf7a21461765e3c9f11.jpg" alt="7.jpg" style="zoom: 60%;" /><p>â€‹    åœ¨æ–°æ‰“å¼€çš„çª—å£ä¸­æˆ‘ä»¬å¯ä»¥å¯¹æˆ‘ä»¬å½“å‰çš„é¡¹ç›®è¿›è¡Œä¸€äº›è®¾ç½®æ“ä½œï¼Œè¿™é‡Œæˆ‘ä»¬è¦è®¾ç½®é»˜è®¤çš„æ¸²æŸ“ç®¡çº¿ä¸ºåˆšåˆšåˆ›å»ºçš„URPæ¸²æŸ“ç®¡çº¿ï¼Œæˆ‘ä»¬åˆ†åˆ«åœ¨å·¦ä¾§æ ä¸­é€‰æ‹© Graphics å’Œ Quality ï¼Œå†æŒ‰ç…§ä¸‹å›¾æ ‡è“è‰²æ¡†ä½ç½®é€‰æ‹©æˆ‘ä»¬çš„URPæ¸²æŸ“ç®¡çº¿</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/5dac041ae0e14100a36c7ed5e7fa1991.jpg" alt="8.jpg" style="zoom:70%;" /><center>Graphicsç•Œé¢è®¾ç½®URP</center><img src="https://p6-tt.byteimg.com/origin/pgc-image/78eb8e07811a40a08c3f1e084e204cbc.jpg" alt="9.jpg" style="zoom:70%;" /></li></ul><center>Qualityç•Œé¢è®¾ç½®URP</center><p>â€‹    è‡³æ­¤ï¼Œæˆ‘ä»¬çš„URPæ¸²æŸ“ç®¡çº¿å®‰è£…é…ç½®å°±æš‚æ—¶åˆ°è¿™äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¾¿å¯ä»¥å¼€å§‹å¯¼å…¥ç´ ææµ‹è¯•æ¸²æŸ“æ•ˆæœäº†ã€‚</p><h1 id="å¯¼å…¥ç´ æå¹¶æ„å»ºåœºæ™¯"><a href="#å¯¼å…¥ç´ æå¹¶æ„å»ºåœºæ™¯" class="headerlink" title="å¯¼å…¥ç´ æå¹¶æ„å»ºåœºæ™¯"></a>å¯¼å…¥ç´ æå¹¶æ„å»ºåœºæ™¯</h1><h2 id="ä½¿ç”¨Unityç´ æå•†åº—å¯¼å…¥ç´ æ"><a href="#ä½¿ç”¨Unityç´ æå•†åº—å¯¼å…¥ç´ æ" class="headerlink" title="ä½¿ç”¨Unityç´ æå•†åº—å¯¼å…¥ç´ æ"></a>ä½¿ç”¨Unityç´ æå•†åº—å¯¼å…¥ç´ æ</h2><p>â€‹    æˆ‘ä»¬å¯ä»¥é€šè¿‡Unityè‡ªå¸¦çš„å®˜æ–¹å•†åº—é‡Œé¢å¯»æ‰¾æˆ‘ä»¬å–œæ¬¢çš„ç´ æï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»è¿™ä¸ª<a href="https://assetstore.unity.com/">é“¾æ¥</a>è¿›å…¥ç´ æå•†åº—ï¼Œä¹Ÿå¯ä»¥åœ¨Unityå†…çš„ Windowâ€”Asset Store å†…æ‰“å¼€</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/150853385a5e42e282a36d8e1e651371.jpg" alt="10.jpg" style="zoom:60%;" /><p>â€‹    å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä»Unity2020ç‰ˆå¼€å§‹å–æ¶ˆäº†å†…ç½®å•†åº—çš„çª—å£ï¼Œå¦‚æœä½ æ˜¯2020ç‰ˆæˆ–ä¹‹åçš„ç‰ˆæœ¬çš„è¯ï¼Œæ‰“å¼€Asset Storeä¼šå¾—åˆ°ä¸€ä¸ªæ— æ³•è®¿é—®çš„ç•Œé¢ï¼Œæˆ‘ä»¬éœ€è¦å†ç‚¹å‡» Search Online æŒ‰é’®æŒ‰é’®æ¥æ‰“å¼€ç½‘é¡µç‰ˆå•†åº—</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/da99be76548c4ff18c4954eb06ad1d62.jpg" alt="11.jpg" style="zoom:65%;" /><p>â€‹    </p><p>â€‹    æˆ‘ä»¬ç›®å‰å¯ä»¥å…ˆæ‰¾ä¸¤ä¸ªå…è´¹ç´ æï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸€ä¸ªæ˜¯åœºæ™¯ç´ æï¼Œä¸€ä¸ªæ˜¯äººç‰©ç´ æï¼Œå¯ä»¥ä¾›æˆ‘ä»¬å‰æœŸæš‚æ—¶å­¦ä¹ ä½¿ç”¨äº†ï¼Œè¿™é‡Œæˆ‘ä»¬ç‚¹å‡»è“è‰²çš„æŒ‰é’®å¹¶æ ¹æ®æ“ä½œæ·»åŠ åˆ°ä½ çš„Unityè´¦æˆ·é‡Œï¼Œå°±å¯ä»¥åœ¨Unityé‡Œé¢ä¸‹è½½ä¸‹æ¥äº†</p><p><img src="https://p5-tt.byteimg.com/origin/pgc-image/63fc0f40f92a4af181788740c7f975bc.jpg" alt="12.jpg"></p><p>â€‹    åœ¨æŒ‘é€‰ç´ ææ—¶è¦æ³¨æ„ä¸€ç‚¹å°±æ˜¯è¦çœ‹å¥½ç´ ææ˜¯å¦æ”¯æŒæˆ‘ä»¬æ‰€é€‰æ‹©çš„æ¸²æŸ“ç®¡çº¿ï¼Œä¸€èˆ¬åœ¨ç´ æå•†åº—ç•Œé¢éƒ½ä¼šæœ‰è¯´æ˜</p><p>â€‹    ç´ ææ·»åŠ åˆ°è´¦æˆ·ä¹‹åï¼Œæˆ‘ä»¬æ‰“å¼€ Package Managerï¼Œå¹¶åœ¨å·¦ä¸Šè§’çš„ Packages é€‰æ‹©ä¸º My Assetsï¼Œå°±å¯ä»¥çœ‹åˆ°åœ¨Unityå•†åº—æ·»åŠ çš„ç´ æäº†ï¼Œé€‰ä¸­ç´ æç‚¹å‡»ä¸‹è½½å¹¶Importå°±å¯ä»¥æ·»åŠ åˆ°é¡¹ç›®ä¸­å•¦</p><img src="https://p3-tt.byteimg.com/origin/pgc-image/20d6062a1db34a62a9182d0aa5943889.jpg" alt="13.jpg" style="zoom:70%;" /><p>â€‹    å°†æˆ‘ä»¬å°äººæ‹–åˆ°Sceneè§†å›¾ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°å°äººä¸€èº«ç²‰è‰²è¿˜æ²¡æ¸²æŸ“å¤–è§‚å‡ºæ¥ï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¦å°†ç´ æå‡çº§åˆ°æˆ‘ä»¬çš„æ¸²æŸ“ç®¡çº¿ï¼Œå…·ä½“æ“ä½œæ˜¯ Edit -&gt; Render Pipeline -&gt; Universal Render Pipeline -&gt; æ­¤æ—¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰å‡ºæ¥ä¸¤ä¸ªé€‰é¡¹ï¼Œç¬¬â˜ä¸ªé€‰é¡¹æ˜¯å°†æˆ‘ä»¬é¡¹ç›®é‡Œçš„æ‰€ä»¥ç´ æéƒ½å‡çº§ä¸ºURPï¼›ç¬¬âœŒä¸ªé€‰é¡¹æ˜¯å°†å½“å‰é€‰ä¸­çš„æè´¨å‡çº§ä¸ºURPï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ç¬¬ä¸€ä¸ªã€‚ç‚¹å‡»å‡çº§URPåå°äººå°±å¯ä»¥æ­£å¸¸æ˜¾ç¤ºäº†</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/29036628920f45c09b47e29ad9a2eaf0.jpg" alt="14.jpg" style="zoom:80%;" /><p>â€‹    </p><h2 id="æ„å»ºåœºæ™¯"><a href="#æ„å»ºåœºæ™¯" class="headerlink" title="æ„å»ºåœºæ™¯"></a>æ„å»ºåœºæ™¯</h2><p>â€‹    æ­å»ºåœºæ™¯éƒ¨åˆ†æˆ‘ä»¬å¯ä»¥å…ˆä»è°ƒæ•´å¤©ç©ºæ ·å¼å¼€å§‹ï¼Œå› ä¸ºé»˜è®¤çš„å¤©ç©ºæ ·å¼ç°æºœæºœçš„å¹¶ä¸å¥½çœ‹ğŸ˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¼€å§‹å§ï¼</p><h3 id="å¤©ç©º"><a href="#å¤©ç©º" class="headerlink" title="å¤©ç©º"></a>å¤©ç©º</h3><p>â€‹    é¦–å…ˆè°ƒæ•´å¤©ç©ºå¯ä»¥å…ˆå»ä¸‹ä¸ªå¤©ç©ºç›’å­ï¼ˆSkyboxï¼‰ç´ æï¼Œè¿™é‡Œæˆ‘ä¸‹è½½çš„æ˜¯ä¸‹å›¾æ‰€ç¤ºçš„Skyboxï¼š<a href="https://assetstore.unity.com/packages/vfx/shaders/free-skybox-extended-shader-107400">FREE Skybox Extended Shader</a></p><p><img src="https://p9-tt.byteimg.com/origin/pgc-image/e72308b7966b47368c2cc814dcf5dca4.jpg" alt="15.jpg"></p><p>â€‹    æ·»åŠ å¥½èµ„æºåå›åˆ°Unityå†…ä¸‹è½½å¹¶ Importï¼ˆæ³¨æ„å°†æ–‡ä»¶å¤¹åˆ†å¥½ç±»ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç´ æç›®å½•ä¸‹çœ‹åˆ°æœ‰Demoæ ·ä¾‹</p><img src="https://p3-tt.byteimg.com/origin/pgc-image/0b812466543d478b9211e068a949438f.jpg" alt="16.jpg" style="zoom:80%;" /><p>â€‹    é‚£ä¹ˆå¦‚ä½•æ¥ä½¿ç”¨è¿™ä¸ªSkyboxå‘¢ï¼Ÿ</p><p>â€‹    é¦–å…ˆæˆ‘ä»¬è¦åœ¨èœå•æ æ‰“å¼€ Window -&gt; Rendering -&gt; Lighting çª—å£</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/448dfc0867b14cea8a884b1da2cd1cc8.jpg" alt="17.jpg" style="zoom:70%;" /><p>â€‹    ç„¶åæˆ‘ä»¬åœ¨æ–°æ‰“å¼€çš„ Lighting çª—å£ç‚¹å‡» Environment é€‰é¡¹å¡ï¼Œåœ¨Skybox Material é‚£ä¸€æ ä¸­å°±å¯ä»¥é€‰æ‹©è‡ªå·±å–œæ¬¢çš„Skyboxç´ æäº†</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/e489644b78364fab8c4b97e49a5f69d3.jpg" alt="18.jpg" style="zoom:80%;" /><p>â€‹    å¦å¤–ï¼Œæˆ‘ä»¬åœ¨Sceneé€‰é¡¹å¡ä¸­å¯ä»¥å…ˆç‚¹å‡»ä¸€ä¸‹New Lighting SettingsæŒ‰é’®æ¥æ–°å»ºä¸€ä¸ªå…‰ç…§é…ç½®æ–‡ä»¶å¹¶å°†å®ƒåˆ†ç±»æ‘†å¥½ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶æˆ‘ä»¬åé¢å¯ä»¥ç”¨æ¥é…ç½®åœºæ™¯ç¯å¢ƒå…‰</p><img src="https://p3-tt.byteimg.com/origin/pgc-image/07234fec87af42b8a7db9fbd227478b5.jpg" alt="19.jpg" style="zoom:80%;" /><p><img src="https://p9-tt.byteimg.com/origin/pgc-image/042dbd7860774728a5a7a00969f383e9.jpg" alt="20.jpg"></p><center>å°†è¿™ä¸ªé…ç½®æ–‡ä»¶åˆ†ç±»æ‘†åœ¨Pipeline Settingæ–‡ä»¶å¤¹ä¸‹</center><p>â€‹    </p><p>â€‹    ç°åœ¨æˆ‘ä»¬å°±æŠŠåˆšåˆšä¸‹è½½ä¸‹æ¥çš„Skyboxé€‚ç”¨åˆ°åœºæ™¯ä¸­äº†ï¼Œå¦‚æœæƒ³è¦è°ƒæ•´å‚æ•°çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥åˆ°ç´ æç›®å½•ä¸‹æ‰¾åˆ°åˆšåˆšé€‰æ‹©çš„Skyboxç´ æå¯¹è±¡ï¼Œå¹¶åœ¨ Inspector è§†å›¾çª—å£ä¸­è°ƒæ•´è¿™äº›å‚æ•°</p><img src="https://p26-tt.byteimg.com/origin/pgc-image/e3033b1ee0d947b4b315b4a1c17afbf2.jpg" alt="21.jpg" style="zoom:80%;" /><center>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å³è¾¹çš„Inspectorè§†å›¾å†…å¯ä»¥ä¿®æ”¹Skyboxçš„å±æ€§</center><p>â€‹    </p><p>â€‹    è‡³æ­¤ï¼Œå¤©ç©ºåœºæ™¯å°±è¿™æ ·æ­å»ºå¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥æ­å»ºåœ°é¢çš„å…ƒç´ å§ï¼</p><h3 id="åœ°é¢"><a href="#åœ°é¢" class="headerlink" title="åœ°é¢"></a>åœ°é¢</h3><p>â€‹    å¦‚æœæƒ³åœ¨Unityä¸­è‡ªå·±æ¥ç»˜åˆ¶åœºæ™¯åœ°é¢çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸¤ä¸ªæ’ä»¶ â€” <strong>Poly Brush</strong> å’Œ <strong>ProBuilder</strong> æ¥è‡ªå·±å»ºæ¨¡ã€‚</p><h4 id="Poly-Brush"><a href="#Poly-Brush" class="headerlink" title="Poly Brush"></a>Poly Brush</h4><p>â€‹    æˆ‘ä»¬è¿˜æ˜¯æ‰“å¼€ Package Managerï¼Œå·¦ä¸Šè§’çš„ Packages é€‰æ‹©ä¸º <strong>Unity Registry</strong> ç„¶åæˆ‘ä»¬åœ¨æœç´¢æ¡†æŸ¥æ‰¾ <strong>Poly Brush</strong> ç„¶åä¸‹è½½ä¸‹æ¥å®‰è£…ã€‚å®‰è£…å¥½ Poly Brush ä¸è¦ç€æ€¥å…³é—­ Package Manager çª—å£ï¼Œæˆ‘ä»¬è¿˜è¦ç‚¹å¼€ Samples å¯¼å…¥å±äºæˆ‘ä»¬URPçš„ Shader Examples ï¼Œå³ä¸‹å›¾ä¸­çš„<strong>ç¬¬äºŒä¸ªé€‰é¡¹</strong></p><img src="https://p6-tt.byteimg.com/origin/pgc-image/0a1867154c2045d2ada819d40e319961.jpg" alt="22.jpg" style="zoom:80%;" /><center>å¦‚æœæˆ‘ä»¬ä½¿ç”¨URPçš„è¯é€‰æ‹©çš„æ˜¯ç¬¬äºŒä¸ªé€‰é¡¹</center><p>â€‹    å½“ç„¶å¦‚æœä½ æ˜¯ä½¿ç”¨æ™®é€šçš„Unityé¡¹ç›®è€Œæ²¡æœ‰ä½¿ç”¨URPæ¸²æŸ“ç®¡çº¿çš„è¯å°±é€‰æ‹©<strong>ç¬¬ä¸€ä¸ªé€‰é¡¹</strong></p><p>â€‹    å®‰è£…å¥½åæˆ‘ä»¬çš„ Project è§†å›¾é‡Œå°±ä¼šå¤šå‡ºäº†ä¸€ä¸ª Polybrush æ’ä»¶çš„æ–‡ä»¶å¤¹ï¼Œç”±äºä¹‹åæˆ‘ä»¬è¿˜è¦å®‰è£…ä¸€äº›æ’ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å‘½åä¸º <strong>Addons</strong> æ¥ä¸“é—¨å­˜æ”¾è¿™äº›æ’ä»¶çš„æ–‡ä»¶ï¼ˆè¦å…»æˆåˆ†ç±»çš„å¥½ä¹ æƒ¯ï¼‰</p><p>â€‹    å¼„å¥½è¿™äº›ä¸œè¥¿åï¼Œæˆ‘ä»¬å›åˆ°Unityä¸»ç•Œé¢ï¼Œæˆ‘ä»¬é€šè¿‡ä¸Šæ–¹èœå•æ çš„ <strong>Tools-&gt;Polybrush-&gt;Polybrush Window</strong> æ¥æ‰“å¼€Polybrushçª—å£</p><img src="https://p26-tt.byteimg.com/origin/pgc-image/c58b3d98cab54de79fac9e3d9a0eaac6.jpg" alt="23.jpg" style="zoom:80%;" /><center>æ‰“å¼€ Polybrush çª—å£</center><p>â€‹    æ‰“å¼€ Polybrush çª—å£åæˆ‘ä»¬äº†è§£ä¸€ä¸‹è¿™äº›æŒ‰é’®çš„åŠŸèƒ½</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/d8e4a421ebcb42719f15c86813a7e131.jpg" alt="24.jpg" style="zoom:80%;" /><ul><li><p>ç¬¬ä¸€ä¸ªæŒ‰é’®æ˜¯è°ƒæ•´åœ°é¢çš„é«˜åº¦ï¼Œé€‰ä¸­è¯¥æŒ‰é’®ç„¶ååœ¨åœ°é¢ä¸Šæ‹–æ‹½é¼ æ ‡å³å¯å°†åœ°é¢å‡é«˜ï¼ŒæŒ‰ä½ Ctrl å¹¶æ‹–æ‹½é¼ æ ‡ä¾¿æ˜¯ä¸‹é™ã€‚æˆ‘ä»¬çœ‹åˆ°ä¸‹é¢é¢æ¿ä¸­è¿˜æœ‰ä¸€äº›å‚æ•°ä¾›æˆ‘ä»¬è°ƒæ•´ï¼š</p><p><strong>OuterRadius</strong> å¯ä»¥é€‰æ‹©å¤–è§’å¤§å°</p><p><strong>InnerRadius</strong> åˆ™ä¿®æ”¹å†…è§’å¤§å°ã€‚æŒ‰ä½ shift é”®æ»‘åŠ¨é¼ æ ‡æ»šè½®å¯ä»¥è°ƒæ•´å†…åœˆå¤§å°ï¼ŒæŒ‰ä½ Ctrl é”®æ»‘åŠ¨æ»šè½®è°ƒæ•´å¤–åœˆã€‚</p><p><strong>Strength</strong>å¯ä»¥ä¿®æ”¹å¼ºåº¦</p><p><strong>Direction</strong> å¯ä»¥é€‰æ‹©åœ°å½¢æ”¹å˜çš„æ–¹å‘ï¼Œé»˜è®¤ä¸ºnormalï¼Œä¸‹æ‹‰å¯ä»¥è¿›è¡Œä¿®æ”¹ã€‚</p><p><strong>BrushMirroring</strong>å¯ä»¥å¤åˆ¶ç¬”åˆ·ï¼Œæ²¿ç€é€‰ä¸­çš„çš„x,y,zé•œåƒåŒæ—¶ä¿®æ”¹åœ°å½¢</p></li><li><p>ç¬¬äºŒä¸ªæŒ‰é’®æ˜¯æŸ”åŒ–æŒ‰é’®ï¼Œç¾½åŒ–åŠŸèƒ½å¯ä»¥å°†åœ°å›¾è¾ƒä¸ºåƒµç¡¬çš„é¡¶ç‚¹è¿›è¡ŒæŸ”åŒ–</p></li><li><p>ç¬¬ä¸‰ä¸ªæŒ‰é’®æ˜¯é¢œè‰²åˆ·ï¼Œå¯ä»¥ä½¿æˆ‘ä»¬å¾ˆæ–¹ä¾¿åœ°å°†æˆ‘ä»¬çš„åœ°æ¿æ¶‚ä¸Šæˆ‘ä»¬æƒ³è¦çš„é¢œè‰²</p></li><li><p>ç¬¬å››ä¸ªæŒ‰é’®æ˜¯å°†é¢„è®¾çš„ç‰©ä½“æ¶‚åˆ°åœ°æ¿ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¢æ¿ä¸­å‹¾é€‰è¦åˆ·çš„ç‰©ä½“ä»¥åŠå¯†åº¦ï¼ˆå³æ¦‚ç‡ï¼‰</p></li><li><p>ç¬¬äº”ä¸ªæ˜¯è´´å›¾åˆ·ï¼Œå’Œé¢„åˆ¶ä½“åˆ·å­çš„åŠŸèƒ½ä¸€æ ·ï¼Œå®ƒæ˜¯å°†ä¸€äº›textureåˆ·åˆ°åœºæ™¯ä¸­ï¼Œå¯ä»¥æŠŠå›¾ç‰‡ç´ æå¯ä»¥å¼•ç”¨åœ¨åœºæ™¯ä¸­é€‰ä¸­çš„ç‰©ä½“ä¸Šã€‚</p></li></ul><h4 id="ProBuilder"><a href="#ProBuilder" class="headerlink" title="ProBuilder"></a>ProBuilder</h4><p>â€‹    ä¸Šé¢çš„Poly Brushæ’ä»¶æ˜¯ç”¨æ¥ç»˜åˆ¶ä¿®æ”¹åœ°é¢çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ¥åˆ›å»ºè‡ªå·±çš„åœ°é¢å‘¢ï¼Ÿè¿™ä¸‹å°±è¦ç”¨åˆ°æˆ‘ä»¬çš„å¦ä¸€ä¸ªæ’ä»¶ â€” <strong>ProBuilder</strong> äº†</p><p>â€‹    åŒæ ·åœ°ï¼Œæˆ‘ä»¬é€šè¿‡ Package Manager æ¥å®‰è£…æ­¤æ’ä»¶ï¼Œä¸‹è½½ä¸‹æ¥ååŒæ ·æŠŠæ’ä»¶æ–‡ä»¶å¤¹åˆ†å¥½ç±»ï¼Œç„¶åæ‰“å¼€çª—å£</p><img src="https://p5-tt.byteimg.com/origin/pgc-image/9e16aa320d6e461a9fc6a22752440486.jpg" alt="25.jpg" style="zoom:80%;" /><center>ProBuilderç•Œé¢</center><p>â€‹    æˆ‘ä»¬å¯ä»¥æŒ‰ä½ <strong>å·¦Shift</strong> å¹¶é¼ æ ‡æŒ‡åˆ°å›¾å½¢æŒ‰é’®æ¥æŸ¥çœ‹è¿™äº›æŒ‰é’®çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ‰äº›æŒ‰é’®å³ä¸Šè§’æœ‰ä¸ªå°é½¿è½®ï¼Œè¿™ä»£è¡¨ç€æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æ¥è®¾ç½®ï¼Œåªç”¨æŒ‰ä½ Alt å¹¶ç‚¹å‡»ä»–ä»¬å°±å¯ä»¥è¿›ä¸€æ­¥åœ°æ¥è®¾ç½®ï¼Œæ‹¿ç¬¬ä¸€ä¸ªæŒ‰é’®ï¼ˆåŠŸèƒ½æ˜¯<strong>åˆ›å»ºå‡ ä½•ä½“</strong>ï¼‰æ¥è¯´</p><img src="https://p6-tt.byteimg.com/origin/pgc-image/bacf417b80d14ac18301bb95e8fb9034.jpg" alt="26.jpg" style="zoom:80%;" /><p>â€‹    æŒ‰ä½ Alt å¹¶ç‚¹å‡»ç¬¬ä¸€ä¸ªæŒ‰é’®æˆ‘ä»¬æ‰“å¼€å¦‚ä¸Šå›¾æ‰€ç¤ºçš„çª—å£ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©è¦åˆ›å»ºçš„ç‰©ä½“æ˜¯ä»€ä¹ˆï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ Plane ï¼ˆå¹³é¢ï¼‰ï¼Œä¸‹é¢å¯ä»¥è®¾ç½®è¯¥å‡ ä½•ä½“çš„çš„è½´çš„æœå‘ã€å®½åº¦ã€é•¿åº¦ä»¥åŠé¡¶ç‚¹æ•°ï¼ˆå¦‚ä¸Šå›¾é¡¶ç‚¹æ•°æ˜¯30x30ï¼‰</p><p>â€‹    å…·ä½“çš„åŠŸèƒ½æˆ‘ä»¬å¯ä»¥è‡ªå·±å»å°è¯•ï¼Œé…åˆ Polybrush æˆ‘ä»¬å°±å¯ä»¥è½»æ¾åœ°æ¥åˆ›å»ºæˆ‘ä»¬çš„åœºæ™¯å¹¶ç»˜åˆ¶ä»–ä»¬å•¦ï¼</p><p>â€‹    è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬å¦‚æœè¦ä½¿ç”¨ <em>Low Poly</em> é£æ ¼çš„åœºæ™¯çš„è¯ï¼Œæˆ‘ä»¬è¦è®¾ç½®åœ°å›¾ç½‘æ ¼å‘ˆä¸‰è§’å½¢ï¼Œè¿™é‡Œå¯ä»¥é€šè¿‡ä¸Šé¢ ProBuilder å›¾ä¸­çš„ <strong>ç¬¬äºŒæ’ç¬¬äº”ä¸ª</strong> æŒ‰é’®æ¥å®ç°ï¼Œé€‰ä¸­æˆ‘ä»¬çš„åœ°é¢å‡ ä½•ä½“ï¼Œç„¶åç‚¹å‡»è¯¥æŒ‰é’®ä¾¿å¯ä»¥è®¾ç½®æˆåŠŸã€‚</p><p>â€‹    </p><p>â€‹    åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥è‡ªå·±å»å°è¯•ä¸€ä¸‹æ„å»ºå±äºè‡ªå·±çš„åœºæ™¯äº†ã€‚</p><h1 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h1><p>â€‹    åœ¨è¿™ä¸€ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å¼€å§‹ç¬¬ä¸€æ¬¡æ¥è§¦Unityå¹¶å°è¯•äº†è§£å®ƒï¼Œäº†è§£å¦‚ä½•å¯¼å…¥ç´ æå¹¶æ„å»ºã€ç»˜åˆ¶æˆ‘ä»¬çš„åœºæ™¯ï¼Œæˆ‘ä»¬åªæœ‰å¤šå»å°è¯•ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œæ‰å¯ä»¥å˜å¾—ç†Ÿæ‚‰ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å…ˆå¯ä»¥å‘æŒ¥è‡ªå·±åˆ›æ„æ¥æ„å»ºä¸€ä¸ªåœºæ™¯ï¼Œä»¥ä¾¿åé¢æ¥æ“ä½œå§ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ç†Ÿæ‚‰Unityç•Œé¢&quot;&gt;&lt;a href=&quot;#ç†Ÿæ‚‰Unityç•Œé¢&quot; class=&quot;headerlink&quot; title=&quot;ç†Ÿæ‚‰Unityç•Œé¢&quot;&gt;&lt;/a&gt;ç†Ÿæ‚‰Unityç•Œé¢&lt;/h1&gt;&lt;p&gt;â€‹    é¦–å…ˆåœ¨å¼€å§‹ä¹‹å‰è¯´ä¸€ä¸‹æˆ‘æ‰€ä½¿ç”¨çš„Unityç‰ˆæœ¬ï¼Œæˆ‘ç›®å‰æ‰€å®‰è£…çš„Unityæ˜¯2</summary>
      
    
    
    
    <category term="Unityå­¦ä¹ ç¬”è®°" scheme="http://sakura-pub.ltd/categories/Unity%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Unity" scheme="http://sakura-pub.ltd/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºæˆ‘</title>
    <link href="http://sakura-pub.ltd/%E8%AE%B0%E4%BA%8B/%E5%85%B3%E4%BA%8E%E6%88%91/"/>
    <id>http://sakura-pub.ltd/%E8%AE%B0%E4%BA%8B/%E5%85%B3%E4%BA%8E%E6%88%91/</id>
    <published>2021-05-31T12:28:23.000Z</published>
    <updated>2021-06-02T08:02:05.015Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å…³äºè¿™ä¸ªåšå®¢çš„ä¸€äº›äº‹ğŸ¥"><a href="#å…³äºè¿™ä¸ªåšå®¢çš„ä¸€äº›äº‹ğŸ¥" class="headerlink" title="å…³äºè¿™ä¸ªåšå®¢çš„ä¸€äº›äº‹ğŸ¥"></a>å…³äºè¿™ä¸ªåšå®¢çš„ä¸€äº›äº‹ğŸ¥</h1><p>â€‹    å½“åˆåˆ›å»ºè¿™ä¸ªåšå®¢çš„ç›®çš„æ˜¯æƒ³ç€è®°å½•è‡ªå·±åœ¨å¤§å­¦ç”Ÿæ´»ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜æˆ–è€…å­¦ä¹ ç¬”è®°ç­‰ï¼Œå¹³æ—¶ä¹Ÿçœ‹äº†ä¸å°‘åˆ«äººçš„ä¸ªäººåšå®¢ï¼Œäºæ˜¯å¿ƒè¡€æ¥æ½®å°±æƒ³è‡ªå·±ä¹Ÿåˆ›ä¸€ä¸ªå±äºè‡ªå·±çš„ä¸ªäººåšå®¢ã€‚</p><p>â€‹    åˆšå¼€å§‹æˆ‘ä¾¿å»æŸ¥æ‰¾æœ‰ä»€ä¹ˆåšå®¢å¹³å°ï¼Œå› ä¸ºæˆ‘å–œæ¬¢è‡ªå·±è‡ªå®šä¹‰ç•Œé¢çš„æ–¹å¼ï¼Œä¾¿æ‰¾åˆ°äº†å¯ä»¥åˆ©ç”¨GitHubæ¥åšä¸€ä¸ªåšå®¢æ–¹å¼ï¼Œå³ï¼š<a href="https://hexo.io/zh-cn/">hexo</a> ã€‚ä¹‹åæˆ‘ä¾¿è·Ÿç€æ•™ç¨‹å¼€å§‹æ­å»ºï¼Œä¹Ÿå‘ç°äº†ä¸€äº›å¾ˆå¥½çœ‹çš„ä¸»é¢˜ï¼Œæˆ‘ç°åœ¨ç”¨çš„è¿™ä¸ªä¸»é¢˜æ˜¯<a href="https://butterfly.js.org/">butterfly</a>ï¼ˆ<a href="https://github.com/jerryc127/hexo-theme-butterfly/tree/dev">GitHubåœ°å€</a>ï¼‰ã€‚ä¹‹åç ”ç©¶ç¾åŒ–ç•Œé¢åˆèŠ±äº†å¥½ä¸€äº›æ—¶é—´ï¼Œä¸è¿‡åœ¨å¼„è¿™äº›ä¸œè¥¿çš„æ—¶å€™æˆ‘éƒ½è§‰å¾—å¾ˆæ»¡è¶³ï¼Œçœ‹ç€å±äºè‡ªå·±çš„åšå®¢æ…¢æ…¢å¼€å§‹æ­å»ºèµ·æ¥ï¼Œä¸€è‚¡æˆå°±æ„Ÿå°±ä¸Šæ¥äº†ï¼Œè€Œä¸”åœ¨å…¶ä¸­ä¹Ÿæ¥è§¦åˆ°äº†è®¸å¤šä¹‹å‰æ²¡æœ‰é‡åˆ°è¿‡çš„çŸ¥è¯†ã€‚</p><p>â€‹    å¼„å¥½åšå®¢çš„åŸºæœ¬æ¡†æ¶åï¼Œæ‰æ˜¯çœŸæ­£çš„å¼€å§‹ï¼Œå¸Œæœ›æœ‰ä¸€ä¸ªåšå®¢ä¹‹åï¼Œèƒ½å¤Ÿå¯¹æˆ‘è‡ªå·±æœ‰æ›´å¥½çš„å¸®åŠ©ï¼Œå¯ä»¥æ›´å¥½åœ°å»æ€»ç»“çŸ¥è¯†ç‚¹ï¼Œä¹Ÿå¸Œæœ›å¯ä»¥åˆ†äº«ä¸€äº›çŸ¥è¯†ç»™è§‚çœ‹åšå®¢çš„ä½ ğŸ˜€ã€‚</p><h1 id="å…³äºæˆ‘çš„ä¸€äº›äº‹"><a href="#å…³äºæˆ‘çš„ä¸€äº›äº‹" class="headerlink" title="å…³äºæˆ‘çš„ä¸€äº›äº‹"></a>å…³äºæˆ‘çš„ä¸€äº›äº‹</h1><p>â€‹    å¾…æ›´æ–°â€¦â€¦.ğŸ’¨</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å…³äºè¿™ä¸ªåšå®¢çš„ä¸€äº›äº‹ğŸ¥&quot;&gt;&lt;a href=&quot;#å…³äºè¿™ä¸ªåšå®¢çš„ä¸€äº›äº‹ğŸ¥&quot; class=&quot;headerlink&quot; title=&quot;å…³äºè¿™ä¸ªåšå®¢çš„ä¸€äº›äº‹ğŸ¥&quot;&gt;&lt;/a&gt;å…³äºè¿™ä¸ªåšå®¢çš„ä¸€äº›äº‹ğŸ¥&lt;/h1&gt;&lt;p&gt;â€‹    å½“åˆåˆ›å»ºè¿™ä¸ªåšå®¢çš„ç›®çš„æ˜¯æƒ³ç€è®°å½•è‡ªå·±åœ¨å¤§å­¦ç”Ÿæ´»ä¸­é‡</summary>
      
    
    
    
    <category term="è®°äº‹" scheme="http://sakura-pub.ltd/categories/%E8%AE%B0%E4%BA%8B/"/>
    
    
    <category term="è®°äº‹" scheme="http://sakura-pub.ltd/tags/%E8%AE%B0%E4%BA%8B/"/>
    
    <category term="Markdown" scheme="http://sakura-pub.ltd/tags/Markdown/"/>
    
  </entry>
  
</feed>
